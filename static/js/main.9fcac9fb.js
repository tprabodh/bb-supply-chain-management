/*! For license information please see main.9fcac9fb.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:s}=n,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const o=e[r];a?"\\"===o&&r+1<n?(r++,i+=e[r]):o===a?a="":i+=o:s?'"'===o||"'"===o?a=o:"]"===o?(s=!1,t.push(i),i=""):i+=o:"["===o?(s=!0,i&&(t.push(i),i="")):"."===o?i&&(t.push(i),i=""):i+=o,r++}return i&&t.push(i),t}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(870),a=n(4803),s=n(9972);function o(e,t,n,r){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let s=0;s<i.length;s++){const o=i[s];if(!a.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,r);case"function":return Object.keys(t).length>0?o(e,{...t},n,r):s.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],s,a,e,t,r)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?r.isMatch(e,t):o(e,t,function e(t,r,i,a,s,l){const c=n(t,r,i,a,s,l);return void 0!==c?Boolean(c):o(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=n.length;return o>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),s=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),s=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&s.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function C(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return C((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+j(e,0):a,w(s)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),C(s,t,i,"",function(e){return e})):null!=s&&(_(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+u,s=E(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=C(a=e[m],t,i,o=p+j(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=C(a=a.value,t,i,o=p+j(a,m++),s);else if("object"===o){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,I)}catch(a){I(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const s=null!=i&&i.includes("leading"),o=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(r?.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},r?.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),s=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),o=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return x(e)===i}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),s=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==e?.[t]?s.toPath(t):[t],0===n.length)return!1;let o=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||a.isArguments(o))&&i.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,s){if(null==e)return[];n=s?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,s,o)=>{const l=t?.(n,a,s,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(e?.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&I(k,t.startTime-e)}}var S,E=!1,_=-1,N=5,j=-1;function T(){return!!y||!(t.unstable_now()-j<N)}function C(){if(y=!1,E){var e=t.unstable_now();j=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var a=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&I(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof x)S=function(){x(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=C,S=function(){O.postMessage(null)}}else S=function(){v(C,0)};function I(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,I(k,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),s=n(4803),o=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=u?.(e,t,n,r);if(void 0!==d)return d;if(s.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<s.length;r++){const o=s[r],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),a=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var P=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=L[F],L[F]=null,F--)}function $(e,t){F++,L[F]=e.current,e.current=t}var V=U(null),B=U(null),q=U(null),H=U(null);function K(e,t){switch($(q,t),$(B,e),$(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(V),$(V,e)}function W(){z(V),z(B),z(q)}function G(e){null!==e.memoizedState&&$(H,e);var t=V.current,n=ad(t,e.type);t!==n&&($(B,e),$(V,n))}function Q(e){B.current===e&&(z(V),z(B)),H.current===e&&(z(H),Gd._currentValue=R)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ve(r):0!==(s&=o)?i=ve(s):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~a)?i=ve(o):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,Pe="__reactProps$"+Oe,De="__reactContainer$"+Oe,Me="__reactEvents$"+Oe,Re="__reactListeners$"+Oe,Le="__reactHandles$"+Oe,Fe="__reactResources$"+Oe,Ue="__reactMarker$"+Oe;function ze(e){delete e[Ie],delete e[Pe],delete e[Me],delete e[Re],delete e[Le]}function $e(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ie])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Ie]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ue]=!0}var Ke=new Set,We={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(P(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Pt=null;function Dt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Pe]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Rt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==It||null!==Pt)&&($c(),It&&(t=It,e=Pt,Pt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Ph){Ut=!1}var $t=null,Vt=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,n=Vt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Gt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),an=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Sn,_n=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),Nn=String.fromCharCode(32),jn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Pn(e,t,n,r){It?Pt?Pt.push(r):Pt=[r]:It=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function Rn(e){Ru(e,0)}function Ln(e){if(ht(Be(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var zn;if(Ft){var $n="oninput"in document;if(!$n){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),$n="function"===typeof Vn.oninput}zn=$n}else zn=!1;Un=zn&&(!document.documentMode||9<document.documentMode)}function Bn(){Dn&&(Dn.detachEvent("onpropertychange",qn),Mn=Dn=null)}function qn(e){if("value"===e.propertyName&&Ln(Mn)){var t=[];Pn(t,Mn,e,Ot(e)),Rt(Rn,t)}}function Hn(e,t,n){"focusin"===e?(Bn(),Mn=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Bn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Mn)}function Wn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=qu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Nr=0,jr=0;function Tr(){for(var e=Nr,t=jr=Nr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var i=_r[t];_r[t++]=null;var a=_r[t];if(_r[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Ir(n,i,a)}}function Cr(e,t,n,r){_r[Nr++]=e,_r[Nr++]=t,_r[Nr++]=n,_r[Nr++]=r,jr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Cr(e,t,n,r),Pr(e)}function Or(e,t){return Cr(e,null,null,t),Pr(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Pr(e){if(50<Ic)throw Ic=0,Pc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Mr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Rr(31,n,t,i)).elementType=j,e.lanes=a,e;case g:return $r(n.children,i,a,t);case y:o=8,i|=24;break;case v:return(e=Rr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=Rr(13,n,t,i)).elementType=S,e.lanes=a,e;case E:return(e=Rr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case k:o=11;break e;case _:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $r(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Kr=null,Wr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Hr++]=Wr,qr[Hr++]=Kr,Kr=e,Wr=t}function ei(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-fe(t)+i|n<<i|r,Jr=a+e}else Xr=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=qr[--Hr],qr[Hr]=null,Wr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ci(e){throw mi(Er(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ie]=e,t[Pe]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Lu(Du[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=U(null),yi=null,vi=null;function bi(e,t,n){$(gi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=gi.current,z(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wi(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return Ti(yi,e)}function ji(e,t){return null===yi&&_i(e),Ti(e,t)}function Ti(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ci="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ai=r.unstable_scheduleCallback,Oi=r.unstable_NormalPriority,Ii={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Ci,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ai(Oi,function(){e.controller.abort()})}var Mi=null,Ri=0,Li=0,Fi=null;function Ui(){if(0===--Ri&&null!==Mi){null!==Fi&&(Fi.status="fulfilled");var e=Mi;Mi=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Ri=0,Li=Cu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ri++,t.then(Ui,Ui)}(0,t),null!==zi&&zi(e,t)};var $i=U(null);function Vi(){var e=$i.current;return null!==e?e:rc.pooledCache}function Bi(e,t){$($i,null===t?$i.current:t.pool)}function qi(){var e=Vi();return null===e?null:{parent:Ii._currentValue,pool:e}}var Hi=Error(s(460)),Ki=Error(s(474)),Wi=Error(s(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Zi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function ea(e){if(e===Hi||e===Wi)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Ir(e,null,n),t}return Cr(e,r,t,n),Pr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Fi)throw Fi}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Li&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ta=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=U(null),pa=U(0);function ma(e,t){$(pa,e=dc),$(fa,t),dc=e|t.baseLanes}function ga(){$(pa,dc),$(fa,fa.current)}function ya(){dc=pa.current,z(fa),z(pa)}var va=0,ba=null,xa=null,wa=null,ka=!1,Sa=!1,Ea=!1,_a=0,Na=0,ja=null,Ta=0;function Ca(){throw Error(s(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Oa(e,t,n,r,i,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Hs:Ks,Ea=!1,a=n(r,i),Ea=!1,Sa&&(a=Pa(t,n,r,i)),Ia(e),a}function Ia(e){D.H=qs;var t=null!==xa&&null!==xa.next;if(va=0,wa=xa=ba=null,ka=!1,Na=0,ja=null,t)throw Error(s(300));null===e||jo||null!==(e=e.dependencies)&&Ei(e)&&(jo=!0)}function Pa(e,t,n,r){ba=e;var i=0;do{if(Sa&&(ja=null),Na=0,Sa=!1,25<=i)throw Error(s(301));if(i+=1,wa=xa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=Ws,a=t(n,r)}while(Sa);return a}function Da(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?za(t):t,e=e.useState()[0],(null!==xa?xa.memoizedState:null)!==e&&(ba.flags|=1024),t}function Ma(){var e=0!==_a;return _a=0,e}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}va=0,wa=xa=ba=null,Sa=!1,Na=_a=0,ja=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?ba.memoizedState=wa=e:wa=wa.next=e,wa}function Ua(){if(null===xa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=xa.next;var t=null===wa?ba.memoizedState:wa.next;if(null!==t)wa=t,xa=e;else{if(null===e){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(xa=e).memoizedState,baseState:xa.baseState,baseQueue:xa.baseQueue,queue:xa.queue,next:null},null===wa?ba.memoizedState=wa=e:wa=wa.next=e}return wa}function za(e){var t=Na;return Na+=1,null===ja&&(ja=[]),e=Xi(ja,e,t),t=ba,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Hs:Ks),e}function $a(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return za(e);if(e.$$typeof===w)return Ni(e)}throw Error(s(438,String(e)))}function Va(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function Ba(e,t){return"function"===typeof t?t(e):t}function qa(e){return Ha(Ua(),xa,e)}function Ha(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(va&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((va&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ba.lanes|=f,fc|=f}h=u.action,Ea&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,ba.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Qn(a,e.memoizedState)&&(jo=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=Ua(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Qn(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Wa(e,t,n){var r=ba,i=Ua(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Qn((xa||i).memoizedState,n);if(o&&(i.memoizedState=n,jo=!0),i=i.queue,gs(2048,8,Ya.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==wa&&1&wa.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));a||0!==(124&va)||Ga(r,t,n)}return n}function Ga(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,Xa(t)&&Ja(e)}function Ya(e,t,n){return n(function(){Xa(t)&&Ja(e)})}function Xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ja(e){var t=Or(e,2);null!==t&&Rc(t,e,2)}function Za(e){var t=Fa();if("function"===typeof e){var n=e;if(e=n(),Ea){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ha(e,xa,"function"===typeof r?r:Ba)}function ts(e,t,n,r,i){if($s(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=n(i,r),l=D.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){as(e,t,c)}finally{D.T=a}}else try{rs(e,t,a=n(i,r))}catch(u){as(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return as(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Fs.bind(null,ba,r),r.dispatch=n,r=Za(!1),a=zs.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fa()).queue=i,n=ts.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Ua(),xa,e)}function us(e,t,n){if(t=Ha(e,t,os)[0],e=qa(Ba)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=za(t)}catch(s){if(s===Hi)throw Wi;throw s}else r=t;var i=(t=Ua()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function hs(e){var t=Ua(),n=xa;if(null!==n)return us(t,n,e);Ua(),t=t.memoizedState;var r=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Ua().memoizedState}function ms(e,t,n,r){var i=Fa();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=Ua();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==xa&&null!==r&&Aa(r,xa.memoizedState.deps)?i.memoizedState=fs(t,a,n,r):(ba.flags|=e,i.memoizedState=fs(1|t,a,n,r))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function xs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function Ss(){}function Es(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _s(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Aa(t,r[1]))return r[0];if(r=e(),Ea){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ns(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),ba.lanes|=e,fc|=e,n)}function js(e,t,n,r){return Qn(n,t)?n:null!==fa.current?(e=Ns(e,n,r),Qn(e,t)||(jo=!0),e):0===(42&va)?(jo=!0,e.memoizedState=n):(e=Mc(),ba.lanes|=e,fc|=e,t)}function Ts(e,t,n,r,i){var a=M.p;M.p=0!==a&&8>a?a:8;var s=D.T,o={};D.T=o,zs(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Us(e,t,r,Dc())}catch(u){Us(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{M.p=a,D.T=s}}function Cs(){}function As(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Os(e).queue;Ts(e,i,t,R,null===n?Cs:function(){return Is(e),n(r)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Is(e){Us(e,Os(e).next.queue,{},Dc())}function Ps(){return Ni(Gd)}function Ds(){return Ua().memoizedState}function Ms(){return Ua().memoizedState}function Rs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=aa(t,e=ia(n),n);return null!==r&&(Rc(r,t,n),sa(r,t,n)),t={cache:Pi()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e)?Vs(t,n):null!==(n=Ar(e,t,n,r))&&(Rc(n,e,r),Bs(n,t,r))}function Fs(e,t,n){Us(e,t,n,Dc())}function Us(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Vs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Cr(e,t,i,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Ar(e,t,i,r)))return Rc(n,e,r),Bs(n,t,r),!0}return!1}function zs(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Rc(t,e,2)}function $s(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Vs(e,t){Sa=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var qs={readContext:Ni,use:$a,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useLayoutEffect:Ca,useInsertionEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useSyncExternalStore:Ca,useId:Ca,useHostTransitionStatus:Ca,useFormState:Ca,useActionState:Ca,useOptimistic:Ca,useMemoCache:Ca,useCacheRefresh:Ca},Hs={readContext:Ni,use:$a,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Fa();t=void 0===t?null:t;var r=e();if(Ea){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fa();if(void 0!==n){var i=n(t);if(Ea){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ls.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=Fs.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(e,t){return Ns(Fa(),e,t)},useTransition:function(){var e=Za(!1);return e=Ts.bind(null,ba,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Fa();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ac)||Ga(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ys(Ya.bind(null,r,a,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,a,n,t),null),n},useId:function(){var e=Fa(),t=rc.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ta++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zs.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return Fa().memoizedState=Rs.bind(null,ba)}},Ks={readContext:Ni,use:$a,useCallback:Es,useContext:Ni,useEffect:vs,useImperativeHandle:ks,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:_s,useReducer:qa,useRef:ps,useState:function(){return qa(Ba)},useDebugValue:Ss,useDeferredValue:function(e,t){return js(Ua(),xa.memoizedState,e,t)},useTransition:function(){var e=qa(Ba)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:za(e),t]},useSyncExternalStore:Wa,useId:Ds,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Ua(),0,e,t)},useMemoCache:Va,useCacheRefresh:Ms},Ws={readContext:Ni,use:$a,useCallback:Es,useContext:Ni,useEffect:vs,useImperativeHandle:ks,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:_s,useReducer:Ka,useRef:ps,useState:function(){return Ka(Ba)},useDebugValue:Ss,useDeferredValue:function(e,t){var n=Ua();return null===xa?Ns(n,e,t):js(n,xa.memoizedState,e,t)},useTransition:function(){var e=Ka(Ba)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:za(e),t]},useSyncExternalStore:Wa,useId:Ds,useHostTransitionStatus:Ps,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Ua();return null!==xa?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:Ms},Gs=null,Qs=0;function Ys(e){var t=Qs;return Qs+=1,null===Gs&&(Gs=[]),Xi(Gs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Zs(a)===t.type)?(Xs(t=i(t,n.props),n),t.return=e,t):(Xs(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=$r(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xs(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Br(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||A(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ys(t),n);if(t.$$typeof===w)return h(e,ji(e,t),n);Js(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,n=(i=n._init)(n._payload),r)}if(P(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ys(n),r);if(n.$$typeof===w)return f(e,t,ji(e,n),r);Js(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(P(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ys(r),i);if(r.$$typeof===w)return y(e,t,n,ji(t,r),i);Js(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&Zs(b)===c.type){n(l,c.sibling),Xs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=$r(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Br(u,l.mode,d)).return=l,l=d}return o(l);case N:return v(l,c,u=(b=u._init)(u._payload),d)}if(P(u))return function(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),ai&&Zr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return ai&&Zr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),ai&&Zr(i,p),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),ai&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,m),null===d?u=v:d.sibling=v,d=v);return ai&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=a(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),ai&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ys(u),d);if(u.$$typeof===w)return v(l,c,ji(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var i=v(e,t,n,r);return Gs=null,i}catch(s){if(s===Hi||s===Wi)throw s;var a=Rr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=U(null),io=null;function ao(e){var t=e.alternate;$(co,1&co.current),$(ro,e),null===io&&(null===t||null!==fa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if($(co,co.current),$(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){$(co,co.current),$(ro,ro.current)}function lo(e){z(ro),io===e&&(io=null),z(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Rc(t,e,n),sa(t,e,n))}};function po(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,a))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function Eo(e){return(e=ia(e)).tag=3,e}function _o(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ko(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var No=Error(s(461)),jo=!1;function To(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Co(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return _i(t),r=Oa(e,t,n,s,a,i),o=Ma(),null===e||jo?(ai&&o&&ti(t),t.flags|=1,To(e,t,r,i),t.child):(Ra(e,t,i),Qo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Oo(e,t,a,r,i))}if(a=e.child,!Yo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(jo=!1,t.pendingProps=r=a,!Yo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(jo=!0)}}return Mo(e,t,n,r,i)}function Io(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Po(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Po(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),so(t)}else null!==a?(Bi(0,a.cachePool),ma(t,a),oo(),t.memoizedState=null):(null!==e&&Bi(0,null),ga(),oo());return To(e,t,i,n),t.child}function Po(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Ii._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Bi(0,null),ga(),so(t),null!==e&&Si(e,t,r,!0),null}function Do(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mo(e,t,n,r,i){return _i(t),n=Oa(e,t,n,r,void 0,i),r=Ma(),null===e||jo?(ai&&r&&ti(t),t.flags|=1,To(e,t,n,i),t.child):(Ra(e,t,i),Qo(e,t,i))}function Ro(e,t,n,r,i,a){return _i(t),t.updateQueue=null,n=Pa(t,r,n,i),Ia(e),r=Ma(),null===e||jo?(ai&&r&&ti(t),t.flags|=1,To(e,t,n,a),t.child):(Ra(e,t,a),Qo(e,t,a))}function Lo(e,t,n,r,i){if(_i(t),null===t.stateNode){var a=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Ni(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Ni(s):Dr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=Ni(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&mo(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ta||po(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=go(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ni(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var f=t.memoizedState;s!==d||h!==f||ta||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ta||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Do(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):To(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,To(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:qi()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,a?(oo(),c=qo({mode:"hidden",children:c},a=t.mode),i=$r(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=zo(n),a.childLanes=$o(e,r,n),t.memoizedState=Uo,i):(ao(t),Bo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),(a=$r(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=zo(n),i.childLanes=$o(e,r,n),t.memoizedState=Uo,t=a);else if(ao(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ho(e,t,n)}else if(jo||Si(e,t,n,!1),r=0!==(n&e.childLanes),jo||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Te(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Or(e,i),Rc(r,e,i),No;"$?"===c.data||Wc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=Bo(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Fr(u,a):(a=$r(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=zo(n):(null!==(l=c.cachePool)?(u=Ii._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=$o(e,r,n),t.memoizedState=Uo,i):(ao(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Bo(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Wo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(To(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,a);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)jo=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return jo=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Ii,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(ao(t),null!==(e=Qo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),$(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,n);case 24:bi(0,Ii,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);jo=0!==(131072&e.flags)}else jo=!1,ai&&0!==(1048576&t.flags)&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=Co(null,t,r,e,n);break e}if(i===_){t.tag=14,t=Ao(null,t,r,e,n);break e}}throw t=I(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Mo(null,t,r,e,n))}return t;case 0:return Mo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Ii,r),r!==a.cache&&ki(t,[Ii],n,!0),ca(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(s(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 26:return Do(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Ie]=t,r[Pe]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ai&&(r=t.stateNode=xd(t.type,t.pendingProps,q.current),ri=t,oi=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),To(e,t,t.pendingProps.children,n),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,sd(i,a)?r=null:null!==o&&sd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Oa(e,t,Da,null,null,n),Gd._currentValue=i),Do(e,t),To(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):To(e,t,r,n),t.child;case 11:return Co(e,t,t.type,t.pendingProps,n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),To(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_i(t),r=r(i=Ni(i)),t.flags|=1,To(e,t,r,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Io(e,t,n);case 24:return _i(t),r=Ni(Ii),null===e?(null===(i=Vi())&&(i=rc,a=Pi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Ii,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ii,r)):(r=a.cache,bi(0,Ii,r),r!==i.cache&&ki(t,[Ii],n,!0))),To(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw Ji=Gi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xi(Ii),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=xd(i,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ie]=t,e[Pe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Ie]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ie]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return xi(t.type),nl(t),null;case 19:if(z(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return $(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,$(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z($i),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Ii),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Ii),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(co),null;case 4:return W(),null;case 10:return xi(t.type),null;case 22:case 23:return lo(t),ya(),null!==e&&z($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Ii),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:xi(Ii),W();break;case 26:case 27:case 5:Q(t);break;case 4:W();break;case 13:lo(t);break;case 19:z(co);break;case 10:xi(t.type);break;case 22:case 23:lo(t),ya(),null!==e&&z($i);break;case 24:xi(Ii)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Ju(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Ju(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Ju(e,t,o,i,r,a)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Pe]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Ie]=e,t[Pe]=n}catch(a){uu(e,e.return,a)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,i=bl;var a=xl;bl=r,(xl=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,xl=a}break;case 30:break;default:Ll(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,jl=!1;function Tl(e,t,n){for(n=n.child;null!==n;)Cl(e,t,n),n=n.sibling}function Cl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:xl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Nl,i=jl;fd(n.type)&&(Nl=n.stateNode,jl=!1),Tl(e,t,n),wd(n.stateNode),Nl=r,jl=i;break;case 5:xl||dl(n,t);case 6:if(r=Nl,i=jl,Nl=null,Tl(e,t,n),jl=i,null!==(Nl=r))if(jl)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Nl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Nl&&(jl?(pd(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jh(e)):pd(Nl,n.stateNode));break;case 4:r=Nl,i=jl,Nl=n.stateNode.containerInfo,jl=!0,Tl(e,t,n),Nl=r,jl=i;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Tl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Tl(e,t,n),xl=r;break;default:Tl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{jh(e)}catch(n){uu(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Il(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Nl=l.stateNode,jl=!1;break e}break;case 5:Nl=l.stateNode,jl=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,jl=!0;break e}l=l.return}if(null===Nl)throw Error(s(160));Cl(a,o,i),Nl=null,jl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Pl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Il(t,e),Ml(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Pl;if(Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ue]||a[Ie]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Ie]=e,He(a),r=a;break e;case"link":var o=Ud("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Ie]=e,He(a),r=a}e.stateNode=r}else zd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?zd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Il(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Il(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,i=Pl,Pl=Ed(t.containerInfo),Il(t,e),Pl=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jh(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:r=Pl,Pl=Ed(e.stateNode.containerInfo),Il(t,e),Ml(e),Pl=r;break;case 12:default:Il(t,e),Ml(e);break;case 13:Il(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||i,xl=d||c,Il(t,e),xl=d,bl=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ol(e,n))));break;case 19:Il(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),yl(e,ml(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(i,a,n),sl(4,a);break;case 1:if(Ul(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:vl(a);case 26:case 5:Ul(i,a,n),n&&null===r&&4&s&&hl(a),ul(a,a.return);break;case 12:Ul(i,a,n);break;case 13:Ul(i,a,n),n&&4&s&&Al(i,a);break;case 22:null===a.memoizedState&&Ul(i,a,n),ul(a,a.return);break;case 30:break;default:Ul(i,a,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t,n,r),t=t.sibling}function Bl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Vl(e,t,n,r):Hl(e,t):2&a._visibility?Vl(e,t,n,r):(a._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(s,t);break;case 24:Vl(e,t,n,r),2048&i&&$l(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:ql(a,s,o,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?ql(a,s,o,l,i):Hl(a,s):(u._visibility|=2,ql(a,s,o,l,i)),i&&2048&c&&zl(s.alternate,s);break;case 24:ql(a,s,o,l,i),i&&2048&c&&$l(s.alternate,s);break;default:ql(a,s,o,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Hl(n,r),2048&i&&$l(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Cd(n.href),a=e.querySelector(Ad(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void He(a);a=e.ownerDocument||e,n=Od(n),(i=kd.get(i))&&Rd(n,i),He(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Pl;Pl=Ed(e.stateNode.containerInfo),Wl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,a=r.return;if(_l(r),r===n){Sl=null;break e}if(null!==i){i.return=a,Sl=i;break e}Sl=a}}}var ec={getCacheForType:function(e){var t=Ni(Ii),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,kc=1/0,Sc=null,Ec=null,_c=0,Nc=null,jc=null,Tc=0,Cc=0,Ac=null,Oc=null,Ic=0,Pc=null;function Dc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==D.T){return 0!==Li?Li:Cu()}return Ae()}function Mc(){0===gc&&(gc=0===(536870912&ac)||ai?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Bc(e,0),zc(e,ac,gc,!1)),_e(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,ac,gc,!1)),ku(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=Kc();rc!==e||ac!==t?(Sc=null,kc=te()+500,Bc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var a=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,a,1);break;case 2:case 9:if(Qi(a)){sc=0,oc=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),ku(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(a)?(sc=0,oc=null,Jc(t)):(sc=0,oc=null,Zc(e,t,a,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||$d(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,oc=null,Zc(e,t,a,5);break;case 6:sc=0,oc=null,Zc(e,t,a,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){qc(e,d)}return vi=yi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Tr(),hc)}(e,t):Gc(e,t,!0),a=r;;){if(0===i){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Uc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){Bc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Sc,xc,t,gc,pc,yc,lc,a,2,-0,0),i)}else Fc(r,n,bc,Sc,xc,t,gc,pc,yc,lc,a,0,-0,0)}break}i=Gc(e,t,!1),a=!1}ku(e)}function Fc(e,t,n,r,i,a,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Bd},Gl(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,r,i,o,l,c,d,1,f,p)),void zc(e,a,o,!u);nu(e,t,a,n,r,i,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Ne(e,n,t)}function $c(){return 0!==(6&nc)||(Su(0,!1),!1)}function Vc(){if(null!==ic){if(0===sc)var e=ic.return;else vi=yi=null,La(e=ic),Gs=null,Qs=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function Bc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=Fr(e.current,null),ac=t,sc=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Tr(),n}function qc(e,t){ba=null,D.H=qs,t===Hi||t===Wi?(t=Zi(),sc=3):t===Ki?(t=Zi(),sc=4):sc=t===No?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,wo(e,Er(t,e.current)))}function Hc(){var e=D.H;return D.H=qs,null===e?qs:e}function Kc(){var e=D.A;return D.A=ec,e}function Wc(){hc=4,lc||(4194048&ac)!==ac&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,ac,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Hc(),a=Kc();rc===e&&ac===t||(Sc=null,Bc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var o=ic,l=oc;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Qc(),s=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,D.H=i,D.A=a,null===ic&&(rc=null,ac=0,Tr()),s}function Qc(){for(;null!==ic;)Xc(ic)}function Yc(){for(;null!==ic&&!Z();)Xc(ic)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ro(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ro(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=Xo(n,t=ic=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,La(t),Gs=null,Qs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Wc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Wc(),!1}if(ai)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),oa(e,i=So(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(s(520),{cause:r});if(a=Er(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Ec||!Ec.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,_o(i=Eo(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,wo(e,Er(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,wo(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==_c);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=jr,o,l,c),e===rc&&(ic=rc=null,ac=0),jc=t,Nc=e,Tc=n,Cc=a,Ac=i,Oc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=M.p,M.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(a=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,M.p=i,D.T=r}}_c=1,ru(),iu(),au()}}function ru(){if(1===_c){_c=0;var e=Nc,t=jc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Dl(t,e);var a=nd,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=i,M.p=r,D.T=n}}e.current=t,_c=2}}function iu(){if(2===_c){_c=0;var e=Nc,t=jc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=i,M.p=r,D.T=n}}_c=3}}function au(){if(4===_c||3===_c){_c=0,ee();var e=Nc,t=jc,n=Tc,r=Oc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,jc=Nc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),Ce(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,M.p=i}}0!==(3&Tc)&&ou(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Pc?Ic++:(Ic=0,Pc=e):Ic=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function ou(e){return ru(),iu(),au(),lu()}function lu(){if(5!==_c)return!1;var e=Nc,t=Cc;Cc=0;var n=Ce(Tc),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Ac,Ac=null;var a=Nc,o=Tc;if(_c=0,jc=Nc=null,Tc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(a.current),Bl(a,a.current,o,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{M.p=i,D.T=r,su(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=aa(e,t=So(e.stateNode,t,2),2))&&(_e(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=aa(t,n=Eo(2),2))&&(_o(n,r,t,e),_e(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-wc?0===(2&nc)&&Bc(e,0):mc|=n,yc===ac&&(yc=0)),ku(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Or(e,t))&&(_e(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,Eu):_u()}))}function Su(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Tu(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,a)||(n=!0,Tu(r,a));r=r.next}}while(n);xu=!1}}function Eu(){_u()}function _u(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,a=Nu(r,t);0===a?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=i}Su(e,!1)}function Nu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-fe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ce(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=ju.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function ju(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Nu(e,te()),null!=e.callbackNode&&e.callbackNode===n?ju.bind(null,e):null)}function Tu(e,t){if(ou())return null;Lc(e,t,!0)}function Cu(){return 0===wu&&(wu=ke()),wu}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Iu=0;Iu<wr.length;Iu++){var Pu=wr[Iu];kr(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){yo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){yo(u)}i.currentTarget=null,a=l}}}}function Lu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function $u(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=$e(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Rt(function(){var r=a,i=Ot(n),s=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Bu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[De])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Be(c),p=null==u?o:Be(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,$e(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=r?Be(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(In(o))if(Un)y=Gn;else{y=Kn;var v=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Nt(r.elementType)&&(y=Fn):y=Wn;switch(y&&(y=y(e,r))?Pn(s,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Be(r):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?Tn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(_n&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(b=qt()):(Vt="value"in($t=i)?$t.value:$t.textContent,An=!0)),0<(v=qu(r,x)).length&&(x=new cn(x,e,null,n,i),s.push({event:x,listeners:v}),b?x.data=b:null!==(b=Cn(n))&&(x.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return Cn(t);case"keypress":return 32!==t.which?null:(jn=!0,Nn);case"textInput":return(e=t.data)===Nn&&jn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!kn&&Tn(e,t)?(e=qt(),Bt=Vt=$t=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Au((i[Pe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Pe]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Ou(i,s):new FormData(i);As(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Ou(i,s):new FormData(i),As(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Ru(s,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(Bu(e,i,a)),null!=(i=Lt(e,t))&&r.push(Bu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,a))&&s.unshift(Bu(n,c,l)):i||null!=(c=Lt(n,a))&&s.push(Bu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=jt.get(n)||n,r)}}function Zu(e,t,n,r,i,a){switch(n){case"style":_t(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Pe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,o,n,null)}}return a&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,a,!1),void dt(e);case"select":for(a in Lu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Ju(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Lu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Lu(Du[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wd(s.documentElement),2&n&&wd(s.body),4&n)for(wd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void jh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);jh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var kd=new Map,Sd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=M.d;M.d={f:function(){var e=_d.f(),t=$c();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Is(t):_d.r(e)},D:function(e){_d.D(e),jd("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),jd("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Nd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Cd(e);break;case"script":a=Id(e)}kd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Pd(a))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Nd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Id(e)}if(!kd.has(a)&&(e=h({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pd(a)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Nd;if(n&&e){var r=qe(n).hoistableScripts,i=Id(e),a=r.get(i);a||((a=n.querySelector(Pd(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Ld(e,t),He(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){_d.S(e,t,n);var r=Nd;if(r&&e){var i=qe(r).hoistableStyles,a=Cd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ad(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Rd(e,n);var l=s=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Md(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){_d.M(e,t);var n=Nd;if(n&&e){var r=qe(n).hoistableScripts,i=Id(e),a=r.get(i);a||((a=n.querySelector(Pd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Ld(e,t),He(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Nd="undefined"===typeof document?null:document;function jd(e,t,n){var r=Nd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var i,a,o,l,c=(c=q.current)?Ed(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Cd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Cd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",o),He(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Id(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Id(e){return'[src="'+mt(e)+'"]'}function Pd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Cd(n.href);var a=e.querySelector(Ad(i));if(a)return t.state.loading|=4,t.instance=a,He(a),a;r=Od(n),(i=kd.get(i))&&Rd(r,i),He(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(a,"link",r),t.state.loading|=4,Md(a,n.precedence,e),t.instance=a;case"script":return a=Id(n.src),(i=e.querySelector(Pd(a)))?(t.instance=i,He(i),i):(r=n,(i=kd.get(a))&&Ld(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ue]||a[Ie]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Bd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Wd,e),Hd=null,qd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Qd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Qd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=Rr(3,null,null,t),e.current=a,a.stateNode=e,(t=Pi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Xd(e){return e?e=Dr:Dr}function Jd(e,t,n,r,i,a){i=Xd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Rc(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=2,ah(e,t,n,r)}finally{M.p=a,D.T=i}}function ih(e,t,n,r){var i=D.T;D.T=null;var a=M.p;try{M.p=8,ah(e,t,n,r)}finally{M.p=a,D.T=i}}function ah(e,t,n,r){if(nh){var i=sh(r);if(null===i)Vu(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ph.set(a,bh(ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var a=Ve(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ve(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}ku(a),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(o=Or(a,2))&&Rc(o,0,2),$c(),eh(a,2)}if(null===(a=sh(r))&&Vu(e,t,r,oh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sh(e){return lh(e=Ot(e))}var oh=null;function lh(e){if(oh=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xh(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Te(e);var t=Or(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var _h=null;function Nh(e){_h!==e&&(_h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=Ve(n);null!==a&&(e.splice(t,3),t-=3,As(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function jh(e){function t(t){return Eh(t,e)}null!==dh&&Eh(dh,e),null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Pe]||null;if("function"===typeof a)s||Nh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Pe]||null)o=s.formAction;else if(null!==lh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Nh(n)}}}function Th(e){this._internalRoot=e}function Ch(e){this._internalRoot=e}Ch.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Dc(),e,t,null,null)},Ch.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),$c(),t[De]=null}},Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Ah=i.version;if("19.1.1"!==Ah)throw Error(s(527,Ah,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Oh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{ue=Ih.inject(Oh),de=Ih}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=vo,a=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,a,l,0,null),e[De]=t.current,zu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=vo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Xd(null),n=t.current,(i=ia(r=Te(r=Dc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,_e(t,n),ku(t),e[De]=t.current,zu(e),new Ch(t)},t.version="19.1.1"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),s=new Array(a);for(let r=0;r<a;r++)s[r]=e,e+=n;return s}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<r?i(s,t+1):n.push(s)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),i=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,i.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,a,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?T(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),a>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?T(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=_(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=_(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return a+s}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return T(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(o=!1,t=w(N(n,s),N(e,s),s),o=!0,T(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):T(new r(n),i)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return N(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=s=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,s+2)).times(.5),x(a.d).slice(0,s)===(t=x(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(T(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;s+=4}return o=!0,T(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,s=c,c=u,u=s),a=[],r=s=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,o?T(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),T(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=A(r=T(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?A(i):(b(e,0,a),void 0===t?t=s.rounding:b(t,0,8),n=A((r=T(new s(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return T(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return T(u,r);if(c=(t=e.e)>=(n=e.d.length-1),s=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),o=!1;n%2&&O((a=a.times(u)).d,t),0!==(n=d(n/2));)O((u=u.times(u)).d,t);return o=!0,e.s<0?new h(i).div(a):T(a,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,a=e.times(N(u,r+12)),o=!0,(a=k(a)).s=s,a},y.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?r=A(i,(n=S(i))<=s.toExpNeg||n>=s.toExpPos):(b(e,1,a),void 0===t?t=s.rounding:b(t,0,8),r=A(i=T(new s(i),e,t),e<=(n=S(i))||n<=s.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),T(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,c,u,d,h,f,m,g,y,v,b,x,w,k,E,_,N,j,C=r.constructor,A=r.s==i.s?1:-1,O=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,N=I.length,E=O.length,g=(m=new C(A)).d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,(x=null==a?a=C.precision:s?a+(S(r)-S(i))+1:a)<0)return new C(0);if(x=x/7+2|0,u=0,1==N)for(d=0,I=I[0],x++;(u<E||d)&&x--;u++)w=d*p+(O[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),O=e(O,d),N=I.length,E=O.length),k=N,v=(y=O.slice(0,N)).length;v<N;)y[v++]=0;(j=I.slice()).unshift(0),_=I[0],I[1]>=p/2&&++_;do{d=0,(o=t(I,y,N,v))<0?(b=y[0],N!=v&&(b=b*p+(y[1]||0)),(d=b/_|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(I,d),y,f=h.length,v=y.length))&&(d--,n(h,N<f?j:I,f))):(0==d&&(o=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==o&&(o=t(I,y,N,v=y.length))<1&&(d++,n(y,N<v?j:I,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=O[k]||0:(y=[O[k]],v=1)}while((k++<E||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,T(m,s?a+S(m)+1:a)}}();function k(e,t){var n,r,a,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=T(r.times(e),l),n=n.times(++c),x((s=a.plus(w(r,n,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;d--;)a=T(a.times(a),l);return f.precision=p,null==t?(o=!0,T(a,p)):a}a=s}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,a,s,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),E(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),s=S(m),!(Math.abs(s)<15e14))return d=E(y,h+2,v).times(s+""),m=N(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,T(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(s=S(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=T(m.times(m),h),a=3;;){if(c=T(c.times(f),h),x((d=u.plus(w(c,new y(a),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(E(y,h+2,v).times(s+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,T(u,v)):u;u=d,a+=2}}function j(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,n){var r,i,a,s,l,c,f,m,y=e.d;for(s=1,a=y[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(f=a=y[m],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(l=f/(a=h(10,s-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,s-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(a=S(e),y.length=1,t=t-a-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=h(10,7-r),y[m]=i>0?(f/h(10,s-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(y[0]+=a)==p&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=p)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function C(e,t){var n,r,i,a,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?T(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r){for((d=s<0)?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),s>(i=Math.max(Math.ceil(m/7),l)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?T(t,m):t):new f(0)}function A(e,t,n){var r,i=S(e),a=x(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+_(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_(-i-1)+a,n&&(r=n-s)>0&&(a+=_(r))):i>=s?(a+=_(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+_(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=_(r))),e.s<0?"-"+a:a}function O(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):j(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);j(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(s),s.default=s.Decimal=s,i=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),s=n(9323),o=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=s.get(n,e);return void 0===i?o.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),s=n(1444);t.get=function e(t,n,o){if(null==t)return o;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return o;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,s.toPath(n),o):o:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?o:e}default:{if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,o);if(n=Object.is(n?.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return o;const e=t[n];return void 0===e?o:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),i=n(6443),a=n(5990),s=n(7599),o=n(9972);function l(e,t,n,r,i,a,s){const o=s(e,t,n,r,i,a);if(void 0!==o)return o;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,a,s)}return c(e,t,a,s)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=a.getTag(e),h=a.getTag(t);if(d===s.argumentsTag&&(d=s.objectTag),h===s.argumentsTag&&(h=s.objectTag),d!==h)return!1;switch(d){case s.stringTag:return e.toString()===t.toString();case s.numberTag:{const n=e.valueOf(),r=t.valueOf();return o.eq(n,r)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(e.valueOf(),t.valueOf());case s.regexpTag:return e.source===t.source&&e.flags===t.flags;case s.functionTag:return e===t}const f=(n=n??new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case s.mapTag:if(e.size!==t.size)return!1;for(const[r,i]of e.entries())if(!t.has(r)||!l(i,t.get(r),r,e,t,n,u))return!1;return!0;case s.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),i=Array.from(t.values());for(let a=0;a<r.length;a++){const s=r[a],o=i.findIndex(r=>l(s,r,void 0,e,t,n,u));if(-1===o)return!1;i.splice(o,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case s.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case s.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case s.errorTag:return e.name===t.name&&e.message===t.message;case s.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const a=[...Object.keys(e),...i.getSymbols(e)],s=[...Object.keys(t),...i.getSymbols(t)];if(a.length!==s.length)return!1;for(let r=0;r<a.length;r++){const i=a[r],s=e[i];if(!Object.hasOwn(t,i))return!1;if(!l(s,t[i],i,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".c1eac7ab.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="supply-chain-management-app:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksupply_chain_management_app=self.webpackChunksupply_chain_management_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>gN,scaleDiverging:()=>uO,scaleDivergingLog:()=>dO,scaleDivergingPow:()=>fO,scaleDivergingSqrt:()=>pO,scaleDivergingSymlog:()=>hO,scaleIdentity:()=>iT,scaleImplicit:()=>pN,scaleLinear:()=>rT,scaleLog:()=>fT,scaleOrdinal:()=>mN,scalePoint:()=>vN,scalePow:()=>kT,scaleQuantile:()=>DT,scaleQuantize:()=>MT,scaleRadial:()=>_T,scaleSequential:()=>rO,scaleSequentialLog:()=>iO,scaleSequentialPow:()=>sO,scaleSequentialQuantile:()=>lO,scaleSequentialSqrt:()=>oO,scaleSequentialSymlog:()=>aO,scaleSqrt:()=>ST,scaleSymlog:()=>yT,scaleThreshold:()=>RT,scaleTime:()=>ZA,scaleUtc:()=>eO,tickFormat:()=>tT});var t=n(5043),r=n.t(t,2),i=n(4391),a="popstate";function s(){return f(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=h(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:d(t))},function(e,t){l("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",d=null,h=f();function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let e=f(),t=null==e?null:e-h;h=e,d&&d({action:l,location:y.location,delta:t})}function g(e){return p(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let y={get action(){return l},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),d=e,()=>{i.removeEventListener(a,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=u(y.location,e,t);n&&n(r,e),h=f()+1;let a=c(r,h),p=y.createHref(r);try{o.pushState(a,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(p)}s&&d&&d({action:l,location:y.location,delta:1})},replace:function(e,t){l="REPLACE";let r=u(y.location,e,t);n&&n(r,e),h=f();let i=c(r,h),a=y.createHref(r);o.replaceState(i,"",a),s&&d&&d({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),o(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:d(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function m(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let i=O(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=A(i);s=j(a[o],e,r)}return s}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,l=arguments.length>3?arguments[3]:void 0,c={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&s)return;o(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let u=R([r,c.relativePath]),d=n.concat(c);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),y(e.children,t,d,u,s)),(null!=e.path||e.index)&&t.push({path:u,score:N(u,e.index),routesMeta:d})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))a(e,t,!0,n);else a(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=v(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var b=/^:[\w-]+$/,x=3,w=2,k=1,S=10,E=-2,_=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=E),t&&(r+=w),n.filter(e=>!_(e)).reduce((e,t)=>e+(b.test(t)?x:""===t?k:S),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:R([a,u.pathname]),pathnameBase:L(R([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=R([a,u.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e){let t=P(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function M(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let a,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(r),hash:U(i)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],V=(new Set($),["GET",...$]);new Set(V),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var q=t.createContext(null);q.displayName="DataRouterState";var H=t.createContext(!1);var K=t.createContext({isTransitioning:!1});K.displayName="ViewTransition";var W=t.createContext(new Map);W.displayName="Fetchers";var G=t.createContext(null);G.displayName="Await";var Q=t.createContext(null);Q.displayName="Navigation";var Y=t.createContext(null);Y.displayName="Location";var X=t.createContext({outlet:null,matches:[],isDataRoute:!1});X.displayName="Route";var J=t.createContext(null);J.displayName="RouteError";function Z(){return null!=t.useContext(Y)}function ee(){return o(Z(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Y).location}var te="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ne(e){t.useContext(Q).static||t.useLayoutEffect(e)}function re(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=he("useNavigate"),n=pe("useNavigate"),r=t.useRef(!1);ne(()=>{r.current=!0});let i=t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(r.current,te),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))},[e,n]);return i}():function(){o(Z(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:n,navigator:r}=t.useContext(Q),{matches:i}=t.useContext(X),{pathname:a}=ee(),s=JSON.stringify(D(i)),c=t.useRef(!1);ne(()=>{c.current=!0});let u=t.useCallback(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,te),!c.current)return;if("number"===typeof t)return void r.go(t);let o=M(t,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:R([n,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[n,r,s,a,e]);return u}()}t.createContext(null);function ie(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(X),{pathname:i}=ee(),a=JSON.stringify(D(r));return t.useMemo(()=>M(e,JSON.parse(a),i,"path"===n),[e,a,i,n])}function ae(e,n,r,i){o(Z(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=t.useContext(Q),{matches:s}=t.useContext(X),c=s[s.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";ye(d,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=ee();if(n){let e="string"===typeof n?h(n):n;o("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=m(e,{pathname:b});l(p||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ue(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([f,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:R([f,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,i);return n&&w?t.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function se(){let e=me(),n=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,o)}var oe=t.createElement(se,null),le=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ce(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(B);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(X.Provider,{value:n},i)}function ue(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,a=r?.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((e,o,c)=>{let u,d=!1,h=null,f=null;r&&(u=a&&o.route.id?a[o.route.id]:void 0,h=o.route.errorElement||oe,s&&(l<0&&0===c?(ye("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(ce,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?t.createElement(le,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function de(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function he(e){let n=t.useContext(B);return o(n,de(e)),n}function fe(e){let n=t.useContext(q);return o(n,de(e)),n}function pe(e){let n=function(e){let n=t.useContext(X);return o(n,de(e)),n}(e),r=n.matches[n.matches.length-1];return o(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function me(){let e=t.useContext(J),n=fe("useRouteError"),r=pe("useRouteError");return void 0!==e?e:n.errors?.[r]}var ge={};function ye(e,t,n){t||ge[e]||(ge[e]=!0,l(!1,n))}var ve={};function be(e,t){e||ve[t]||(ve[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r}=e;return ae(t,void 0,r,n)});function xe(e){let{to:n,replace:r,state:i,relative:a}=e;o(Z(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=t.useContext(Q);l(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(X),{pathname:u}=ee(),d=re(),h=M(n,D(c),u,"path"===a),f=JSON.stringify(h);return t.useEffect(()=>{d(JSON.parse(f),{replace:r,state:i,relative:a})},[d,f,a,r,i]),null}function we(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ke(e){let{basename:n="/",children:r=null,location:i,navigationType:a="POP",navigator:s,static:c=!1}=e;o(!Z(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:u,navigator:s,static:c,future:{}}),[u,s,c]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=t.useMemo(()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:a}},[u,f,p,m,g,y,a]);return l(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:t.createElement(Q.Provider,{value:d},t.createElement(Y.Provider,{children:r,value:v}))}function Se(e){let{children:t,location:n}=e;return ae(Ee(t),n)}t.Component;function Ee(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Ee(e.props.children,a));o(e.type===we,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ee(e.props.children,a)),r.push(s)}),r}var _e="get",Ne="application/x-www-form-urlencoded";function je(e){return null!=e&&"string"===typeof e.tagName}var Te=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ae(e){return null==e||Ce.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ne}"`),null)}function Oe(e,t){let n,r,i,a,s;if(function(e){return je(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");r=s?O(s,t):null,n=e.getAttribute("method")||_e,i=Ae(e.getAttribute("enctype"))||Ne,a=new FormData(e)}else if(function(e){return je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?O(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||_e,i=Ae(e.getAttribute("formenctype"))||Ae(s.getAttribute("enctype"))||Ne,a=new FormData(s,e),!function(){if(null===Te)try{new FormData(document.createElement("form"),0),Te=!1}catch(e){Te=!0}return Te}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_e,r=null,i=Ne,s=e}return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ie(e){return{__html:e}}function Pe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function De(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===O(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Me(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Re(e){return null!=e&&"string"===typeof e.page}function Le(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Fe(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ue(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function ze(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Re(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function $e(e,t){return"lazy"===e.mode&&!0===t}function Ve(){let e=t.useContext(B);return Pe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Be(){let e=t.useContext(q);return Pe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qe=t.createContext(void 0);function He(){let e=t.useContext(qe);return Pe(e,"You must render this element inside a <HydratedRouter> element"),e}function Ke(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We(e,t,n){if(n&&!Xe)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}qe.displayName="FrameworkContext";function Ge(e){let{page:n,...r}=e,{router:i}=Ve(),a=t.useMemo(()=>m(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?t.createElement(Ye,{page:n,matches:a,...r}):null}function Qe(e){let{manifest:n,routeModules:r}=He(),[i,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return ze((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Me(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Le).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,n,r).then(e=>{t||a(e)}),()=>{t=!0}},[e,n,r]),i}function Ye(e){let{page:n,matches:r,...i}=e,a=ee(),{manifest:s,routeModules:o}=He(),{basename:l}=Ve(),{loaderData:c,matches:u}=Be(),d=t.useMemo(()=>Fe(n,r,u,s,a,"data"),[n,r,u,s,a]),h=t.useMemo(()=>Fe(n,r,u,s,a,"assets"),[n,r,u,s,a]),f=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=De(n,l,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,c,a,s,d,r,n,o]),p=t.useMemo(()=>Ue(h,s),[h,s]),m=Qe(h);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i})),p.map(e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i})),m.map(e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,nonce:i.nonce,...r})}))}var Xe=!1;function Je(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:a,routeDiscovery:s,ssr:o}=He(),{router:l,static:c,staticContext:u}=Ve(),{matches:d}=Be(),h=t.useContext(H),f=$e(s,o);a&&(a.didRenderScripts=!0);let p=We(d,null,i);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{if(h)return null;let i=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(n.url)}`};\n${p.map((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Pe(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push(`/${a.join("/")}`),a.pop();s.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let o=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(a),type:"module",async:!0}))},[]),y=Xe||h?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Ue(p,n,{includeHydrateFallback:!0}))),v="object"===typeof n.sri?n.sri:{};return be(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Xe||h?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,f?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),y.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:v[n],suppressHydrationWarning:!0})),g)}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function et(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(n))return t.createElement(tt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(tt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function tt(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=He();return s.root?.Layout&&!i?a:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?t.createElement(Je,null):null)))}var nt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{nt&&(window.__reactRouterVersion="7.8.1")}catch(uQ){}function rt(e){let{basename:n,children:r,window:i}=e,a=t.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{t.startTransition(()=>c(e))},[c]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(ke,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var it=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=t.forwardRef(function(e,n){let r,{onClick:i,discover:a="render",prefetch:s="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=t.useContext(Q),x="string"===typeof m&&it.test(m),w=!1;if("string"===typeof m&&x&&(r=m,nt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=O(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(uQ){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Z(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(Q),{hash:a,pathname:s,search:l}=ie(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:R([r,s])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:c}),[S,E,_]=function(e,n){let r=t.useContext(qe),[i,a]=t.useState(!1),[s,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?"intent"!==e?[s,f,{}]:[s,f,{onFocus:Ke(l,p),onBlur:Ke(c,m),onMouseEnter:Ke(u,p),onMouseLeave:Ke(d,m),onTouchStart:Ke(h,p)}]:[!1,f,{}]}(s,v),N=function(e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=ee(),u=ie(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:d(c)===d(u);l(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,e,a,s,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let j=t.createElement("a",{...v,..._,href:r||k,onClick:w||u?i:function(e){i&&i(e),e.defaultPrevented||N(e)},ref:Ze(n,E),target:p,"data-discover":x||"render"!==a?void 0:"true"});return S&&!x?t.createElement(t.Fragment,null,j,t.createElement(Ge,{page:k})):j});at.displayName="Link";var st=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ie(c,{relative:h.relative}),p=ee(),m=t.useContext(q),{navigator:g,basename:y}=t.useContext(Q),v=null!=m&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(K);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ct("useViewTransitionState"),a=ie(e,{relative:n});if(!r.isTransitioning)return!1;let s=O(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=O(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=T(a.pathname,l)||null!=T(a.pathname,s)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=O(w,y)||w);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,E=x===b||!s&&x.startsWith(b)&&"/"===x.charAt(k),_=null!=w&&(w===b||!s&&w.startsWith(b)&&"/"===w.charAt(b.length)),N={isActive:E,isPending:_,isTransitioning:v},j=E?r:void 0;S="function"===typeof a?a(N):[a,E?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof l?l(N):l;return t.createElement(at,{...h,"aria-current":j,className:S,ref:n,style:C,to:c,viewTransition:u},"function"===typeof d?d(N):d)});st.displayName="NavLink";var ot=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:l,state:c,method:u=_e,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=ht(),b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(Q),i=t.useContext(X);o(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...ie(e||".",{relative:n})},l=ee();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:R([r,s.pathname]));return d(s)}(h,{relative:p}),x="get"===u.toLowerCase()?"get":"post",w="string"===typeof h&&it.test(h);return t.createElement("form",{ref:n,method:x,action:b,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":w||"render"!==r?void 0:"true"})});function lt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ct(e){let n=t.useContext(B);return o(n,lt(e)),n}ot.displayName="Form";var ut=0,dt=()=>`__${String(++ut)}__`;function ht(){let{router:e}=ct("useSubmit"),{basename:n}=t.useContext(Q),r=pe("useRouteId");return t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Oe(t,n);if(!1===i.navigate){let t=i.fetcherKey||dt();await e.fetch(t,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,n,r])}function ft(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ft(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ft(e))&&(r&&(r+=" "),r+=t);return r}const mt=pt;!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var gt=e=>"number"==typeof e&&!isNaN(e),yt=e=>"string"==typeof e,vt=e=>"function"==typeof e,bt=e=>yt(e)||vt(e)?e:null,xt=(e,t)=>!1===e||gt(e)&&e>0?e:t,wt=e=>(0,t.isValidElement)(e)||yt(e)||vt(e)||gt(e);function kt(e){let{enter:n,exit:r,appendPosition:i=!1,collapse:a=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=i?`${n}--${l}`:n,m=i?`${r}--${l}`:r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,s):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))},[h]),t.createElement(t.Fragment,null,o)}}function St(e,t){return{content:Et(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Et(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!yt(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):vt(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function _t(e){let{delay:n,isRunning:r,closeToast:i,type:a="default",hide:s,className:o,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e,f=s||l&&0===c,p={animationDuration:`${n}ms`,animationPlayState:r?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let m=mt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":u}),g=vt(o)?o({rtl:u,type:a,defaultClassName:m}):mt(m,o),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&i()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),t.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:p,...y}))}var Nt=1,jt=()=>""+Nt++;function Tt(e,t,n){let r=1,i=0,a=[],s=[],o=t,l=new Map,c=new Set,u=()=>{s=Array.from(l.values()),c.forEach(e=>e())},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}u()},f=e=>{var t,r;let{toastId:i,updateId:a}=e.props,s=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),u(),n(St(e,s?"added":"updated")),s&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:h,toasts:l,clearQueue:()=>{i-=a.length,a=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t,a=n?n!==e:1!==e,s=l.has(r)&&null==i;return a||s})(s))return;let{toastId:c,updateId:d,data:p,staleId:m,delay:g}=s,y=null==d;y&&i++;let v={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(s).filter(e=>{let[t,n]=e;return null!=n})),toastId:c,updateId:d,data:p,isIn:!1,className:bt(s.className||o.toastClassName),progressClassName:bt(s.progressClassName||o.progressClassName),autoClose:!s.isLoading&&xt(s.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(St(e,"removed")),l.delete(c),i--,i<0&&(i=0),a.length>0)return void f(a.shift());u()}}};v.closeButton=o.closeButton,!1===s.closeButton||wt(s.closeButton)?v.closeButton=s.closeButton:!0===s.closeButton&&(v.closeButton=!wt(o.closeButton)||o.closeButton);let b={content:t,props:v,staleId:m};o.limit&&o.limit>0&&i>o.limit&&y?a.push(b):gt(g)?setTimeout(()=>{f(b)},g):f(b)},setProps(e){o=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var Ct=new Map,At=[],Ot=new Set,It=e=>Ot.forEach(t=>t(e)),Pt=()=>Ct.size>0;function Dt(e,t){var n;if(t)return!(null==(n=Ct.get(t))||!n.isToastActive(e));let r=!1;return Ct.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function Mt(e){if(Pt()){if(null==e||(e=>yt(e)||gt(e))(e))Ct.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ct.get(e.containerId);t?t.removeToast(e.id):Ct.forEach(t=>{t.removeToast(e.id)})}}else At=At.filter(t=>null!=e&&t.options.toastId!==e)}function Rt(e,t){wt(e)&&(Pt()||At.push({content:e,options:t}),Ct.forEach(n=>{n.buildToast(e,t)}))}function Lt(e,t){Ct.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Ft(e){let t=e.containerId||1;return{subscribe(n){let r=Tt(t,e,It);Ct.set(t,r);let i=r.observe(n);return At.forEach(e=>Rt(e.content,e.options)),At=[],()=>{i(),Ct.delete(t)}},setProps(e){var n;null==(n=Ct.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Ct.get(t))?void 0:e.getSnapshot()}}}function Ut(e){return e&&(yt(e.toastId)||gt(e.toastId))?e.toastId:jt()}function zt(e,t){return Rt(e,t),t.toastId}function $t(e,t){return{...t,type:t&&t.type||e,toastId:Ut(t)}}function Vt(e){return(t,n)=>zt(t,$t(e,n))}function Bt(e,t){return zt(e,$t("default",t))}function qt(e){let[n,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(!1),s=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function f(){r(!0)}function p(){r(!1)}function m(t){let r=s.current;if(o.canDrag&&r){o.didMove=!0,n&&p(),"x"===e.draggableDirection?o.delta=t.clientX-o.start:o.delta=t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;r.style.transform=`translate3d(${i},0)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Ct.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let n=s.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:a}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(y.onMouseEnter=p,e.stacked||(y.onMouseLeave=f)),h&&(y.onClick=e=>{d&&d(e),o.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:n,preventExitTransition:i,toastRef:s,eventHandlers:y}}Bt.loading=(e,t)=>zt(e,$t("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Bt.promise=function(e,t,n){let r,{pending:i,error:a,success:s}=t;i&&(r=yt(i)?Bt.loading(i,n):Bt.loading(i.render,{...n,...i}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Bt.dismiss(r);let a={type:e,...o,...n,data:i},s=yt(t)?{render:t}:t;return r?Bt.update(r,{...a,...s}):Bt(s.render,{...a,...s}),i},c=vt(e)?e():e;return c.then(e=>l("success",s,e)).catch(e=>l("error",a,e)),c},Bt.success=Vt("success"),Bt.info=Vt("info"),Bt.error=Vt("error"),Bt.warning=Vt("warning"),Bt.warn=Bt.warning,Bt.dark=(e,t)=>zt(e,$t("default",{theme:"dark",...t})),Bt.dismiss=function(e){Mt(e)},Bt.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Bt.isActive=Dt,Bt.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Ct.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:jt()};a.toastId!==e&&(a.staleId=e);let s=a.render||i;delete a.render,zt(s,a)}},Bt.done=e=>{Bt.update(e,{progress:1})},Bt.onChange=function(e){return Ot.add(e),()=>{Ot.delete(e)}},Bt.play=e=>Lt(!0,e),Bt.pause=e=>Lt(!1,e);var Ht="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Kt=e=>{let{theme:n,type:r,isLoading:i,...a}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${r})`,...a})};var Wt={info:function(e){return t.createElement(Kt,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Kt,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Kt,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Kt,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Gt(e){let{theme:n,type:r,isLoading:i,icon:a}=e,s=null,o={theme:n,type:r};return!1===a||(vt(a)?s=a({...o,isLoading:i}):(0,t.isValidElement)(a)?s=(0,t.cloneElement)(a,o):i?s=Wt.spinner():(e=>e in Wt)(r)&&(s=Wt[r](o))),s}var Qt=e=>{let{isRunning:n,preventExitTransition:r,toastRef:i,eventHandlers:a,playToast:s}=qt(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:m,className:g,style:y,progressClassName:v,updateId:b,role:x,progress:w,rtl:k,toastId:S,deleteToast:E,isIn:_,isLoading:N,closeOnClick:j,theme:T,ariaLabel:C}=e,A=mt("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":j}),O=vt(g)?g({rtl:k,position:m,type:d,defaultClassName:A}):mt(A,g),I=Gt(e),P=!!w||!c,D={closeToast:f,type:d,theme:T},M=null;return!1===o||(M=vt(o)?o(D):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,D):function(e){let{closeToast:n,theme:r,ariaLabel:i="close"}=e;return t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":i},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),t.createElement(p,{isIn:_,done:E,position:m,preventExitTransition:r,nodeRef:i,playToast:s},t.createElement("div",{id:S,tabIndex:0,onClick:u,"data-in":_,className:O,...a,style:y,ref:i,..._&&{role:x,"aria-label":C}},null!=I&&t.createElement("div",{className:mt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},I),Et(l,e,!n),M,!e.customProgressBar&&t.createElement(_t,{...b&&!P?{key:`p-${b}`}:{},rtl:k,theme:T,delay:c,isRunning:n,isIn:_,closeToast:f,hide:h,type:d,className:v,controlledProgress:P,progress:w||0})))},Yt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Xt=kt(Yt("bounce",!0)),Jt=(kt(Yt("slide",!0)),kt(Yt("zoom")),kt(Yt("flip")),{position:"top-right",transition:Xt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Zt(e){let n={...Jt,...e},r=e.stacked,[i,a]=(0,t.useState)(!0),s=(0,t.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){var n;let{subscribe:r,getSnapshot:i,setProps:a}=(0,t.useRef)(Ft(e)).current;a(e);let s=null==(n=(0,t.useSyncExternalStore)(r,i,i))?void 0:n.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Dt,count:null==s?void 0:s.length}}(n),{className:u,style:d,rtl:h,containerId:f,hotKeys:p}=n;function m(e){let t=mt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return vt(u)?u({position:e,rtl:h,defaultClassName:t}):mt(t,bt(u))}function g(){r&&(a(!0),Bt.play())}return Ht(()=>{var e;if(r){let t=s.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=n.position)?void 0:e.includes("top"),o=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${i}`),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let s=o*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y",`${a?s:-1*s}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(i?l:0))),o+=n.offsetHeight,l+=.025})}},[i,c,r]),(0,t.useEffect)(()=>{function e(e){var t;let n=s.current;p(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),Bt.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),Bt.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),t.createElement("section",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{r&&(a(!1),Bt.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},o((e,n)=>{let i=n.length?{...d}:{...d,pointerEvents:"none"};return t.createElement("div",{tabIndex:-1,className:m(e),"data-stacked":r,style:i,key:`c-${e}`},n.map(e=>{let{content:n,props:i}=e;return t.createElement(Qt,{...i,stacked:r,collapseAll:g,isIn:l(i.toastId,i.containerId),key:`t-${i.key}`},n)}))}))}const en=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(en(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new nn;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rn=function(e){return function(e){const t=en(e);return tn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},an=function(e){try{return tn.decodeString(e,!0)}catch(uQ){console.error("base64Decode failed: ",uQ)}return null};function sn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const on=()=>{try{return sn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uQ){return}const t=e&&an(e[1]);return t&&JSON.parse(t)})()}catch(uQ){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${uQ}`)}},ln=e=>on()?.emulatorHosts?.[e],cn=e=>{const t=ln(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},un=()=>on()?.config,dn=e=>on()?.[`_${e}`];class hn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function fn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pn(e){return(await fetch(e,{credentials:"include"})).ok}function mn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[rn(JSON.stringify({alg:"none",type:"JWT"})),rn(JSON.stringify(a)),""].join(".")}const gn={};let yn=!1;function vn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!fn(window.location.host)||gn[e]===t||gn[e]||yn)return;function n(e){return`__firebase__banner__${e}`}gn[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(gn))gn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{yn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function bn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xn(){const e=on()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uQ){return!1}}function wn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function kn(){return!xn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sn(){try{return"object"===typeof indexedDB}catch(uQ){return!1}}function En(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}class _n extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(jn,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new _n(n,a,t)}}const jn=/\{\$([^}]+)}/g;function Tn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Cn(n)&&Cn(a)){if(!Tn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cn(e){return null!==e&&"object"===typeof e}function An(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function On(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function In(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Pn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Dn),void 0===r.error&&(r.error=Dn),void 0===r.complete&&(r.complete=Dn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uQ){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uQ){"undefined"!==typeof console&&console.error&&console.error(uQ)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function Mn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Rn(e){return e&&e._delegate?e._delegate:e}class Ln{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fn="[DEFAULT]";class Un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new hn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uQ){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(uQ){if(n)return null;throw uQ}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch(uQ){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uQ){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Fn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $n=[];var Vn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vn||(Vn={}));const Bn={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},qn=Vn.INFO,Hn={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},Kn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Hn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...a)};class Wn{constructor(e){this.name=e,this._logLevel=qn,this._logHandler=Kn,this._userLogHandler=null,$n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Bn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...t),this._logHandler(this,Vn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...t),this._logHandler(this,Vn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...t),this._logHandler(this,Vn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...t),this._logHandler(this,Vn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...t),this._logHandler(this,Vn.ERROR,...t)}}let Gn,Qn;const Yn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,er=new WeakMap;let tr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qn||(Qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ar(this),n),ir(Yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ir(e.apply(ar(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ar(this),t,...r);return Jn.set(a,t.sort?t.sort():[t]),ir(a)}}function rr(e){return"function"===typeof e?nr(e):(e instanceof IDBTransaction&&function(e){if(Xn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Xn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Gn||(Gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,tr):e)}function ir(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ir(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Yn.set(t,e)}).catch(()=>{}),er.set(t,e),t}(e);if(Zn.has(e))return Zn.get(e);const t=rr(e);return t!==e&&(Zn.set(e,t),er.set(t,e)),t}const ar=e=>er.get(e);function sr(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=ir(s);return r&&s.addEventListener("upgradeneeded",e=>{r(ir(s.result),e.oldVersion,e.newVersion,ir(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const or=["get","getKey","getAll","getAllKeys","count"],lr=["put","add","delete","clear"],cr=new Map;function ur(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(cr.get(t))return cr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=lr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!or.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return cr.set(t,a),a}tr=(e=>({...e,get:(t,n,r)=>ur(t,n)||e.get(t,n,r),has:(t,n)=>!!ur(t,n)||e.has(t,n)}))(tr);class dr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const hr="@firebase/app",fr="0.14.1",pr=new Wn("@firebase/app"),mr="@firebase/app-compat",gr="@firebase/analytics-compat",yr="@firebase/analytics",vr="@firebase/app-check-compat",br="@firebase/app-check",xr="@firebase/auth",wr="@firebase/auth-compat",kr="@firebase/database",Sr="@firebase/data-connect",Er="@firebase/database-compat",_r="@firebase/functions",Nr="@firebase/functions-compat",jr="@firebase/installations",Tr="@firebase/installations-compat",Cr="@firebase/messaging",Ar="@firebase/messaging-compat",Or="@firebase/performance",Ir="@firebase/performance-compat",Pr="@firebase/remote-config",Dr="@firebase/remote-config-compat",Mr="@firebase/storage",Rr="@firebase/storage-compat",Lr="@firebase/firestore",Fr="@firebase/ai",Ur="@firebase/firestore-compat",zr="firebase",$r="[DEFAULT]",Vr={[hr]:"fire-core",[mr]:"fire-core-compat",[yr]:"fire-analytics",[gr]:"fire-analytics-compat",[br]:"fire-app-check",[vr]:"fire-app-check-compat",[xr]:"fire-auth",[wr]:"fire-auth-compat",[kr]:"fire-rtdb",[Sr]:"fire-data-connect",[Er]:"fire-rtdb-compat",[_r]:"fire-fn",[Nr]:"fire-fn-compat",[jr]:"fire-iid",[Tr]:"fire-iid-compat",[Cr]:"fire-fcm",[Ar]:"fire-fcm-compat",[Or]:"fire-perf",[Ir]:"fire-perf-compat",[Pr]:"fire-rc",[Dr]:"fire-rc-compat",[Mr]:"fire-gcs",[Rr]:"fire-gcs-compat",[Lr]:"fire-fst",[Ur]:"fire-fst-compat",[Fr]:"fire-vertex","fire-js":"fire-js",[zr]:"fire-js-all"},Br=new Map,qr=new Map,Hr=new Map;function Kr(e,t){try{e.container.addComponent(t)}catch(uQ){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,uQ)}}function Wr(e){const t=e.name;if(Hr.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;Hr.set(t,e);for(const n of Br.values())Kr(n,e);for(const n of qr.values())Kr(n,e);return!0}function Gr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Qr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Yr=new Nn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xr{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const Jr="12.1.0";function Zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:$r,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!==typeof i||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(n||(n=un()),!n)throw Yr.create("no-options");const a=Br.get(i);if(a){if(Tn(n,a.options)&&Tn(r,a.config))return a;throw Yr.create("duplicate-app",{appName:i})}const s=new zn(i);for(const l of Hr.values())s.addComponent(l);const o=new Xr(n,r,s);return Br.set(i,o),o}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r;const t=Br.get(e);if(!t&&e===$r&&un())return Zr();if(!t)throw Yr.create("no-app",{appName:e});return t}function ti(e,t,n){let r=Vr[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void pr.warn(e.join(" "))}Wr(new Ln(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ni="firebase-heartbeat-store";let ri=null;function ii(){return ri||(ri=sr("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ni)}catch(uQ){console.warn(uQ)}}}).catch(e=>{throw Yr.create("idb-open",{originalErrorMessage:e.message})})),ri}async function ai(e,t){try{const n=(await ii()).transaction(ni,"readwrite"),r=n.objectStore(ni);await r.put(t,si(e)),await n.done}catch(uQ){if(uQ instanceof _n)pr.warn(uQ.message);else{const t=Yr.create("idb-set",{originalErrorMessage:uQ?.message});pr.warn(t.message)}}}function si(e){return`${e.name}!${e.options.appId}`}class oi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ci(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=li();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(uQ){pr.warn(uQ)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=li(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ui(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ui(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=rn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(uQ){return pr.warn(uQ),""}}}function li(){return(new Date).toISOString().substring(0,10)}class ci{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Sn()&&En().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ii()).transaction(ni),n=await t.objectStore(ni).get(si(e));return await t.done,n}catch(uQ){if(uQ instanceof _n)pr.warn(uQ.message);else{const t=Yr.create("idb-get",{originalErrorMessage:uQ?.message});pr.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ai(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ai(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function ui(e){return rn(JSON.stringify({version:2,heartbeats:e})).length}var di;di="",Wr(new Ln("platform-logger",e=>new dr(e),"PRIVATE")),Wr(new Ln("heartbeat",e=>new oi(e),"PRIVATE")),ti(hr,fr,di),ti(hr,fr,"esm2020"),ti("fire-js","");ti("firebase","12.1.0","app");var hi,fi,pi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,fi=mi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},hi=mi.Integer=r}).apply("undefined"!==typeof pi?pi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var gi,yi,vi,bi,xi,wi,ki,Si,Ei="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_i={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ei&&Ei];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function E(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,T=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);j=()=>{e.then(O)}};var O=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(o$){S(o$)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function I(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(o$){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(FW){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=B(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new $(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(a=e.g[t],n,r,i))&&(z(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof $?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new $(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;w(t=new P(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(s=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&V(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function ke(){return we=we||new ne}function Se(e){P.call(this,xe.La,e)}function Ee(e){const t=ke();re(t,new Se(t))}function _e(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Ne(e){const t=ke();re(t,new _e(t,e))}function je(e,t){P.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(VW){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Se,P),xe.STAT_EVENT="statevent",d(_e,P),xe.Ma="timingevent",d(je,P),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Oe,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Oe=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),Be(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var s=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||on(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(MW){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}nn(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(MW){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(He(o),Be(o)),r.g=s}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(MW){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Ht(this.g);e="";var a=r.length,s=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),We(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ve(this,o),e==Fe){4==h&&(this.s=4,Ne(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ge(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,Ne(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),Ke(this)}else Ae(this.i,this.l,o,null),Ge(this,o);4==h&&We(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),We(this),Ke(this)}}}catch(KW){}},Me.prototype.cancel=function(){this.J=!0,We(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),Ne(17)),We(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function st(e){return new at(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){wt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=_t(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(FW){}}function jt(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(uQ){throw t.push(r+"type="+encodeURIComponent("_badmap")),uQ}}function Ct(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Ct,pe),Ct.prototype.g=function(){return new At(this.l,this.j)},Ct.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Pt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Vt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Lt.test(s?s.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(VW){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Bt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(uQ){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(HW){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(LW){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||A(),T||(j(),T=!0),C.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const o=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Tt(o,e,"req"+n+"_")}catch(KW){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||A(),T||(j(),T=!0),C.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,ze(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new je(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?st(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new at(null);r&&ot(s,r),t&&(s.g=t),a&&lt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Ct({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(FW){return void Ut(this,FW)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(FW){Ut(this,FW)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(u$){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(u$){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Dt(a)))+"&"+t:this.m&&Mt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Si=_i.createWebChannelTransport=function(){return new pn},ki=_i.getStatEventTarget=function(){return ke()},wi=_i.Event=xe,xi=_i.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,bi=_i.ErrorCode=Ie,Pe.COMPLETE="complete",vi=_i.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,yi=_i.WebChannel=ge,_i.FetchXmlHttpFactory=Ct,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,gi=_i.XhrIo=Rt}).apply("undefined"!==typeof Ei?Ei:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ni="@firebase/firestore",ji="4.9.0";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let Ci="12.0.0";const Ai=new Wn("@firebase/firestore");function Oi(){return Ai.logLevel}function Ii(e){if(Ai.logLevel<=Vn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Mi);Ai.debug(`Firestore (${Ci}): ${e}`,...i)}}function Pi(e){if(Ai.logLevel<=Vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Mi);Ai.error(`Firestore (${Ci}): ${e}`,...i)}}function Di(e){if(Ai.logLevel<=Vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Mi);Ai.warn(`Firestore (${Ci}): ${e}`,...i)}}function Mi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(CW){return e}}function Ri(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Li(e,r,n)}function Li(e,t,n){let r=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function Fi(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Li(t,i,r)}function Ui(e,t){return e}const zi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $i extends _n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class Hi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ki{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fi(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Ii("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ii("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ii("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fi("string"==typeof t.accessToken,31837,{l:t}),new Bi(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fi(null===e||"string"==typeof e,2055,{h:e}),new Ti(e)}}class Wi{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gi{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Wi(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yi{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fi(void 0===this.o,3512);const n=e=>{null!=e.error&&Ii("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Ii("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ii("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Ii("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qi(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Fi("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Qi(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ji{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Zi(e,t){return e<t?-1:e>t?1:0}function ea(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return ra(n)===ra(i)?Zi(n,i):ra(n)?1:-1}return Zi(e.length,t.length)}const ta=55296,na=57343;function ra(e){const t=e.charCodeAt(0);return t>=ta&&t<=na}function ia(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const aa="__name__";class sa{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ri(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ri(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=sa.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Zi(e.length,t.length)}static compareSegments(e,t){const n=sa.isNumericId(e),r=sa.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?sa.extractNumericId(e).compare(sa.extractNumericId(t)):ea(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class oa extends sa{construct(e,t,n){return new oa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new $i(zi.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new oa(e)}static emptyPath(){return new oa([])}}const la=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ca extends sa{construct(e,t,n){return new ca(e,t,n)}static isValidIdentifier(e){return la.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ca.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===aa}static keyField(){return new ca([aa])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new $i(zi.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new $i(zi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $i(zi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new $i(zi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ca(t)}static emptyPath(){return new ca([])}}class ua{constructor(e){this.path=e}static fromPath(e){return new ua(oa.fromString(e))}static fromName(e){return new ua(oa.fromString(e).popFirst(5))}static empty(){return new ua(oa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ua(new oa(e.slice()))}}function da(e,t,n){if(!n)throw new $i(zi.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ha(e){if(!ua.isDocumentKey(e))throw new $i(zi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fa(e){if(ua.isDocumentKey(e))throw new $i(zi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function pa(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ma(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ri(12329,{type:typeof e})}function ga(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $i(zi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ma(e);throw new $i(zi.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ya(e,t){const n={typeString:e};return t&&(n.value=t),n}function va(e,t){if(!pa(e))throw new $i(zi.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==a&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new $i(zi.INVALID_ARGUMENT,n);return!0}const ba=-62135596800,xa=1e6;class wa{static now(){return wa.fromMillis(Date.now())}static fromDate(e){return wa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*xa);return new wa(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $i(zi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $i(zi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ba)throw new $i(zi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $i(zi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xa}_compareTo(e){return this.seconds===e.seconds?Zi(this.nanoseconds,e.nanoseconds):Zi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wa._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(va(e,wa._jsonSchema))return new wa(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ba;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wa._jsonSchemaVersion="firestore/timestamp/1.0",wa._jsonSchema={type:ya("string",wa._jsonSchemaVersion),seconds:ya("number"),nanoseconds:ya("number")};class ka{static fromTimestamp(e){return new ka(e)}static min(){return new ka(new wa(0,0))}static max(){return new ka(new wa(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sa=-1;class Ea{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ea.UNKNOWN_ID=-1;function _a(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ka.fromTimestamp(1e9===r?new wa(n+1,0):new wa(n,r));return new ja(i,ua.empty(),t)}function Na(e){return new ja(e.readTime,e.key,Sa)}class ja{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ja(ka.min(),ua.empty(),Sa)}static max(){return new ja(ka.max(),ua.empty(),Sa)}}function Ta(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ua.comparator(e.documentKey,t.documentKey),0!==n?n:Zi(e.largestBatchId,t.largestBatchId))}const Ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Oa(e){if(e.code!==zi.FAILED_PRECONDITION||e.message!==Ca)throw e;Ii("LocalStore","Unexpectedly lost primary lease")}class Ia{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ri(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ia((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ia?t:Ia.resolve(t)}catch(e){return Ia.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ia.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ia.reject(t)}static resolve(e){return new Ia((t,n)=>{t(e)})}static reject(e){return new Ia((t,n)=>{n(e)})}static waitFor(e){return new Ia((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Ia.resolve(!1);for(const n of e)t=t.next(e=>e?Ia.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ia((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Ia((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Pa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Da(e){return"IndexedDbTransactionError"===e.name}class Ma{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ma.ce=-1;const Ra=-1;function La(e){return null==e}function Fa(e){return 0===e&&1/e==-1/0}function Ua(e){return"number"==typeof e&&Number.isInteger(e)&&!Fa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const za="\x01";function $a(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ba(t)),t=Va(e.get(n),t);return Ba(t)}function Va(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case za:n+="\x01\x11";break;default:n+=t}}return n}function Ba(e){return e+za+"\x01"}const qa="remoteDocuments",Ha="owner",Ka="mutationQueues",Wa="mutations";const Ga="documentMutations",Qa="remoteDocumentsV14",Ya="remoteDocumentGlobal",Xa="targets",Ja="targetDocuments",Za="targetGlobal",es="collectionParents",ts="clientMetadata",ns="bundles",rs="namedQueries",is="indexConfiguration",as="indexState",ss="indexEntries",os="documentOverlays",ls="globals",cs=[Ka,Wa,Ga,qa,Xa,Ha,Za,Ja,ts,Ya,es,ns,rs],us=[Ka,Wa,Ga,Qa,Xa,Ha,Za,Ja,ts,Ya,es,ns,rs,os],ds=us,hs=[...ds,is,as,ss];function fs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ps(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ms(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gs{constructor(e,t){this.comparator=e,this.root=t||vs.EMPTY}insert(e,t){return new gs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new gs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}}class ys{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vs.RED,this.left=null!=r?r:vs.EMPTY,this.right=null!=i?i:vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new vs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ri(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ri(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ri(27949);return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ri(57766)}get value(){throw Ri(16141)}get color(){throw Ri(16727)}get left(){throw Ri(29726)}get right(){throw Ri(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bs{constructor(e){this.comparator=e,this.data=new gs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xs(this.data.getIterator())}getIteratorFrom(e){return new xs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bs))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bs(this.comparator);return t.data=e,t}}class xs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ws{constructor(e){this.fields=e,e.sort(ca.comparator)}static empty(){return new ws([])}unionWith(e){let t=new bs(ca.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ks extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ss{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ks("Invalid base64 string: "+e):e}}(e);return new Ss(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ss(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ss.EMPTY_BYTE_STRING=new Ss("");const Es=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(e){if(Fi(!!e,39018),"string"==typeof e){let t=0;const n=Es.exec(e);if(Fi(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ns(e.seconds),nanos:Ns(e.nanos)}}function Ns(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function js(e){return"string"==typeof e?Ss.fromBase64String(e):Ss.fromUint8Array(e)}const Ts="server_timestamp",Cs="__type__",As="__previous_value__",Os="__local_write_time__";function Is(e){const t=(e?.mapValue?.fields||{})[Cs]?.stringValue;return t===Ts}function Ps(e){const t=e.mapValue.fields[As];return Is(t)?Ps(t):t}function Ds(e){const t=_s(e.mapValue.fields[Os].timestampValue);return new wa(t.seconds,t.nanos)}class Ms{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Rs="(default)";class Ls{constructor(e,t){this.projectId=e,this.database=t||Rs}static empty(){return new Ls("","")}get isDefaultDatabase(){return this.database===Rs}isEqual(e){return e instanceof Ls&&e.projectId===this.projectId&&e.database===this.database}}const Fs="__type__",Us="__max__",zs={mapValue:{fields:{__type__:{stringValue:Us}}}},$s="__vector__",Vs="value";function Bs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Is(e)?4:so(e)?9007199254740991:io(e)?10:11:Ri(28295,{value:e})}function qs(e,t){if(e===t)return!0;const n=Bs(e);if(n!==Bs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ds(e).isEqual(Ds(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_s(e.timestampValue),r=_s(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return js(e.bytesValue).isEqual(js(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ns(e.geoPointValue.latitude)===Ns(t.geoPointValue.latitude)&&Ns(e.geoPointValue.longitude)===Ns(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ns(e.integerValue)===Ns(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ns(e.doubleValue),r=Ns(t.doubleValue);return n===r?Fa(n)===Fa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ia(e.arrayValue.values||[],t.arrayValue.values||[],qs);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fs(n)!==fs(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qs(n[i],r[i])))return!1;return!0}(e,t);default:return Ri(52216,{left:e})}}function Hs(e,t){return void 0!==(e.values||[]).find(e=>qs(e,t))}function Ks(e,t){if(e===t)return 0;const n=Bs(e),r=Bs(t);if(n!==r)return Zi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ns(e.integerValue||e.doubleValue),r=Ns(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ws(e.timestampValue,t.timestampValue);case 4:return Ws(Ds(e),Ds(t));case 5:return ea(e.stringValue,t.stringValue);case 6:return function(e,t){const n=js(e),r=js(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zi(n[i],r[i]);if(0!==e)return e}return Zi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zi(Ns(e.latitude),Ns(t.latitude));return 0!==n?n:Zi(Ns(e.longitude),Ns(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gs(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[Vs]?.arrayValue,a=r[Vs]?.arrayValue,s=Zi(i?.values?.length||0,a?.values?.length||0);return 0!==s?s:Gs(i,a)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zs.mapValue&&t===zs.mapValue)return 0;if(e===zs.mapValue)return 1;if(t===zs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=ea(r[s],a[s]);if(0!==e)return e;const t=Ks(n[r[s]],i[a[s]]);if(0!==t)return t}return Zi(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ri(23264,{he:n})}}function Ws(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zi(e,t);const n=_s(e),r=_s(t),i=Zi(n.seconds,r.seconds);return 0!==i?i:Zi(n.nanos,r.nanos)}function Gs(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ks(n[i],r[i]);if(e)return e}return Zi(n.length,r.length)}function Qs(e){return Ys(e)}function Ys(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_s(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return js(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ua.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ys(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ys(e.fields[i])}`;return n+"}"}(e.mapValue):Ri(61005,{value:e})}function Xs(e){switch(Bs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ps(e);return t?16+Xs(t):16;case 5:return 2*e.stringValue.length;case 6:return js(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Xs(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ps(e.fields,(e,n)=>{t+=e.length+Xs(n)}),t}(e.mapValue);default:throw Ri(13486,{value:e})}}function Js(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zs(e){return!!e&&"integerValue"in e}function eo(e){return!!e&&"arrayValue"in e}function to(e){return!!e&&"nullValue"in e}function no(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ro(e){return!!e&&"mapValue"in e}function io(e){const t=(e?.mapValue?.fields||{})[Fs]?.stringValue;return t===$s}function ao(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ps(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ao(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ao(e.arrayValue.values[n]);return t}return{...e}}function so(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Us}class oo{constructor(e){this.value=e}static empty(){return new oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ro(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(t)}setAll(e){let t=ca.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ao(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ro(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ro(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ps(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new oo(ao(this.value))}}function lo(e){const t=[];return ps(e.fields,(e,n)=>{const r=new ca([e]);if(ro(n)){const e=lo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ws(t)}class co{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new co(e,0,ka.min(),ka.min(),ka.min(),oo.empty(),0)}static newFoundDocument(e,t,n,r){return new co(e,1,t,ka.min(),n,r,0)}static newNoDocument(e,t){return new co(e,2,t,ka.min(),ka.min(),oo.empty(),0)}static newUnknownDocument(e,t){return new co(e,3,t,ka.min(),ka.min(),oo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ka.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ka.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof co&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new co(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uo{constructor(e,t){this.position=e,this.inclusive=t}}function ho(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ua.comparator(ua.fromName(s.referenceValue),n.key):Ks(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qs(e.position[n],t.position[n]))return!1;return!0}class po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class go{}class yo extends go{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _o(e,t,n):"array-contains"===t?new Co(e,n):"in"===t?new Ao(e,n):"not-in"===t?new Oo(e,n):"array-contains-any"===t?new Io(e,n):new yo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new No(e,n):new jo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ks(t,this.value)):null!==t&&Bs(this.value)===Bs(t)&&this.matchesComparison(Ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ri(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vo extends go{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vo(e,t)}matches(e){return bo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bo(e){return"and"===e.op}function xo(e){return wo(e)&&bo(e)}function wo(e){for(const t of e.filters)if(t instanceof vo)return!1;return!0}function ko(e){if(e instanceof yo)return e.field.canonicalString()+e.op.toString()+Qs(e.value);if(xo(e))return e.filters.map(e=>ko(e)).join(",");{const t=e.filters.map(e=>ko(e)).join(",");return`${e.op}(${t})`}}function So(e,t){return e instanceof yo?function(e,t){return t instanceof yo&&e.op===t.op&&e.field.isEqual(t.field)&&qs(e.value,t.value)}(e,t):e instanceof vo?function(e,t){return t instanceof vo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&So(n,t.filters[r]),!0)}(e,t):void Ri(19439)}function Eo(e){return e instanceof yo?function(e){return`${e.field.canonicalString()} ${e.op} ${Qs(e.value)}`}(e):e instanceof vo?function(e){return e.op.toString()+" {"+e.getFilters().map(Eo).join(" ,")+"}"}(e):"Filter"}class _o extends yo{constructor(e,t,n){super(e,t,n),this.key=ua.fromName(n.referenceValue)}matches(e){const t=ua.comparator(e.key,this.key);return this.matchesComparison(t)}}class No extends yo{constructor(e,t){super(e,"in",t),this.keys=To("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jo extends yo{constructor(e,t){super(e,"not-in",t),this.keys=To("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function To(e,t){return(t.arrayValue?.values||[]).map(e=>ua.fromName(e.referenceValue))}class Co extends yo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eo(t)&&Hs(t.arrayValue,this.value)}}class Ao extends yo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hs(this.value.arrayValue,t)}}class Oo extends yo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Hs(this.value.arrayValue,t)}}class Io extends yo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Hs(this.value.arrayValue,e))}}class Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Te=null}}function Do(e){return new Po(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Mo(e){const t=Ui(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ko(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),La(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Qs(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Qs(e)).join(",")),t.Te=e}return t.Te}function Ro(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!So(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fo(e.startAt,t.startAt)&&fo(e.endAt,t.endAt)}function Lo(e){return ua.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Fo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Uo(e,t,n,r,i,a,s,o){return new Fo(e,t,n,r,i,a,s,o)}function zo(e){return new Fo(e)}function $o(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vo(e){return null!==e.collectionGroup}function Bo(e){const t=Ui(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bs(ca.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new po(r,n))}),e.has(ca.keyField().canonicalString())||t.Ie.push(new po(ca.keyField(),n))}return t.Ie}function qo(e){const t=Ui(e);return t.Ee||(t.Ee=Ho(t,Bo(e))),t.Ee}function Ho(e,t){if("F"===e.limitType)return Do(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new po(e.field,t)});const n=e.endAt?new uo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new uo(e.startAt.position,e.startAt.inclusive):null;return Do(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ko(e,t){const n=e.filters.concat([t]);return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wo(e,t,n){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Go(e,t){return Ro(qo(e),qo(t))&&e.limitType===t.limitType}function Qo(e){return`${Mo(qo(e))}|lt:${e.limitType}`}function Yo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Eo(e)).join(", ")}]`),La(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Qs(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Qs(e)).join(",")),`Target(${t})`}(qo(e))}; limitType=${e.limitType})`}function Xo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ua.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ho(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bo(e),t))&&!(e.endAt&&!function(e,t,n){const r=ho(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bo(e),t))}(e,t)}function Jo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zo(e){return(t,n)=>{let r=!1;for(const i of Bo(e)){const e=el(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function el(e,t,n){const r=e.field.isKeyField()?ua.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ks(r,i):Ri(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ri(19790,{direction:e.dir})}}class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ms(this.inner)}size(){return this.innerSize}}const nl=new gs(ua.comparator);function rl(){return nl}const il=new gs(ua.comparator);function al(){let e=il;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function sl(e){let t=il;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ol(){return cl()}function ll(){return cl()}function cl(){return new tl(e=>e.toString(),(e,t)=>e.isEqual(t))}const ul=new gs(ua.comparator),dl=new bs(ua.comparator);function hl(){let e=dl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const fl=new bs(Zi);function pl(){return fl}function ml(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(t)?"-0":t}}function gl(e){return{integerValue:""+e}}function yl(e,t){return Ua(t)?gl(t):ml(e,t)}class vl{constructor(){this._=void 0}}function bl(e,t,n){return e instanceof kl?function(e,t){const n={fields:{[Cs]:{stringValue:Ts},[Os]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Is(t)&&(t=Ps(t)),t&&(n.fields[As]=t),{mapValue:n}}(n,t):e instanceof Sl?El(e,t):e instanceof _l?Nl(e,t):function(e,t){const n=wl(e,t),r=Tl(n)+Tl(e.Ae);return Zs(n)&&Zs(e.Ae)?gl(r):ml(e.serializer,r)}(e,t)}function xl(e,t,n){return e instanceof Sl?El(e,t):e instanceof _l?Nl(e,t):n}function wl(e,t){return e instanceof jl?function(e){return Zs(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class kl extends vl{}class Sl extends vl{constructor(e){super(),this.elements=e}}function El(e,t){const n=Cl(t);for(const r of e.elements)n.some(e=>qs(e,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends vl{constructor(e){super(),this.elements=e}}function Nl(e,t){let n=Cl(t);for(const r of e.elements)n=n.filter(e=>!qs(e,r));return{arrayValue:{values:n}}}class jl extends vl{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Tl(e){return Ns(e.integerValue||e.doubleValue)}function Cl(e){return eo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Al{constructor(e,t){this.version=e,this.transformResults=t}}class Ol{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ol}static exists(e){return new Ol(void 0,e)}static updateTime(e){return new Ol(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Il(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Pl{}function Dl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ql(e.key,Ol.none()):new Ul(e.key,e.data,Ol.none());{const n=e.data,r=oo.empty();let i=new bs(ca.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new zl(e.key,r,new ws(i.toArray()),Ol.none())}}function Ml(e,t,n){e instanceof Ul?function(e,t,n){const r=e.value.clone(),i=Vl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zl?function(e,t,n){if(!Il(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Vl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($l(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rl(e,t,n,r){return e instanceof Ul?function(e,t,n,r){if(!Il(e.precondition,t))return n;const i=e.value.clone(),a=Bl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zl?function(e,t,n,r){if(!Il(e.precondition,t))return n;const i=Bl(e.fieldTransforms,r,t),a=t.data;return a.setAll($l(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Il(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ll(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wl(r.transform,e||null);null!=i&&(null===n&&(n=oo.empty()),n.set(r.field,i))}return n||null}function Fl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ia(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sl&&t instanceof Sl||e instanceof _l&&t instanceof _l?ia(e.elements,t.elements,qs):e instanceof jl&&t instanceof jl?qs(e.Ae,t.Ae):e instanceof kl&&t instanceof kl}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ul extends Pl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zl extends Pl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $l(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vl(e,t,n){const r=new Map;Fi(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,xl(s,o,n[i]))}return r}function Bl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,bl(e,a,t))}return r}class ql extends Pl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hl extends Pl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ml(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ll();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Dl(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ka.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hl())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(e,t)=>Fl(e,t))&&ia(this.baseMutations,e.baseMutations,(e,t)=>Fl(e,t))}}class Wl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fi(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ul;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Wl(e,t,n,r)}}class Gl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ql{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yl,Xl;function Jl(e){switch(e){case zi.OK:return Ri(64938);case zi.CANCELLED:case zi.UNKNOWN:case zi.DEADLINE_EXCEEDED:case zi.RESOURCE_EXHAUSTED:case zi.INTERNAL:case zi.UNAVAILABLE:case zi.UNAUTHENTICATED:return!1;case zi.INVALID_ARGUMENT:case zi.NOT_FOUND:case zi.ALREADY_EXISTS:case zi.PERMISSION_DENIED:case zi.FAILED_PRECONDITION:case zi.ABORTED:case zi.OUT_OF_RANGE:case zi.UNIMPLEMENTED:case zi.DATA_LOSS:return!0;default:return Ri(15467,{code:e})}}function Zl(e){if(void 0===e)return Pi("GRPC error has no .code"),zi.UNKNOWN;switch(e){case Yl.OK:return zi.OK;case Yl.CANCELLED:return zi.CANCELLED;case Yl.UNKNOWN:return zi.UNKNOWN;case Yl.DEADLINE_EXCEEDED:return zi.DEADLINE_EXCEEDED;case Yl.RESOURCE_EXHAUSTED:return zi.RESOURCE_EXHAUSTED;case Yl.INTERNAL:return zi.INTERNAL;case Yl.UNAVAILABLE:return zi.UNAVAILABLE;case Yl.UNAUTHENTICATED:return zi.UNAUTHENTICATED;case Yl.INVALID_ARGUMENT:return zi.INVALID_ARGUMENT;case Yl.NOT_FOUND:return zi.NOT_FOUND;case Yl.ALREADY_EXISTS:return zi.ALREADY_EXISTS;case Yl.PERMISSION_DENIED:return zi.PERMISSION_DENIED;case Yl.FAILED_PRECONDITION:return zi.FAILED_PRECONDITION;case Yl.ABORTED:return zi.ABORTED;case Yl.OUT_OF_RANGE:return zi.OUT_OF_RANGE;case Yl.UNIMPLEMENTED:return zi.UNIMPLEMENTED;case Yl.DATA_LOSS:return zi.DATA_LOSS;default:return Ri(39323,{code:e})}}(Xl=Yl||(Yl={}))[Xl.OK=0]="OK",Xl[Xl.CANCELLED=1]="CANCELLED",Xl[Xl.UNKNOWN=2]="UNKNOWN",Xl[Xl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xl[Xl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xl[Xl.NOT_FOUND=5]="NOT_FOUND",Xl[Xl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xl[Xl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xl[Xl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xl[Xl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xl[Xl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xl[Xl.ABORTED=10]="ABORTED",Xl[Xl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xl[Xl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xl[Xl.INTERNAL=13]="INTERNAL",Xl[Xl.UNAVAILABLE=14]="UNAVAILABLE",Xl[Xl.DATA_LOSS=15]="DATA_LOSS";let ec=null;function tc(){return new TextEncoder}const nc=new hi([4294967295,4294967295],0);function rc(e){const t=tc().encode(e),n=new fi;return n.update(t),new Uint8Array(n.digest())}function ic(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new hi([n,r],0),new hi([i,a],0)]}class ac{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sc(`Invalid padding: ${t}`);if(n<0)throw new sc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new sc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=hi.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(hi.fromNumber(n)));return 1===r.compare(nc)&&(r=new hi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=rc(e),[n,r]=ic(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ac(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=rc(e),[n,r]=ic(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new oc(ka.min(),r,new gs(Zi),rl(),hl())}}class lc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lc(n,t,hl(),hl(),hl())}}class cc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class uc{constructor(e,t){this.targetId=e,this.Ce=t}}class dc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ss.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class hc{constructor(){this.ve=0,this.Fe=mc(),this.Me=Ss.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=hl(),t=hl(),n=hl();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ri(38017,{changeType:i})}}),new lc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=mc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fc{constructor(e){this.Ge=e,this.ze=new Map,this.je=rl(),this.Je=pc(),this.He=pc(),this.Ye=new gs(Zi)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ri(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Lo(i))if(0===n){const e=new ua(i.path);this.et(t,e,co.newNoDocument(e,ka.min()))}else Fi(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}ec?.lt(function(e,t,n,r,i){const a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},s=t.unchangedNames;return s&&(a.bloomFilter={applied:0===i,hashCount:s?.hashCount??0,bitmapLength:s?.bits?.bitmap?.length??0,padding:s?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=js(n).toUint8Array()}catch(e){if(e instanceof ks)return Di("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ac(a,r,i)}catch(e){return Di(e instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Lo(i.target)){const t=new ua(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,co.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=hl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new oc(e,t,this.Ye,this.je,n);return this.je=rl(),this.Je=pc(),this.He=pc(),this.Ye=new gs(Zi),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new hc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bs(Zi),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bs(Zi),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Ii("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pc(){return new gs(ua.comparator)}function mc(){return new gs(ua.comparator)}const gc={asc:"ASCENDING",desc:"DESCENDING"},yc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vc={and:"AND",or:"OR"};class bc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xc(e,t){return e.useProto3Json||La(t)?t:{value:t}}function wc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sc(e,t){return wc(e,t.toTimestamp())}function Ec(e){return Fi(!!e,49232),ka.fromTimestamp(function(e){const t=_s(e);return new wa(t.seconds,t.nanos)}(e))}function _c(e,t){return Nc(e,t).canonicalString()}function Nc(e,t){const n=function(e){return new oa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function jc(e){const t=oa.fromString(e);return Fi(Wc(t),10190,{key:t.toString()}),t}function Tc(e,t){return _c(e.databaseId,t.path)}function Cc(e,t){const n=jc(t);if(n.get(1)!==e.databaseId.projectId)throw new $i(zi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $i(zi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ua(Pc(n))}function Ac(e,t){return _c(e.databaseId,t)}function Oc(e){const t=jc(e);return 4===t.length?oa.emptyPath():Pc(t)}function Ic(e){return new oa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pc(e){return Fi(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Dc(e,t,n){return{name:Tc(e,t),fields:n.value.mapValue.fields}}function Mc(e,t){let n;if(t instanceof Ul)n={update:Dc(e,t.key,t.value)};else if(t instanceof ql)n={delete:Tc(e,t.key)};else if(t instanceof zl)n={update:Dc(e,t.key,t.data),updateMask:Kc(t.fieldMask)};else{if(!(t instanceof Hl))return Ri(16599,{Vt:t.type});n={verify:Tc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof kl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _l)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jl)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ri(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ri(27497)}(e,t.precondition)),n}function Rc(e,t){return{documents:[Ac(e,t.path)]}}function Lc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ac(e,i);const a=function(e){if(0!==e.length)return Hc(vo.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Bc(e.field),direction:zc(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=xc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Fc(e){let t=Oc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fi(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Uc(e);return t instanceof vo&&xo(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new po(qc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,La(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new uo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new uo(n,t)}(n.endAt)),Uo(t,i,s,a,o,"F",l,c)}function Uc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qc(e.unaryFilter.field);return yo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qc(e.unaryFilter.field);return yo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qc(e.unaryFilter.field);return yo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qc(e.unaryFilter.field);return yo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ri(61313);default:return Ri(60726)}}(e):void 0!==e.fieldFilter?function(e){return yo.create(qc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ri(58110);default:return Ri(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vo.create(e.compositeFilter.filters.map(e=>Uc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ri(1026)}}(e.compositeFilter.op))}(e):Ri(30097,{filter:e})}function zc(e){return gc[e]}function $c(e){return yc[e]}function Vc(e){return vc[e]}function Bc(e){return{fieldPath:e.canonicalString()}}function qc(e){return ca.fromServerFormat(e.fieldPath)}function Hc(e){return e instanceof yo?function(e){if("=="===e.op){if(no(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NAN"}};if(to(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(no(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NOT_NAN"}};if(to(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(e.field),op:$c(e.op),value:e.value}}}(e):e instanceof vo?function(e){const t=e.getFilters().map(e=>Hc(e));return 1===t.length?t[0]:{compositeFilter:{op:Vc(e.op),filters:t}}}(e):Ri(54877,{filter:e})}function Kc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ka.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ka.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ss.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qc{constructor(e){this.yt=e}}function Yc(e){const t=Fc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wo(t,t.limit,"L"):t}class Xc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ns(e.integerValue));else if("doubleValue"in e){const n=Ns(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Fa(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=_s(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(js(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?so(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):io(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ri(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=Vs,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ns(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ua.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Xc.Kt=new Xc;class Jc{constructor(){this.Cn=new Zc}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ia.resolve()}getCollectionParents(e,t){return Ia.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ia.resolve()}deleteFieldIndex(e,t){return Ia.resolve()}deleteAllFieldIndexes(e){return Ia.resolve()}createTargetIndexes(e,t){return Ia.resolve()}getDocumentsMatchingTarget(e,t){return Ia.resolve(null)}getIndexType(e,t){return Ia.resolve(0)}getFieldIndexes(e,t){return Ia.resolve([])}getNextCollectionGroupToUpdate(e){return Ia.resolve(null)}getMinOffset(e,t){return Ia.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return Ia.resolve(ja.min())}updateCollectionGroup(e,t,n){return Ia.resolve()}updateIndexEntries(e,t){return Ia.resolve()}}class Zc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bs(oa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bs(oa.comparator)).toArray()}}new Uint8Array(0);const eu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tu=41943040;class nu{static withCacheSize(e){return new nu(e,nu.DEFAULT_COLLECTION_PERCENTILE,nu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}nu.DEFAULT_COLLECTION_PERCENTILE=10,nu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nu.DEFAULT=new nu(tu,nu.DEFAULT_COLLECTION_PERCENTILE,nu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nu.DISABLED=new nu(-1,0,0);class ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ru(0)}static cr(){return new ru(-1)}}const iu="LruGarbageCollector",au=1048576;function su(e,t){let[n,r]=e,[i,a]=t;const s=Zi(n,i);return 0===s?Zi(r,a):s}class ou{constructor(e){this.Ir=e,this.buffer=new bs(su),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();su(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Ii(iu,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Da(e)?Ii(iu,"Ignoring IndexedDB error during garbage collection: ",e):await Oa(e)}await this.Vr(3e5)})}}class cu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ia.resolve(Ma.ce);const n=new ou(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ii("LruGarbageCollector","Garbage collection skipped; disabled"),Ia.resolve(eu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ii("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Ii("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Oi()<=Vn.DEBUG&&Ii("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(s-a)+"ms\n"+`\tRemoved ${i} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Ia.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function uu(e,t){return new cu(e,t)}class du{constructor(){this.changes=new tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,co.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ia.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rl(n.mutation,e,ws.empty(),wa.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,hl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hl();const r=ol();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=al();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ol();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,hl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=rl();const a=cl(),s=cl();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof zl)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Rl(s.mutation,t,s.mutation.getFieldMask(),wa.now())):a.set(t.key,ws.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>s.set(e,new hu(t,a.get(e)??null))),s))}recalculateAndSaveOverlays(e,t){const n=cl();let r=new gs((e,t)=>e-t),i=hl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||ws.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||hl()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=ll();l.forEach(e=>{if(!i.has(e)){const r=Dl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ia.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ua.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ia.resolve(ol());let s=Sa,o=i;return a.next(t=>Ia.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Ia.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,hl())).next(e=>({batchId:s,changes:sl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ua(t)).next(e=>{let t=al();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=al();return this.indexManager.getCollectionParents(e,i).next(s=>Ia.forEach(s,s=>{const o=function(e,t){return new Fo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,co.newInvalidDocument(r)))});let n=al();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Rl(a.mutation,r,ws.empty(),wa.now()),Xo(t,r)&&(n=n.insert(e,r))}),n})}}class pu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ia.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ec(e.createTime)}}(t)),Ia.resolve()}getNamedQuery(e,t){return Ia.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Yc(e.bundledQuery),readTime:Ec(e.readTime)}}(t)),Ia.resolve()}}class mu{constructor(){this.overlays=new gs(ua.comparator),this.qr=new Map}getOverlay(e,t){return Ia.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ol();return Ia.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ia.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ia.resolve()}getOverlaysForCollection(e,t,n){const r=ol(),i=t.length+1,a=new ua(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ia.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gs((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ol(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ol(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Ia.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gl(t,n));let i=this.qr.get(t);void 0===i&&(i=hl(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class gu{constructor(){this.sessionToken=Ss.EMPTY_BYTE_STRING}getSessionToken(e){return Ia.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ia.resolve()}}class yu{constructor(){this.Qr=new bs(vu.$r),this.Ur=new bs(vu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new vu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new vu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ua(new oa([])),n=new vu(t,e),r=new vu(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ua(new oa([])),n=new vu(t,e),r=new vu(t,e+1);let i=hl();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new vu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ua.comparator(e.key,t.key)||Zi(e.Yr,t.Yr)}static Kr(e,t){return Zi(e.Yr,t.Yr)||ua.comparator(e.key,t.key)}}class bu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bs(vu.$r)}checkEmpty(e){return Ia.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Kl(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Zr=this.Zr.add(new vu(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ia.resolve(a)}lookupMutationBatch(e,t){return Ia.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ia.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ia.resolve(0===this.mutationQueue.length?Ra:this.tr-1)}getAllMutationBatches(e){return Ia.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vu(t,0),r=new vu(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ia.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bs(Zi);return t.forEach(e=>{const t=new vu(e,0),r=new vu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ia.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ua.isDocumentKey(i)||(i=i.child(""));const a=new vu(new ua(i),0);let s=new bs(Zi);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},a),Ia.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Fi(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ia.forEach(t.mutations,r=>{const i=new vu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new vu(t,0),r=this.Zr.firstAfterOrEqual(n);return Ia.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ia.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xu{constructor(e){this.ri=e,this.docs=new gs(ua.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ia.resolve(n?n.document.mutableCopy():co.newInvalidDocument(t))}getEntries(e,t){let n=rl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():co.newInvalidDocument(e))}),Ia.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=rl();const a=t.path,s=new ua(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ta(Na(s),n)<=0||(r.has(s.key)||Xo(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Ia.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ri(9500)}ii(e,t){return Ia.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new wu(this)}getSize(e){return Ia.resolve(this.size)}}class wu extends du{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ia.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ku{constructor(e){this.persistence=e,this.si=new tl(e=>Mo(e),Ro),this.lastRemoteSnapshotVersion=ka.min(),this.highestTargetId=0,this.oi=0,this._i=new yu,this.targetCount=0,this.ai=ru.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ia.resolve()}getLastRemoteSnapshotVersion(e){return Ia.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ia.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ia.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ia.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ru(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ia.resolve()}updateTargetData(e,t){return this.Pr(t),Ia.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ia.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Ia.waitFor(i).next(()=>r)}getTargetCount(e){return Ia.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ia.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ia.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ia.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ia.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ia.resolve(n)}containsKey(e,t){return Ia.resolve(this._i.containsKey(t))}}class Su{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ma(0),this.li=!1,this.li=!0,this.hi=new gu,this.referenceDelegate=e(this),this.Pi=new ku(this),this.indexManager=new Jc,this.remoteDocumentCache=function(e){return new xu(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Qc(t),this.Ii=new pu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new bu(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ii("MemoryPersistence","Starting transaction:",e);const r=new Eu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ia.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Eu extends Aa{constructor(e){super(),this.currentSequenceNumber=e}}class _u{constructor(e){this.persistence=e,this.Ri=new yu,this.Vi=null}static mi(e){return new _u(e)}get fi(){if(this.Vi)return this.Vi;throw Ri(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ia.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ia.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ia.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ia.forEach(this.fi,n=>{const r=ua.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ka.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ia.or([()=>Ia.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nu{constructor(e,t){this.persistence=e,this.pi=new tl(e=>$a(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uu(this,t)}static mi(e,t){return new Nu(e,t)}Ei(){}di(e){return Ia.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ia.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ia.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ka.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ia.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ia.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ia.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ia.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xs(e.data.value)),t}br(e,t,n){return Ia.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ia.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ju{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=hl(),r=hl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ju(e,t.fromCache,n,r)}}class Tu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cu{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=kn()?8:Pa(bn())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Tu;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Oi()<=Vn.DEBUG&&Ii("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ia.resolve()):(Oi()<=Vn.DEBUG&&Ii("QueryEngine","Query:",Yo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Oi()<=Vn.DEBUG&&Ii("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(t))):Ia.resolve())}ys(e,t){if($o(t))return Ia.resolve(null);let n=qo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wo(t,null,"F"),n=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=hl(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Wo(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return $o(t)||r.isEqual(ka.min())?Ia.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?Ia.resolve(null):(Oi()<=Vn.DEBUG&&Ii("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yo(t)),this.vs(e,a,t,_a(r,Sa)).next(e=>e))})}Ds(e,t){let n=new bs(Zo(e));return t.forEach((t,r)=>{Xo(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Oi()<=Vn.DEBUG&&Ii("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.ps.getDocumentsMatchingQuery(e,t,ja.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Au="LocalStore";class Ou{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gs(Zi),this.xs=new tl(e=>Mo(e),Ro),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Iu(e,t,n,r){return new Ou(e,t,n,r)}async function Pu(e,t){const n=Ui(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=hl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function Du(e){const t=Ui(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Mu(e,t,n){let r=hl(),i=hl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=rl();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ka.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ii(Au,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{ks:r,qs:i}})}function Ru(e,t){const n=Ui(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ra),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Lu(e,t){const n=Ui(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Ia.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Gc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Fu(e,t,n){const r=Ui(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Da(e))throw e;Ii(Au,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Uu(e,t,n){const r=Ui(e);let i=ka.min(),a=hl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ui(e),i=r.xs.get(n);return void 0!==i?Ia.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,qo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:ka.min(),n?a:hl())).next(e=>(zu(r,Jo(t),e),{documents:e,Qs:a})))}function zu(e,t,n){let r=e.Os.get(t)||ka.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class $u{constructor(){this.activeTargetIds=pl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vu{constructor(){this.Mo=new $u,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $u,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bu{Oo(e){}shutdown(){}}const qu="ConnectivityMonitor";class Hu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ii(qu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ii(qu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ku=null;function Wu(){return null===Ku?Ku=268435456+Math.round(2147483648*Math.random()):Ku++,"0x"+Ku.toString(16)}const Gu="RestConnection",Qu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Rs?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const a=Wu(),s=this.zo(e,t.toUriEncodedString());Ii(Gu,`Sending RPC '${e}' ${a}:`,s,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(s),c=fn(l);return this.Jo(e,s,o,n,c).then(t=>(Ii(Gu,`Received RPC '${e}' ${a}: `,t),t),t=>{throw Di(Gu,`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ci,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Qu[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class Xu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ju="WebChannelConnection";class Zu extends Yu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Wu();return new Promise((i,s)=>{const o=new gi;o.setWithCredentials(!0),o.listenOnce(vi.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case bi.NO_ERROR:const t=o.getResponseJson();Ii(Ju,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case bi.TIMEOUT:Ii(Ju,`RPC '${e}' ${a} timed out`),s(new $i(zi.DEADLINE_EXCEEDED,"Request time out"));break;case bi.HTTP_ERROR:const n=o.getStatus();if(Ii(Ju,`RPC '${e}' ${a} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zi).indexOf(t)>=0?t:zi.UNKNOWN}(t.status);s(new $i(e,t.message))}else s(new $i(zi.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new $i(zi.UNAVAILABLE,"Connection failed."));break;default:Ri(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Ii(Ju,`RPC '${e}' ${a} completed.`)}});const l=JSON.stringify(r);Ii(Ju,`RPC '${e}' ${a} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Wu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Si(),s=ki(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ii(Ju,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=a.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new Xu({Yo:t=>{h?Ii(Ju,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Ii(Ju,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Ii(Ju,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,yi.EventType.OPEN,()=>{h||(Ii(Ju,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,yi.EventType.CLOSE,()=>{h||(h=!0,Ii(Ju,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,yi.EventType.ERROR,t=>{h||(h=!0,Di(Ju,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new $i(zi.UNAVAILABLE,"The operation could not be completed")))}),p(u,yi.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];Fi(!!n,16349);const i=n,a=i?.error||i[0]?.error;if(a){Ii(Ju,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Yl[e];if(void 0!==t)return Zl(t)}(t),i=a.message;void 0===n&&(n=zi.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new $i(n,i)),u.close()}else Ii(Ju,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(s,wi.STAT_EVENT,t=>{t.stat===xi.PROXY?Ii(Ju,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===xi.NOPROXY&&Ii(Ju,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ed(){return"undefined"!=typeof document?document:null}function td(e){return new bc(e,!0)}class nd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ii("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rd="PersistentStream";class id{constructor(e,t,n,r,i,a,s,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nd(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===zi.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===zi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new $i(zi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ii(rd,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ii(rd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ad extends id{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ri(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Fi(void 0===t||"string"==typeof t,58123),Ss.fromBase64String(t||"")):(Fi(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ss.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?zi.UNKNOWN:Zl(e.code);return new $i(t,e.message||"")}(s);n=new dc(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cc(e,r.document.name),a=Ec(r.document.updateTime),s=r.document.createTime?Ec(r.document.createTime):ka.min(),o=new oo({mapValue:{fields:r.document.fields}}),l=co.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Cc(e,r.document),a=r.readTime?Ec(r.readTime):ka.min(),s=co.newNoDocument(i,a),o=r.removedTargetIds||[];n=new cc([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Cc(e,r.document),a=r.removedTargetIds||[];n=new cc([],a,i,null)}else{if(!("filter"in t))return Ri(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Ql(r,i),s=e.targetId;n=new uc(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ka.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ka.min():t.readTime?Ec(t.readTime):ka.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ic(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lo(r)?{documents:Rc(e,r)}:{query:Lc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kc(e,t.resumeToken);const r=xc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ka.min())>0){n.readTime=wc(e,t.snapshotVersion.toTimestamp());const r=xc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ri(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ic(this.serializer),t.removeTarget=e,this.q_(t)}}class sd extends id{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fi(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Fi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Fi(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ec(e.updateTime):Ec(t);return n.isEqual(ka.min())&&(n=Ec(t)),new Al(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ec(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ic(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Mc(this.serializer,e))};this.q_(t)}}class od{}class ld extends od{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new $i(zi.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Go(e,Nc(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $i(zi.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Ho(e,Nc(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $i(zi.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(t),this.aa=!1):Ii("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ud="RemoteStore";class dd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{xd(this)&&(Ii(ud,"Restarting streams for network reachability change."),await async function(e){const t=Ui(e);t.Ea.add(4),await fd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await hd(t)}(this))})}),this.Ra=new cd(n,r)}}async function hd(e){if(xd(e))for(const t of e.da)await t(!0)}async function fd(e){for(const t of e.da)await t(!1)}function pd(e,t){const n=Ui(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),bd(n)?vd(n):Ud(n).O_()&&gd(n,t))}function md(e,t){const n=Ui(e),r=Ud(n);n.Ia.delete(t),r.O_()&&yd(n,t),0===n.Ia.size&&(r.O_()?r.L_():xd(n)&&n.Ra.set("Unknown"))}function gd(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ka.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ud(e).Y_(t)}function yd(e,t){e.Va.Ue(t),Ud(e).Z_(t)}function vd(e){e.Va=new fc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ud(e).start(),e.Ra.ua()}function bd(e){return xd(e)&&!Ud(e).x_()&&e.Ia.size>0}function xd(e){return 0===Ui(e).Ea.size}function wd(e){e.Va=void 0}async function kd(e){e.Ra.set("Online")}async function Sd(e){e.Ia.forEach((t,n)=>{gd(e,t)})}async function Ed(e,t){wd(e),bd(e)?(e.Ra.ha(t),vd(e)):e.Ra.set("Unknown")}async function _d(e,t,n){if(e.Ra.set("Online"),t instanceof dc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Ii(ud,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nd(e,n)}else if(t instanceof cc?e.Va.Ze(t):t instanceof uc?e.Va.st(t):e.Va.tt(t),!n.isEqual(ka.min()))try{const t=await Du(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Ss.EMPTY_BYTE_STRING,r.snapshotVersion)),yd(e,t);const i=new Gc(r.target,t,n,r.sequenceNumber);gd(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ii(ud,"Failed to raise snapshot:",t),await Nd(e,t)}}async function Nd(e,t,n){if(!Da(t))throw t;e.Ea.add(1),await fd(e),e.Ra.set("Offline"),n||(n=()=>Du(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ii(ud,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await hd(e)})}function jd(e,t){return t().catch(n=>Nd(e,n,t))}async function Td(e){const t=Ui(e),n=zd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ra;for(;Cd(t);)try{const e=await Ru(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ad(t,e)}catch(e){await Nd(t,e)}Od(t)&&Id(t)}function Cd(e){return xd(e)&&e.Ta.length<10}function Ad(e,t){e.Ta.push(t);const n=zd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Od(e){return xd(e)&&!zd(e).x_()&&e.Ta.length>0}function Id(e){zd(e).start()}async function Pd(e){zd(e).ra()}async function Dd(e){const t=zd(e);for(const n of e.Ta)t.ea(n.mutations)}async function Md(e,t,n){const r=e.Ta.shift(),i=Wl.from(r,t,n);await jd(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Td(e)}async function Rd(e,t){t&&zd(e).X_&&await async function(e,t){if(function(e){return Jl(e)&&e!==zi.ABORTED}(t.code)){const n=e.Ta.shift();zd(e).B_(),await jd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Td(e)}}(e,t),Od(e)&&Id(e)}async function Ld(e,t){const n=Ui(e);n.asyncQueue.verifyOperationInProgress(),Ii(ud,"RemoteStore received new credentials");const r=xd(n);n.Ea.add(3),await fd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await hd(n)}async function Fd(e,t){const n=Ui(e);t?(n.Ea.delete(2),await hd(n)):t||(n.Ea.add(2),await fd(n),n.Ra.set("Unknown"))}function Ud(e){return e.ma||(e.ma=function(e,t,n){const r=Ui(e);return r.sa(),new ad(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:kd.bind(null,e),t_:Sd.bind(null,e),r_:Ed.bind(null,e),H_:_d.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),bd(e)?vd(e):e.Ra.set("Unknown")):(await e.ma.stop(),wd(e))})),e.ma}function zd(e){return e.fa||(e.fa=function(e,t,n){const r=Ui(e);return r.sa(),new sd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pd.bind(null,e),r_:Rd.bind(null,e),ta:Dd.bind(null,e),na:Md.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Td(e)):(await e.fa.stop(),e.Ta.length>0&&(Ii(ud,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class $d{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new $d(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $i(zi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(e,t){if(Pi("AsyncQueue",`${t}: ${e}`),Da(e))return new $i(zi.UNAVAILABLE,`${t}: ${e}`);throw e}class Bd{static emptySet(e){return new Bd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ua.comparator(t.key,n.key):(e,t)=>ua.comparator(e.key,t.key),this.keyedMap=al(),this.sortedSet=new gs(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qd{constructor(){this.ga=new gs(ua.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ri(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Hd{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Hd(e,t,Bd.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Go(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Wd{constructor(){this.queries=Gd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Ui(e),r=n.queries;n.queries=Gd(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new $i(zi.ABORTED,"Firestore shutting down"))}}function Gd(){return new tl(e=>Qo(e),Go)}async function Qd(e,t){const n=Ui(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Kd,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Vd(e,`Initialization of query '${Yo(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Zd(n)}async function Yd(e,t){const n=Ui(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xd(e,t){const n=Ui(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Zd(n)}function Jd(e,t,n){const r=Ui(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Zd(e){e.Ca.forEach(e=>{e.next()})}var eh,th;(th=eh||(eh={})).Ma="default",th.Cache="cache";class nh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eh.Cache}}class rh{constructor(e){this.key=e}}class ih{constructor(e){this.key=e}}class ah{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=hl(),this.mutatedKeys=hl(),this.eu=Zo(e),this.tu=new Bd(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new qd,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ri(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const s=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==a.length||l?{snapshot:new Hd(this.query,e.tu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=hl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new ih(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new rh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=hl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Hd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const sh="SyncEngine";class oh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lh{constructor(e){this.key=e,this.hu=!1}}class ch{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new tl(e=>Qo(e),Go),this.Iu=new Map,this.Eu=new Set,this.du=new gs(ua.comparator),this.Au=new Map,this.Ru=new yu,this.Vu={},this.mu=new Map,this.fu=ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function uh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Oh(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await hh(r,t,n,!0),i}async function dh(e,t){const n=Oh(e);await hh(n,t,!0,!1)}async function hh(e,t,n,r){const i=await Lu(e.localStore,qo(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await fh(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&pd(e.remoteStore,i),o}async function fh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Uu(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return _h(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await Uu(e.localStore,t,!0),s=new ah(t,a.Qs),o=s.ru(a.documents),l=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);_h(e,n,c.au);const u=new oh(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function ph(e,t,n){const r=Ui(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!Go(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&md(r.remoteStore,i.targetId),Sh(r,i.targetId)}).catch(Oa)):(Sh(r,i.targetId),await Fu(r.localStore,i.targetId,!0))}async function mh(e,t){const n=Ui(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),md(n.remoteStore,r.targetId))}async function gh(e,t){const n=Ui(e);try{const e=await function(e,t){const n=Ui(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ss.EMPTY_BYTE_STRING,ka.min()).withLastLimboFreeSnapshotVersion(ka.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Pi.updateTargetData(e,c))});let o=rl(),l=hl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Mu(e,a,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(ka.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Ia.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Fi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Fi(r.hu,14607):e.removedDocuments.size>0&&(Fi(r.hu,42227),r.hu=!1))}),await Th(n,e,t)}catch(e){await Oa(e)}}function yh(e,t,n){const r=Ui(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ui(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Zd(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vh(e,t,n){const r=Ui(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new gs(ua.comparator);e=e.insert(a,co.newNoDocument(a,ka.min()));const n=hl().add(a),i=new oc(ka.min(),new Map,new gs(Zi),e,n);await gh(r,i),r.du=r.du.remove(a),r.Au.delete(t),jh(r)}else await Fu(r.localStore,t,!1).then(()=>Sh(r,t,n)).catch(Oa)}async function bh(e,t){const n=Ui(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Ia.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);Fi(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);kh(n,r,null),wh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Th(n,e)}catch(e){await Oa(e)}}async function xh(e,t,n){const r=Ui(e);try{const e=await function(e,t){const n=Ui(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Fi(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);kh(r,t,n),wh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Th(r,e)}catch(n){await Oa(n)}}function wh(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function kh(e,t,n){const r=Ui(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Eh(e,t)})}function Eh(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(md(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),jh(e))}function _h(e,t,n){for(const r of n)r instanceof rh?(e.Ru.addReference(r.key,t),Nh(e,r)):r instanceof ih?(Ii(sh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Eh(e,r.key)):Ri(19791,{wu:r})}function Nh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ii(sh,"New document in limbo: "+n),e.Eu.add(r),jh(e))}function jh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ua(oa.fromString(t)),r=e.fu.next();e.Au.set(r,new lh(n)),e.du=e.du.insert(n,r),pd(e.remoteStore,new Gc(qo(zo(n.path)),r,"TargetPurposeLimboResolution",Ma.ce))}}async function Th(e,t,n){const r=Ui(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){i.push(e);const t=ju.As(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=Ui(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ia.forEach(t,t=>Ia.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ia.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Da(e))throw e;Ii(Au,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function Ch(e,t){const n=Ui(e);if(!n.currentUser.isEqual(t)){Ii(sh,"User change. New user:",t.toKey());const e=await Pu(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new $i(zi.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Th(n,e.Ls)}}function Ah(e,t){const n=Ui(e),r=n.Au.get(t);if(r&&r.hu)return hl().add(r.key);{let e=hl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Oh(e){const t=Ui(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ah.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vh.bind(null,t),t.Pu.H_=Xd.bind(null,t.eventManager),t.Pu.yu=Jd.bind(null,t.eventManager),t}function Ih(e){const t=Ui(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xh.bind(null,t),t}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Iu(this.persistence,new Cu,e.initialUser,this.serializer)}Cu(e){return new Su(_u.mi,this.serializer)}Du(e){return new Vu}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Dh extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fi(this.persistence.referenceDelegate instanceof Nu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lu(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?nu.withCacheSize(this.cacheSizeBytes):nu.DEFAULT;return new Su(e=>Nu.mi(e,t),this.serializer)}}class Mh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ch.bind(null,this.syncEngine),await Fd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wd}createDatastore(e){const t=td(e.databaseInfo.databaseId),n=function(e){return new Zu(e)}(e.databaseInfo);return function(e,t,n,r){return new ld(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>yh(this.syncEngine,e,0),Hu.v()?new Hu:new Bu)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new ch(e,t,n,r,i,a);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=Ui(e);Ii(ud,"RemoteStore shutting down."),t.Ea.add(5),await fd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mh.provider={build:()=>new Mh};class Rh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Lh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $i(zi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Ui(e),r={documents:t.map(e=>Tc(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,oa.emptyPath(),r,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Fi(!!t.found,43571),t.found.name,t.found.updateTime;const n=Cc(e,t.found.name),r=Ec(t.found.updateTime),i=t.found.createTime?Ec(t.found.createTime):ka.min(),a=new oo({mapValue:{fields:t.found.fields}});return co.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Fi(!!t.missing,3894),Fi(!!t.readTime,22933);const n=Cc(e,t.missing),r=Ec(t.readTime);return co.newNoDocument(n,r)}(e,t):Ri(7234,{result:t})}(n.serializer,e);a.set(t.key.toString(),t)});const s=[];return t.forEach(e=>{const t=a.get(e.toString());Fi(!!t,55234,{key:e}),s.push(t)}),s}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ql(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=ua.fromPath(t);this.mutations.push(new Hl(n,this.precondition(n)))}),await async function(e,t){const n=Ui(e),r={writes:t.map(e=>Mc(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,oa.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ri(50498,{Gu:e.constructor.name});t=ka.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new $i(zi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ka.min())?Ol.exists(!1):Ol.updateTime(t):Ol.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ka.min()))throw new $i(zi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ol.updateTime(t)}return Ol.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fh{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new nd(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Lh(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!La(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Jl(t)}return!1}}const Uh="FirestoreClient";class zh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ti.UNAUTHENTICATED,this.clientId=Ji.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Ii(Uh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ii(Uh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(CW){const n=Vd(CW,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $h(e,t){e.asyncQueue.verifyOperationInProgress(),Ii(Uh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Pu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Vh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Bh(e);Ii(Uh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ld(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ld(t.remoteStore,n)),e._onlineComponents=t}async function Bh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ii(Uh,"Using user provided OfflineComponentProvider");try{await $h(e,e._uninitializedComponentsProvider._offline)}catch(CW){const n=CW;if(!function(e){return"FirebaseError"===e.name?e.code===zi.FAILED_PRECONDITION||e.code===zi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await $h(e,new Ph)}}else Ii(Uh,"Using default OfflineComponentProvider"),await $h(e,new Dh(void 0));return e._offlineComponents}async function qh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ii(Uh,"Using user provided OnlineComponentProvider"),await Vh(e,e._uninitializedComponentsProvider._online)):(Ii(Uh,"Using default OnlineComponentProvider"),await Vh(e,new Mh))),e._onlineComponents}function Hh(e){return qh(e).then(e=>e.syncEngine)}function Kh(e){return qh(e).then(e=>e.datastore)}async function Wh(e){const t=await qh(e),n=t.eventManager;return n.onListen=uh.bind(null,t.syncEngine),n.onUnlisten=ph.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mh.bind(null,t.syncEngine),n}function Gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Rh({next:o=>{a.Nu(),t.enqueueAndForget(()=>Yd(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new $i(zi.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new $i(zi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new nh(zo(n.path),a,{includeMetadataChanges:!0,qa:!0});return Qd(e,s)}(await Wh(e),e.asyncQueue,t,n,r)),r.promise}function Qh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Rh({next:n=>{a.Nu(),t.enqueueAndForget(()=>Yd(e,s)),n.fromCache&&"server"===r.source?i.reject(new $i(zi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new nh(n,a,{includeMetadataChanges:!0,qa:!0});return Qd(e,s)}(await Wh(e),e.asyncQueue,t,n,r)),r.promise}function Yh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xh=new Map,Jh="firestore.googleapis.com",Zh=!0;class ef{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new $i(zi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jh,this.ssl=Zh}else this.host=e.host,this.ssl=e.ssl??Zh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=tu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<au)throw new $i(zi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new $i(zi.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yh(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new $i(zi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new $i(zi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new $i(zi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ef({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $i(zi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $i(zi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ef(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qi;switch(e.type){case"firstParty":return new Gi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $i(zi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xh.get(e);t&&(Ii("ComponentProvider","Removing Datastore"),Xh.delete(e),t.terminate())}(this),Promise.resolve()}}class nf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class rf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new af(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rf(this.firestore,e,this._key)}toJSON(){return{type:rf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(va(t,rf._jsonSchema))return new rf(e,n||null,new ua(oa.fromString(t.referencePath)))}}rf._jsonSchemaVersion="firestore/documentReference/1.0",rf._jsonSchema={type:ya("string",rf._jsonSchemaVersion),referencePath:ya("string")};class af extends nf{constructor(e,t,n){super(e,t,zo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rf(this.firestore,null,new ua(e))}withConverter(e){return new af(this.firestore,e,this._path)}}function sf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rn(e),da("collection","path",t),e instanceof tf){const n=oa.fromString(t,...r);return fa(n),new af(e,null,n)}{if(!(e instanceof rf||e instanceof af))throw new $i(zi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oa.fromString(t,...r));return fa(n),new af(e.firestore,null,n)}}function of(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rn(e),1===arguments.length&&(t=Ji.newId()),da("doc","path",t),e instanceof tf){const n=oa.fromString(t,...r);return ha(n),new rf(e,null,new ua(n))}{if(!(e instanceof rf||e instanceof af))throw new $i(zi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oa.fromString(t,...r));return ha(n),new rf(e.firestore,e instanceof af?e.converter:null,new ua(n))}}const lf="AsyncQueue";class cf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nd(this,"async_queue_retry"),this._c=()=>{const e=ed();e&&Ii(lf,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ed();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ed();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(uQ){if(!Da(uQ))throw uQ;Ii(lf,"Operation failed with retryable error: "+uQ)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",uf(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=$d.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ri(47125,{Pc:uf(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function df(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class hf extends tf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cf,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cf(e),this._firestoreClient=void 0,await e}}}function ff(e,t){const n="object"==typeof e?e:ei(),r="string"==typeof e?e:t||Rs,i=Gr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=cn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ga(e,tf);const i=fn(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(pn(`https://${o}`),vn("Firestore",!0)),a.host!==Jh&&a.host!==o&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Tn(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ti.MOCK_USER;else{t=mn(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new $i(zi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ti(i)}e._authCredentials=new Hi(new Bi(t,n))}}(i,...e)}return i}function pf(e){if(e._terminated)throw new $i(zi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||mf(e),e._firestoreClient}function mf(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new Ms(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new zh(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class gf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gf(Ss.fromBase64String(e))}catch(e){throw new $i(zi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gf(Ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(va(e,gf._jsonSchema))return gf.fromBase64String(e.bytes)}}gf._jsonSchemaVersion="firestore/bytes/1.0",gf._jsonSchema={type:ya("string",gf._jsonSchemaVersion),bytes:ya("string")};class yf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new $i(zi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vf{constructor(e){this._methodName=e}}class bf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $i(zi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $i(zi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zi(this._lat,e._lat)||Zi(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bf._jsonSchemaVersion}}static fromJSON(e){if(va(e,bf._jsonSchema))return new bf(e.latitude,e.longitude)}}bf._jsonSchemaVersion="firestore/geoPoint/1.0",bf._jsonSchema={type:ya("string",bf._jsonSchemaVersion),latitude:ya("number"),longitude:ya("number")};class xf{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(va(e,xf._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new xf(e.vectorValues);throw new $i(zi.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xf._jsonSchemaVersion="firestore/vectorValue/1.0",xf._jsonSchema={type:ya("string",xf._jsonSchemaVersion),vectorValues:ya("object")};const wf=/^__.*__$/;class kf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}class Sf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ef(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ri(40011,{Ac:e})}}class _f{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _f({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Ef(this.Ac)&&wf.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||td(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _f({Ac:e,methodName:t,Dc:n,path:ca.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(e){const t=e._freezeSettings(),n=td(e._databaseId);return new Nf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tf(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);Rf("Data must be an object, but it was:",s,r);const o=Df(r,s);let l,c;if(a.merge)l=new ws(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Lf(t,r,n);if(!s.contains(i))throw new $i(zi.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);$f(e,i)||e.push(i)}l=new ws(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new kf(new oo(o),l,c)}class Cf extends vf{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function Af(e,t,n,r){const i=e.Cc(1,t,n);Rf("Data must be an object, but it was:",i,r);const a=[],s=oo.empty();ps(r,(e,r)=>{const o=Uf(t,e,n);r=Rn(r);const l=i.yc(o);if(r instanceof Cf)a.push(o);else{const e=Pf(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new ws(a);return new Sf(s,o,i.fieldTransforms)}function Of(e,t,n,r,i,a){const s=e.Cc(1,t,n),o=[Lf(t,r,n)],l=[i];if(a.length%2!=0)throw new $i(zi.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Lf(t,a[h])),l.push(a[h+1]);const c=[],u=oo.empty();for(let h=o.length-1;h>=0;--h)if(!$f(c,o[h])){const e=o[h];let t=l[h];t=Rn(t);const n=s.yc(e);if(t instanceof Cf)c.push(e);else{const r=Pf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ws(c);return new Sf(u,d,s.fieldTransforms)}function If(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pf(n,e.Cc(r?4:3,t))}function Pf(e,t){if(Mf(e=Rn(e)))return Rf("Unsupported field value:",t,e),Df(e,t);if(e instanceof vf)return function(e,t){if(!Ef(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Pf(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wa.fromDate(e);return{timestampValue:wc(t.serializer,n)}}if(e instanceof wa){const n=new wa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wc(t.serializer,n)}}if(e instanceof bf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gf)return{bytesValue:kc(t.serializer,e._byteString)};if(e instanceof rf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_c(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xf)return function(e,t){return{mapValue:{fields:{[Fs]:{stringValue:$s},[Vs]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return ml(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${ma(e)}`)}(e,t)}function Df(e,t){const n={};return ms(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ps(e,(e,r)=>{const i=Pf(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Mf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wa||e instanceof bf||e instanceof gf||e instanceof rf||e instanceof vf||e instanceof xf)}function Rf(e,t,n){if(!Mf(n)||!pa(n)){const r=ma(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Lf(e,t,n){if((t=Rn(t))instanceof yf)return t._internalPath;if("string"==typeof t)return Uf(e,t);throw zf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ff=new RegExp("[~\\*/\\[\\]]");function Uf(e,t,n){if(t.search(Ff)>=0)throw zf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yf(...t.split("."))._internalPath}catch(ft){throw zf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zf(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new $i(zi.INVALID_ARGUMENT,o+e+l)}function $f(e,t){return e.some(e=>e.isEqual(t))}class Vf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bf extends Vf{data(){return super.data()}}function qf(e,t){return"string"==typeof t?Uf(e,t):t instanceof yf?t._internalPath:t._delegate._internalPath}function Hf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new $i(zi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kf{}class Wf extends Kf{}function Gf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Kf&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Xf).length,n=e.filter(e=>e instanceof Qf).length;if(t>1||t>0&&n>0)throw new $i(zi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Qf extends Wf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Qf(e,t,n)}_apply(e){const t=this._parse(e);return ep(e._query,t),new nf(e.firestore,e.converter,Ko(e._query,t))}_parse(e){const t=jf(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new $i(zi.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){Zf(s,a);const t=[];for(const n of s)t.push(Jf(r,e,n));o={arrayValue:{values:t}}}else o=Jf(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Zf(s,a),o=If(n,t,s,"in"===a||"not-in"===a);return yo.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Yf(e,t,n){const r=t,i=qf("where",e);return Qf._create(i,r,n)}class Xf extends Kf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xf(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:vo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ep(n,i),n=Ko(n,i)}(e._query,t),new nf(e.firestore,e.converter,Ko(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Jf(e,t,n){if("string"==typeof(n=Rn(n))){if(""===n)throw new $i(zi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vo(t)&&-1!==n.indexOf("/"))throw new $i(zi.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(oa.fromString(n));if(!ua.isDocumentKey(r))throw new $i(zi.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Js(e,new ua(r))}if(n instanceof rf)return Js(e,n._key);throw new $i(zi.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ma(n)}.`)}function Zf(e,t){if(!Array.isArray(e)||0===e.length)throw new $i(zi.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ep(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new $i(zi.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $i(zi.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class tp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ns(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ri(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ps(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[Vs].arrayValue?.values?.map(e=>Ns(e.doubleValue));return new xf(t)}convertGeoPoint(e){return new bf(Ns(e.latitude),Ns(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ps(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ds(e));default:return null}}convertTimestamp(e){const t=_s(e);return new wa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oa.fromString(e);Fi(Wc(n),9688,{name:e});const r=new Ls(n.get(1),n.get(3)),i=new ua(n.popFirst(5));return r.isEqual(t)||Pi(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function np(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class rp extends tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new gf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rf(this.firestore,null,t)}}class ip{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ap extends Vf{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(qf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $i(zi.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ap._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ap._jsonSchemaVersion="firestore/documentSnapshot/1.0",ap._jsonSchema={type:ya("string",ap._jsonSchemaVersion),bundleSource:ya("string","DocumentSnapshot"),bundleName:ya("string"),bundle:ya("string")};class sp extends ap{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class op{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ip(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new sp(this._firestore,this._userDataWriter,n.key,n,new ip(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $i(zi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new sp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ip(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new sp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ip(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:lp(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $i(zi.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=op._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ji.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ri(61501,{type:e})}}function cp(e){e=ga(e,rf);const t=ga(e.firestore,hf);return Gh(pf(t),e._key).then(n=>gp(t,e,n))}op._jsonSchemaVersion="firestore/querySnapshot/1.0",op._jsonSchema={type:ya("string",op._jsonSchemaVersion),bundleSource:ya("string","QuerySnapshot"),bundleName:ya("string"),bundle:ya("string")};class up extends tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new gf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rf(this.firestore,null,t)}}function dp(e){e=ga(e,nf);const t=ga(e.firestore,hf),n=pf(t),r=new up(t);return Hf(e._query),Qh(n,e._query).then(n=>new op(t,r,e,n))}function hp(e,t,n){e=ga(e,rf);const r=ga(e.firestore,hf),i=jf(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=Rn(t))||t instanceof yf?Of(i,"updateDoc",e._key,t,n,o):Af(i,"updateDoc",e._key,t),mp(r,[a.toMutation(e._key,Ol.exists(!0))])}function fp(e,t){const n=ga(e.firestore,hf),r=of(e),i=np(e.converter,t);return mp(n,[Tf(jf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ol.exists(!1))]).then(()=>r)}function pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Rn(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||df(n[a])||(i=n[a++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(df(n[a])){const e=n[a];n[a]=e.next?.bind(e),n[a+1]=e.error?.bind(e),n[a+2]=e.complete?.bind(e)}let o,l,c;if(e instanceof rf)l=ga(e.firestore,hf),c=zo(e._key.path),o={next:t=>{n[a]&&n[a](gp(l,e,t))},error:n[a+1],complete:n[a+2]};else{const t=ga(e,nf);l=ga(t.firestore,hf),c=t._query;const r=new up(l);o={next:e=>{n[a]&&n[a](new op(l,r,t,e))},error:n[a+1],complete:n[a+2]},Hf(e._query)}return function(e,t,n,r){const i=new Rh(r),a=new nh(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Qd(await Wh(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Yd(await Wh(e),a))}}(pf(l),c,s,o)}function mp(e,t){return function(e,t){const n=new Vi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ih(e);try{const e=await function(e,t){const n=Ui(e),r=wa.now(),i=t.reduce((e,t)=>e.add(t.key),hl());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=rl(),l=hl();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=Ll(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new zl(e.key,t,lo(t.value.mapValue),Ol.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:sl(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new gs(Zi)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Th(r,e.changes),await Td(r.remoteStore)}catch(e){const t=Vd(e,"Failed to persist write");n.reject(t)}}(await Hh(e),t,n)),n.promise}(pf(e),t)}function gp(e,t,n){const r=n.docs.get(t._key),i=new up(e);return new ap(e,i,t._key,r,new ip(n.hasPendingWrites,n.fromCache),t.converter)}const yp={maxAttempts:5};class vp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jf(e)}set(e,t,n){this._verifyNotCommitted();const r=bp(e,this._firestore),i=np(r.converter,t,n),a=Tf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ol.none())),this}update(e,t,n){this._verifyNotCommitted();const r=bp(e,this._firestore);let i;for(var a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];return i="string"==typeof(t=Rn(t))||t instanceof yf?Of(this._dataReader,"WriteBatch.update",r._key,t,n,s):Af(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ol.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bp(e,this._firestore);return this._mutations=this._mutations.concat(new ql(t._key,Ol.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $i(zi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bp(e,t){if((e=Rn(e)).firestore!==t)throw new $i(zi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class xp{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jf(e)}get(e){const t=bp(e,this._firestore),n=new rp(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Ri(24041);const r=e[0];if(r.isFoundDocument())return new Vf(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Vf(this._firestore,n,t._key,null,t.converter);throw Ri(18433,{doc:r})})}set(e,t,n){const r=bp(e,this._firestore),i=np(r.converter,t,n),a=Tf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}update(e,t,n){const r=bp(e,this._firestore);let i;for(var a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];return i="string"==typeof(t=Rn(t))||t instanceof yf?Of(this._dataReader,"Transaction.update",r._key,t,n,s):Af(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=bp(e,this._firestore);return this._transaction.delete(t._key),this}}class wp extends xp{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bp(e,this._firestore),n=new up(this._firestore);return super.get(e).then(e=>new ap(this._firestore,n,t._key,e._document,new ip(!1,!1),t.converter))}}function kp(e,t,n){e=ga(e,hf);const r={...yp,...n};return function(e){if(e.maxAttempts<1)throw new $i(zi.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Vi;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Kh(e);new Fh(e.asyncQueue,i,n,t,r).ju()}),r.promise}(pf(e),n=>t(new wp(e,n)),r)}function Sp(e){return pf(e=ga(e,hf)),new vp(e,t=>mp(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ci=e}(Jr),Wr(new Ln("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new hf(new Ki(e.getProvider("auth-internal")),new Yi(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $i(zi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ls(e.options.projectId,t)}(a,r),a);return i={useFetchStreams:t,...i},s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),ti(Ni,ji,e),ti(Ni,ji,"esm2020")}();function Ep(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _p=Ep,Np=new Nn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jp=new Wn("@firebase/auth");function Tp(e){if(jp.logLevel<=Vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jp.error(`Auth (${Jr}): ${e}`,...n)}}function Cp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pp(e,...n)}function Ap(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pp(e,...n)}function Op(e,t,n){const r={..._p(),[t]:n};return new Nn("auth","Firebase",r).create(t,{appName:e.name})}function Ip(e){return Op(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Np.create(e,...n)}function Dp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pp(t,...r)}}function Mp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tp(t),new Error(t)}function Rp(e,t){e||Mp(t)}function Lp(){return"undefined"!==typeof self&&self.location?.href||""}function Fp(){return"http:"===Up()||"https:"===Up()}function Up(){return"undefined"!==typeof self&&self.location?.protocol||null}class zp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fp()||wn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $p(e,t){Rp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Vp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Mp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Mp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Mp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hp=new zp(3e4,6e4);function Kp(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Wp(e,t,n,r){return Gp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=An({key:e.config.apiKey,...a}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...i};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&fn(e.emulatorConfig.host)&&(l.credentials="include"),Vp.fetch()(await Yp(e,e.config.apiHost,n,s),l)})}async function Gp(e,t,n){e._canInitEmulator=!1;const r={...Bp,...t};try{const t=new Jp(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Zp(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zp(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Zp(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Zp(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Op(e,o,s);Cp(e,o)}}catch(uQ){if(uQ instanceof _n)throw uQ;Cp(e,"network-request-failed",{message:String(uQ)})}}async function Qp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Wp(e,t,n,r,i);return"mfaPendingCredential"in a&&Cp(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Yp(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?$p(e.config,i):`${e.config.apiScheme}://${i}`;if(qp.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function Xp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ap(this.auth,"network-request-failed")),Hp.get())})}}function Zp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ap(e,t,r);return i.customData._tokenResponse=n,i}function em(e){return void 0!==e&&void 0!==e.enterprise}class tm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nm(e,t){return Wp(e,"GET","/v2/recaptchaConfig",Kp(e,t))}async function rm(e,t){return Wp(e,"POST","/v1/accounts:lookup",t)}function im(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uQ){}}function am(e){return 1e3*Number(e)}function sm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const e=an(n);return e?JSON.parse(e):(Tp("Failed to decode base64 JWT payload"),null)}catch(uQ){return Tp("Caught error parsing JWT payload as JSON",uQ?.toString()),null}}function om(e){const t=sm(e);return Dp(t,"internal-error"),Dp("undefined"!==typeof t.exp,"internal-error"),Dp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function lm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uQ){throw uQ instanceof _n&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(uQ)&&e.auth.currentUser===e&&await e.auth.signOut(),uQ}}class cm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uQ){return void("auth/network-request-failed"===uQ?.code&&this.schedule(!0))}this.schedule()}}class um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=im(this.lastLoginAt),this.creationTime=im(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dm(e){const t=e.auth,n=await e.getIdToken(),r=await lm(e,rm(t,{idToken:n}));Dp(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=i.providerUserInfo?.length?hm(i.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!s?.length,c=!!o&&l,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new um(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}function hm(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class fm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dp(e.idToken,"internal-error"),Dp("undefined"!==typeof e.idToken,"internal-error"),Dp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):om(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Dp(0!==e.length,"internal-error");const t=om(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Dp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gp(e,{},async()=>{const n=An({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Yp(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&fn(e.emulatorConfig.host)&&(o.credentials="include"),Vp.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new fm;return n&&(Dp("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Dp("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Dp("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fm,this.toJSON())}_performRefresh(){return Mp("not implemented")}}function pm(e,t){Dp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mm{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...i}=e;this.providerId="firebase",this.proactiveRefresh=new cm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new um(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await lm(this,this.stsTokenManager.getToken(this.auth,e));return Dp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rn(e),r=await n.getIdToken(t),i=sm(r);Dp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:im(am(i.auth_time)),issuedAtTime:im(am(i.iat)),expirationTime:im(am(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Rn(e);await dm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Dp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mm({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Dp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await dm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Ip(this.auth));const e=await this.getIdToken();return await lm(this,async function(e,t){return Wp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,s=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;Dp(u&&p,e,"internal-error");const m=fm.fromJSON(this.name,p);Dp("string"===typeof u,e,"internal-error"),pm(n,e.name),pm(r,e.name),Dp("boolean"===typeof d,e,"internal-error"),Dp("boolean"===typeof h,e,"internal-error"),pm(i,e.name),pm(a,e.name),pm(s,e.name),pm(o,e.name),pm(l,e.name),pm(c,e.name);const g=new mm({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:a,phoneNumber:i,tenantId:s,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fm;r.updateFromServerResponse(t);const i=new mm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await dm(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Dp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?hm(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!i?.length,s=new fm;s.updateFromIdToken(n);const o=new mm({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new um(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(o,l),o}}const gm=new Map;function ym(e){Rp(e instanceof Function,"Expected a class definition");let t=gm.get(e);return t?(Rp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gm.set(e,t),t)}class vm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vm.type="NONE";const bm=vm;function xm(e,t,n){return`firebase:${e}:${t}:${n}`}class wm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xm(this.userKey,r.apiKey,i),this.fullPersistenceKey=xm("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await rm(this.auth,{idToken:e}).catch(()=>{});return t?mm._fromGetAccountInfoResponse(this.auth,t,e):null}return mm._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wm(ym(bm),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ym(bm);const a=xm(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(a);if(t){let n;if("string"===typeof t){const r=await rm(e,{idToken:t}).catch(()=>{});if(!r)break;n=await mm._fromGetAccountInfoResponse(e,r,t)}else n=mm._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch{}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch{}})),new wm(i,e,n)):new wm(i,e,n)}}function km(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tm(t))return"Blackberry";if(Cm(t))return"Webos";if(Em(t))return"Safari";if((t.includes("chrome/")||_m(t))&&!t.includes("edge/"))return"Chrome";if(jm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function Sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/firefox\//i.test(e)}function Em(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/crios\//i.test(e)}function Nm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/iemobile/i.test(e)}function jm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/android/i.test(e)}function Tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/blackberry/i.test(e)}function Cm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/webos/i.test(e)}function Am(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Om(){return function(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return Am(e)||jm(e)||Cm(e)||Tm(e)||/windows phone/i.test(e)||Nm(e)}function Pm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=km(bn());break;case"Worker":t=`${km(bn())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jr}/${r}`}class Dm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(uQ){r(uQ)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uQ){t.reverse();for(const n of t)try{n()}catch(JW){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:uQ?.message})}}}class Mm{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Rm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fm(this),this.idTokenSubscription=new Fm(this),this.beforeStateQueue=new Dm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Np,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ym(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wm.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uQ){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await rm(this,{idToken:e}),n=await mm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==i||!a?.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(uQ){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(uQ))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Dp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uQ){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(uQ){if("auth/network-request-failed"!==uQ?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Ip(this));const t=e?Rn(e):null;return t&&Dp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Dp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(Ip(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Ip(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ym(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wp(e,"GET","/v2/passwordPolicy",Kp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Mm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wp(e,"POST","/v2/accounts:revokeToken",Kp(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ym(e)||this._popupRedirectResolver;Dp(t,this,"argument-error"),this.redirectPersistenceManager=await wm.create(this,[ym(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dp(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(jp.logLevel<=Vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jp.warn(`Auth (${Jr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lm(e){return Rn(e)}class Fm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Pn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Dp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zm(e){return Um.loadJS(e)}function $m(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Vm{constructor(){this.enterprise=new Bm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qm="NO_RECAPTCHA";class Hm{constructor(e){this.type="recaptcha-enterprise",this.auth=Lm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;em(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(qm)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Vm).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{nm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new tm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&em(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Um.recaptchaEnterpriseScript;0!==t.length&&(t+=i),zm(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Km(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Hm(e);let s;if(i)s=qm;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wm(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Km(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Km(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await Km(e,t,n);return r(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Km(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Km(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Gm(e){const t=Lm(e),n=await nm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new tm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Hm(t).verify()}}function Qm(e,t,n){const r=Lm(e);Dp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,a=Ym(t),{host:s,port:o}=function(e){const t=Ym(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xm(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Dp(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Dp(Tn(c,r.config.emulator)&&Tn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,fn(s)?(pn(`${a}//${s}${l}`),vn("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ym(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mp("not implemented")}_getIdTokenResponse(e){return Mp("not implemented")}_linkToIdToken(e,t){return Mp("not implemented")}_getReauthenticationResolver(e){return Mp("not implemented")}}async function Zm(e,t){return Wp(e,"POST","/v1/accounts:signUp",t)}async function eg(e,t){return Qp(e,"POST","/v1/accounts:signInWithPassword",Kp(e,t))}class tg extends Jm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tg(e,t,"password")}static _fromEmailAndCode(e,t){return new tg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Wm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithEmailLink",Kp(e,t))}(e,{email:this._email,oobCode:this._password});default:Cp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithEmailLink",Kp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ng(e,t){return Qp(e,"POST","/v1/accounts:signInWithIdp",Kp(e,t))}class rg extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...i}=t;if(!n||!r)return null;const a=new rg(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return ng(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ng(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ng(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=An(t)}return e}}async function ig(e,t){return Wp(e,"POST","/v1/accounts:sendVerificationCode",Kp(e,t))}const ag={USER_NOT_FOUND:"user-not-found"};class sg extends Jm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithPhoneNumber",Kp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qp(e,"POST","/v1/accounts:signInWithPhoneNumber",Kp(e,t));if(n.temporaryProof)throw Zp(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Qp(e,"POST","/v1/accounts:signInWithPhoneNumber",Kp(e,{...t,operation:"REAUTH"}),ag)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new sg({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class og{constructor(e){const t=On(In(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Dp(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=On(In(e)).link,n=t?On(In(t)).deep_link_id:null,r=On(In(e)).deep_link_id;return(r?On(In(r)).link:null)||r||n||t||e}(e);try{return new og(t)}catch{return null}}}class lg{constructor(){this.providerId=lg.PROVIDER_ID}static credential(e,t){return tg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=og.parseLink(t);return Dp(n,"argument-error"),tg._fromEmailAndCode(e,n.code,n.tenantId)}}lg.PROVIDER_ID="password",lg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ug extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dg extends ug{constructor(){super("facebook.com")}static credential(e){return rg._fromParams({providerId:dg.PROVIDER_ID,signInMethod:dg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dg.credentialFromTaggedObject(e)}static credentialFromError(e){return dg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dg.credential(t.oauthAccessToken)}catch{return null}}}dg.FACEBOOK_SIGN_IN_METHOD="facebook.com",dg.PROVIDER_ID="facebook.com";class hg extends ug{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rg._fromParams({providerId:hg.PROVIDER_ID,signInMethod:hg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hg.credentialFromTaggedObject(e)}static credentialFromError(e){return hg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hg.credential(n,r)}catch{return null}}}hg.GOOGLE_SIGN_IN_METHOD="google.com",hg.PROVIDER_ID="google.com";class fg extends ug{constructor(){super("github.com")}static credential(e){return rg._fromParams({providerId:fg.PROVIDER_ID,signInMethod:fg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fg.credentialFromTaggedObject(e)}static credentialFromError(e){return fg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fg.credential(t.oauthAccessToken)}catch{return null}}}fg.GITHUB_SIGN_IN_METHOD="github.com",fg.PROVIDER_ID="github.com";class pg extends ug{constructor(){super("twitter.com")}static credential(e,t){return rg._fromParams({providerId:pg.PROVIDER_ID,signInMethod:pg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pg.credentialFromTaggedObject(e)}static credentialFromError(e){return pg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pg.credential(n,r)}catch{return null}}}async function mg(e,t){return Qp(e,"POST","/v1/accounts:signUp",Kp(e,t))}pg.TWITTER_SIGN_IN_METHOD="twitter.com",pg.PROVIDER_ID="twitter.com";class gg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mm._fromIdTokenResponse(e,n,r),a=yg(n);return new gg({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=yg(n);return new gg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function yg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vg extends _n{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vg(e,t,n,r)}}function bg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw vg._fromErrorAndOperation(e,n,t,r);throw n})}async function xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await lm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gg._forOperation(e,"link",r)}async function wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Qr(r.app))return Promise.reject(Ip(r));const i="reauthenticate";try{const a=await lm(e,bg(r,i,t,e),n);Dp(a.idToken,r,"internal-error");const s=sm(a.idToken);Dp(s,r,"internal-error");const{sub:o}=s;return Dp(e.uid===o,r,"user-mismatch"),gg._forOperation(e,i,a)}catch(uQ){throw"auth/user-not-found"===uQ?.code&&Cp(r,"user-mismatch"),uQ}}async function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Ip(e));const r="signIn",i=await bg(e,r,t),a=await gg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Sg(e,t){return kg(Lm(e),t)}async function Eg(e){const t=Lm(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function _g(e,t){return Wp(e,"POST","/v2/accounts/mfaEnrollment:start",Kp(e,t))}new WeakMap;const Ng="__sak";class jg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ng,"1"),this.storage.removeItem(Ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Tg extends jg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Im(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Om()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tg.type="LOCAL";const Cg=Tg;function Ag(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Og(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Ig{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Og(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return Ag(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Og(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Og(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ag(n);const i=setInterval(()=>{const e=Ag(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ig.type="COOKIE";class Pg extends jg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pg.type="SESSION";const Dg=Pg;class Mg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Mg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mg.receivers=[];class Lg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=Rg("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Fg(){return window}function Ug(){return"undefined"!==typeof Fg().WorkerGlobalScope&&"function"===typeof Fg().importScripts}const zg="firebaseLocalStorageDb",$g="firebaseLocalStorage",Vg="fbase_key";class Bg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qg(e,t){return e.transaction([$g],t?"readwrite":"readonly").objectStore($g)}function Hg(){const e=indexedDB.open(zg,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore($g,{keyPath:Vg})}catch(uQ){n(uQ)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains($g)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zg);return new Bg(e).toPromise()}(),t(await Hg()))})})}async function Kg(e,t,n){const r=qg(e,!0).put({[Vg]:t,value:n});return new Bg(r).toPromise()}function Wg(e,t){const n=qg(e,!0).delete(t);return new Bg(n).toPromise()}class Gg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Hg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uQ){if(t++>3)throw uQ;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ug()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mg._getInstance(Ug()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Lg(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hg();return await Kg(e,Ng,"1"),await Wg(e,Ng),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=qg(e,!1).get(t),r=await new Bg(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=qg(e,!1).getAll();return new Bg(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gg.type="LOCAL";const Qg=Gg;function Yg(e,t){return Wp(e,"POST","/v2/accounts/mfaSignIn:start",Kp(e,t))}$m("rcb"),new zp(3e4,6e4);const Xg="recaptcha";async function Jg(e,t,n){if(!e._getRecaptchaConfig())try{await Gm(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Dp("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Wm(e,i,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===qm){Dp(n?.type===Xg,e,"argument-error");return _g(e,await Zg(e,t,n))}return _g(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Dp("signin"===t.type,e,"internal-error");const i=r.multiFactorHint?.uid||r.multiFactorUid;Dp(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Wm(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===qm){Dp(n?.type===Xg,e,"argument-error");return Yg(e,await Zg(e,t,n))}return Yg(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=Wm(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===qm){Dp(n?.type===Xg,e,"argument-error");return ig(e,await Zg(e,t,n))}return ig(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Zg(e,t,n){Dp(n.type===Xg,e,"argument-error");const r=await n.verify();Dp("string"===typeof r,e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ey{constructor(e){this.providerId=ey.PROVIDER_ID,this.auth=Lm(e)}verifyPhoneNumber(e,t){return Jg(this.auth,e,Rn(t))}static credential(e,t){return sg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ey.credentialFromTaggedObject(t)}static credentialFromError(e){return ey.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?sg._fromTokenResponse(n,r):null}}function ty(e,t){return t?ym(t):(Dp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ey.PROVIDER_ID="phone",ey.PHONE_SIGN_IN_METHOD="phone";class ny extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ng(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ng(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ng(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ry(e){return kg(e.auth,new ny(e),e.bypassAuthState)}function iy(e){const{auth:t,user:n}=e;return Dp(n,t,"internal-error"),wg(n,new ny(e),e.bypassAuthState)}async function ay(e){const{auth:t,user:n}=e;return Dp(n,t,"internal-error"),xg(n,new ny(e),e.bypassAuthState)}class sy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uQ){this.reject(uQ)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(uQ){this.reject(uQ)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ry;case"linkViaPopup":case"linkViaRedirect":return ay;case"reauthViaPopup":case"reauthViaRedirect":return iy;default:Cp(this.auth,"internal-error")}}resolve(e){Rp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oy=new zp(2e3,1e4);class ly extends sy{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ly.currentPopupAction&&ly.currentPopupAction.cancel(),ly.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dp(e,this.auth,"internal-error"),e}async onExecution(){Rp(1===this.filter.length,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ap(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ap(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ly.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ap(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,oy.get())};e()}}ly.currentPopupAction=null;const cy=new Map;class uy extends sy{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=cy.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fy(t),r=hy(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(uQ){e=()=>Promise.reject(uQ)}cy.set(this.auth._key(),e)}return this.bypassAuthState||cy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function dy(e,t){cy.set(e._key(),t)}function hy(e){return ym(e._redirectPersistence)}function fy(e){return xm("pendingRedirect",e.config.apiKey,e.name)}async function py(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Ip(e));const r=Lm(e),i=ty(r,t),a=new uy(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class my{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!yy(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ap(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gy(e))}saveEventToCache(e){this.cachedEventUids.add(gy(e)),this.lastProcessedEventTime=Date.now()}}function gy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function yy(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const vy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,by=/^https?/;async function xy(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(wy(n))return}catch{}Cp(e,"unauthorized-domain")}function wy(e){const t=Lp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!by.test(n))return!1;if(vy.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ky=new zp(3e4,6e4);function Sy(){const e=Fg().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ey(e){return new Promise((t,n)=>{function r(){Sy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sy(),n(Ap(e,"network-request-failed"))},timeout:ky.get()})}if(Fg().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Fg().gapi?.load){const t=$m("iframefcb");return Fg()[t]=()=>{gapi.load?r():n(Ap(e,"network-request-failed"))},zm(`${Um.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw _y=null,e})}let _y=null;const Ny=new zp(5e3,15e3),jy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ty=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cy(e){const t=e.config;Dp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$p(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Jr},i=Ty.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${An(r).slice(1)}`}async function Ay(e){const t=await function(e){return _y=_y||Ey(e),_y}(e),n=Fg().gapi;return Dp(n,e,"internal-error"),t.open({where:document.body,url:Cy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jy,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ap(e,"network-request-failed"),a=Fg().setTimeout(()=>{r(i)},Ny.get());function s(){Fg().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Oy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uQ){}}}function Py(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Oy,width:r.toString(),height:i.toString(),top:a,left:s},c=bn().toLowerCase();n&&(o=_m(c)?"_blank":n),Sm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return Am(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn())&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Iy(null);const d=window.open(t||"",o,u);Dp(d,e,"popup-blocked");try{d.focus()}catch(uQ){}return new Iy(d)}const Dy="__/auth/handler",My="emulator/auth/handler",Ry=encodeURIComponent("fac");async function Ly(e,t,n,r,i,a){Dp(e.config.authDomain,e,"auth-domain-config-required"),Dp(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jr,eventId:i};if(t instanceof cg){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof ug){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ry}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Dy}`;return $p(t,My)}(e)}?${An(o).slice(1)}${c}`}const Fy="webStorageSupport";const Uy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dg,this._completeRedirectFn=py,this._overrideRedirectResult=dy}async _openPopup(e,t,n,r){Rp(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Py(e,await Ly(e,t,n,Lp(),r),Rg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Fg().location.href=e}(await Ly(e,t,n,Lp(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ay(e),n=new my(e);return t.register("authEvent",t=>{Dp(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fy,{type:Fy},n=>{const r=n?.[0]?.[Fy];void 0!==r&&t(!!r),Cp(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xy(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Im()||Em()||Am()}};var zy="@firebase/auth",$y="1.11.0";class Vy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Dp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const By=dn("authIdTokenMaxAge")||300;let qy=null;function Hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();const t=Gr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Gr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Tn(n.getOptions(),t??{}))return e;Cp(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Uy,persistence:[Qg,Cg,Dg]}),r=dn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>By)return;const r=t?.token;qy!==r&&(qy=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Rn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Rn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=ln("auth");return a&&Qm(n,`http://${a}`),n}var Ky;!function(e){Um=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ap("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ky="Browser",Wr(new Ln("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Dp(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Ky,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pm(Ky)},c=new Rm(r,i,a,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ym);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Wr(new Ln("auth-internal",e=>(e=>new Vy(e))(Lm(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ti(zy,$y,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ky)),ti(zy,$y,"esm2020");const Wy="firebasestorage.googleapis.com",Gy="storageBucket";class Qy extends _n{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Jy(e),`Firebase Storage: ${t} (${Jy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yy,Xy;function Jy(e){return"storage/"+e}function Zy(){return new Qy(Yy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ev(){return new Qy(Yy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tv(){return new Qy(Yy.CANCELED,"User canceled the upload/download.")}function nv(e){return new Qy(Yy.INVALID_ARGUMENT,e)}function rv(){return new Qy(Yy.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Yy||(Yy={}));class iv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=iv.makeFromUrl(e,t)}catch(uQ){return new iv(e,"")}if(""===n.path)return n;throw r=e,new Qy(Yy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp(`^https?://${t===Wy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new iv(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Qy(Yy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class av{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function sv(e,t,n,r){if(r<t)throw nv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw nv(`Invalid value for '${e}'. Expected ${n} or less.`)}function ov(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function lv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Xy||(Xy={}));class cv{constructor(e,t,n,r,i,a,s,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new uv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Xy.NO_ERROR,i=n.getStatus();if(!t||lv(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Xy.ABORT;return void e(!1,new uv(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new uv(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(uQ){r(uQ)}else if(null!==i){const e=Zy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?rv():tv())}else{r(ev())}};this.canceled_?t(0,new uv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){a&&clearTimeout(a)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),d(a)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class uv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function dv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class hv{constructor(e,t){this._service=e,this._location=t instanceof iv?t:iv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hv(e,t)}get root(){const e=new iv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new iv(this._location.bucket,e);return new hv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Qy(Yy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function fv(e,t){const n=t?.[Gy];return null==n?null:iv.makeFromBucketSpec(n,e)}class pv{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=Wy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?iv.makeFromBucketSpec(r,this._host):fv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=iv.makeFromBucketSpec(this._url,e):this._bucket=fv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new av(rv());{const a=function(e,t,n,r,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=ov(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new cv(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const mv="@firebase/storage",gv="0.14.0",yv="storage";function vv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new pv(r,i,a,n,Jr)}Wr(new Ln(yv,vv,"PUBLIC").setMultipleInstances(!0)),ti(mv,gv,""),ti(mv,gv,"esm2020");const bv="@firebase/installations",xv="0.6.19",wv=1e4,kv=`w:${xv}`,Sv="FIS_v2",Ev=36e5,_v=new Nn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nv(e){return e instanceof _n&&e.code.includes("request-failed")}function jv(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Tv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Cv(e,t){const n=(await t.json()).error;return _v.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Av(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ov(e,t){let{refreshToken:n}=t;const r=Av(e);return r.append("Authorization",function(e){return`${Sv} ${e}`}(n)),r}async function Iv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Pv(e){return new Promise(t=>{setTimeout(t,e)})}const Dv=/^[cdef][\w-]{21}$/;function Mv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Dv.test(t)?t:""}catch{return""}}function Rv(e){return`${e.appName}!${e.appId}`}const Lv=new Map;function Fv(e,t){const n=Rv(e);Uv(n,t),function(e,t){const n=$v();n&&n.postMessage({key:e,fid:t});Vv()}(n,t)}function Uv(e,t){const n=Lv.get(e);if(n)for(const r of n)r(t)}let zv=null;function $v(){return!zv&&"BroadcastChannel"in self&&(zv=new BroadcastChannel("[Firebase] FID Change"),zv.onmessage=e=>{Uv(e.data.key,e.data.fid)}),zv}function Vv(){0===Lv.size&&zv&&(zv.close(),zv=null)}const Bv="firebase-installations-store";let qv=null;function Hv(){return qv||(qv=sr("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Bv)}})),qv}async function Kv(e,t){const n=Rv(e),r=(await Hv()).transaction(Bv,"readwrite"),i=r.objectStore(Bv),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Fv(e,t.fid),t}async function Wv(e){const t=Rv(e),n=(await Hv()).transaction(Bv,"readwrite");await n.objectStore(Bv).delete(t),await n.done}async function Gv(e,t){const n=Rv(e),r=(await Hv()).transaction(Bv,"readwrite"),i=r.objectStore(Bv),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||Fv(e,s.fid),s}async function Qv(e){let t;const n=await Gv(e.appConfig,n=>{const r=function(e){const t=e||{fid:Mv(),registrationStatus:0};return Jv(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(_v.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=jv(n),s=Av(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Sv,appId:n.appId,sdkVersion:kv},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Iv(()=>fetch(a,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Tv(e.authToken)}}throw await Cv("Create Installation",u)}(e,t);return Kv(e.appConfig,n)}catch(uQ){throw Nv(uQ)&&409===uQ.customData.serverCode?await Wv(e.appConfig):await Kv(e.appConfig,{fid:t.fid,registrationStatus:0}),uQ}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Yv(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Yv(e){let t=await Xv(e.appConfig);for(;1===t.registrationStatus;)await Pv(100),t=await Xv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Qv(e);return n||t}return t}function Xv(e){return Gv(e,e=>{if(!e)throw _v.create("installation-not-found");return Jv(e)})}function Jv(e){return 1===(t=e).registrationStatus&&t.registrationTime+wv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Zv(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${jv(e)}/${n}/authTokens:generate`}(n,t),a=Ov(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:kv,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await Iv(()=>fetch(i,l));if(c.ok){return Tv(await c.json())}throw await Cv("Generate Auth Token",c)}async function eb(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Gv(e.appConfig,r=>{if(!nb(r))throw _v.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ev}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await tb(e.appConfig);for(;1===n.authToken.requestStatus;)await Pv(100),n=await tb(e.appConfig);const r=n.authToken;return 0===r.requestStatus?eb(e,t):r}(e,n),r;{if(!navigator.onLine)throw _v.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return t=async function(e,t){try{const n=await Zv(e,t),r={...t,authToken:n};return await Kv(e.appConfig,r),n}catch(uQ){if(!Nv(uQ)||401!==uQ.customData.serverCode&&404!==uQ.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await Kv(e.appConfig,n)}else await Wv(e.appConfig);throw uQ}}(e,n),n}});return t?await t:r.authToken}function tb(e){return Gv(e,e=>{if(!nb(e))throw _v.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+wv<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n})}function nb(e){return void 0!==e&&2===e.registrationStatus}async function rb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Qv(e);t&&await t}(n);return(await eb(n,t)).token}function ib(e){return _v.create("missing-app-config-values",{valueName:e})}const ab="installations",sb=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ib("App Configuration");if(!e.name)throw ib("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ib(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Gr(t,"heartbeat"),_delete:()=>Promise.resolve()}},ob=e=>{const t=Gr(e.getProvider("app").getImmediate(),ab).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Qv(t);return r?r.catch(console.error):eb(t).catch(console.error),n.fid}(t),getToken:e=>rb(t,e)}};Wr(new Ln(ab,sb,"PUBLIC")),Wr(new Ln("installations-internal",ob,"PRIVATE")),ti(bv,xv),ti(bv,xv,"esm2020");const lb="analytics",cb="https://www.googletagmanager.com/gtag/js",ub=new Wn("@firebase/analytics"),db=new Nn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hb(e){if(!e.startsWith(cb)){const t=db.create("invalid-gtag-resource",{gtagURL:e});return ub.warn(t.message),""}return e}function fb(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function pb(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:hb}),r=document.createElement("script"),i=`${cb}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function mb(e,t,n,r){return async function(i){try{for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await fb(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(uQ){ub.error(uQ)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=s;await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await fb(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(uQ){ub.error(uQ)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(uQ){ub.error(uQ)}}}const gb=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function yb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function vb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gb,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw db.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw db.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new xb;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),bb({appId:r,apiKey:i,measurementId:a},s,o,t)}async function bb(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gb;const{appId:s,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(db.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(uQ){if(o)return ub.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${uQ?.message}]`),{appId:s,measurementId:o};throw uQ}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:yb(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{const t=await a.json();t.error?.message&&(e=t.error.message)}catch(s){}throw db.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(s),t}catch(uQ){const r=uQ;if(!function(e){if(!(e instanceof _n)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),o)return ub.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${r?.message}]`),{appId:s,measurementId:o};throw uQ}const l=503===Number(r?.customData?.httpStatus)?Mn(i,a.intervalMillis,30):Mn(i,a.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:i+1};return a.setThrottleMetadata(s,c),ub.debug(`Calling attemptFetch again in ${l} millis`),bb(e,c,n,a)}}class xb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let wb,kb;function Sb(e){kb=e}function Eb(e){wb=e}async function _b(e,t,n,r,i,a,s){const o=vb(e);o.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ub.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>ub.error(e)),t.push(o);const l=async function(){if(!Sn())return ub.warn(db.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await En()}catch(uQ){return ub.warn(db.create("indexeddb-unavailable",{errorInfo:uQ?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(cb)&&n.src.includes(e))return n;return null})(a)||pb(a,c.measurementId),kb&&(i("consent","default",kb),Sb(void 0)),i("js",new Date);const d=s?.config??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),i("config",c.measurementId,d),wb&&(i("set",wb),Eb(void 0)),c.measurementId}class Nb{constructor(e){this.app=e}_delete(){return delete jb[this.app.options.appId],Promise.resolve()}}let jb={},Tb=[];const Cb={};let Ab,Ob,Ib="dataLayer",Pb="gtag",Db=!1;function Mb(){const e=[];if(wn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=db.create("invalid-analytics-context",{errorInfo:t});ub.warn(n.message)}}function Rb(e,t,n){Mb();const r=e.options.appId;if(!r)throw db.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw db.create("no-api-key");ub.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jb[r])throw db.create("already-exists",{id:r});if(!Db){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ib);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=mb(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(jb,Tb,Cb,Ib,Pb);Ob=e,Ab=t,Db=!0}jb[r]=_b(e,Tb,Cb,t,Ab,Ib,n);return new Nb(e)}const Lb="@firebase/analytics",Fb="0.10.18";Wr(new Ln(lb,(e,t)=>{let{options:n}=t;return Rb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Wr(new Ln("analytics-internal",function(e){try{const t=e.getProvider(lb).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Rn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,{...r,send_to:i})}}(Ob,jb[e.app.options.appId],t,n,r).catch(e=>ub.error(e))}(t,e,n,r)}}catch(uQ){throw db.create("interop-component-reg-failed",{reason:uQ})}},"PRIVATE")),ti(Lb,Fb),ti(Lb,Fb,"esm2020");const Ub=Zr({apiKey:"AIzaSyA7bgvmkxATcyak_F9uyhDTuFMMnGHdszI",authDomain:"bike-biryani.firebaseapp.com",projectId:"bike-biryani",storageBucket:"bike-biryani.firebasestorage.app",messagingSenderId:"62242884005",appId:"1:62242884005:web:1da80ef4dfadfec1c8004c",measurementId:"G-L589RCRKBK"}),zb=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();e=Rn(e);const t=Gr(e,lb);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Gr(e,lb);if(n.isInitialized()){const e=n.getImmediate();if(Tn(t,n.getOptions()))return e;throw db.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Ub),ff(Ub)),$b=Hy(Ub),Vb=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei(),t=arguments.length>1?arguments[1]:void 0;e=Rn(e);const n=Gr(e,yv).getImmediate({identifier:t}),r=cn("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const i=fn(t);i&&(pn(`https://${e.host}/b`),vn("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"===typeof a?a:mn(a,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Ub),async e=>{try{const{email:t,password:n,empCode:r,vendorData:i,...a}=e,s=await async function(e,t,n){if(Qr(e.app))return Promise.reject(Ip(e));const r=Lm(e),i=Wm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mg,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Eg(e),t}),s=await gg._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}($b,t,n),o=s.user.uid,l=Sp(zb),c=of(zb,"profiles",o);if(l.set(c,{...a,email:t,uid:o,empCode:r}),"Sales Executive"===a.role&&i){const e=(await dp(sf(zb,"recipes"))).docs.map(e=>({...e.data(),stock:0,date:wa.now()})),t=of(zb,"vendors",o);l.set(t,{...i,uid:o,empCode:r,uniqueId:Math.floor(1e5+9e5*Math.random()).toString(),managerId:null,menu:e})}return await l.commit(),console.log("Document(s) written with ID: ",o),o}catch(uQ){throw console.error("Error adding document(s): ",uQ),uQ}}),Bb=e=>{try{return pp(sf(zb,"profiles"),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to profiles:",e)})}catch(t){throw console.error("Error setting up subscription for profiles:",t),t}},qb=async e=>{try{const t=of(zb,"profiles",e),n=await cp(t);return n.exists()?{id:n.id,...n.data()}:null}catch(uQ){throw console.error("Error getting document: ",uQ),uQ}},Hb=async e=>{try{const t=[];for(const n of e){const e=await qb(n);e&&t.push(e)}return t}catch(uQ){throw console.error("Error getting documents by ids: ",uQ),uQ}},Kb=(e,t)=>{try{const n=Gf(sf(zb,"profiles"),Yf("role","==",e));return pp(n,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to profiles by role:",e)})}catch(n){throw console.error("Error setting up subscription for profiles by role:",n),n}},Wb=(e,t)=>{const n=[],r=t.filter(t=>t.reportsTo===e);return n.push(...r),r.forEach(e=>{n.push(...Wb(e.id,t))}),n};var Gb=n(579);const Qb=(0,t.createContext)(),Yb=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null);return(0,Gb.jsx)(Qb.Provider,{value:{user:r,login:e=>{i(e)},logout:()=>{i(null)}},children:n})},Xb=()=>(0,t.useContext)(Qb),Jb=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),d=re(),{login:h}=Xb();return(0,Gb.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-6 sm:p-8 space-y-8 transform transition-all duration-300 hover:scale-105",children:[(0,Gb.jsx)("h2",{className:"text-3xl font-extrabold text-center text-gray-900 tracking-tight",children:"Welcome Back!"}),(0,Gb.jsx)("p",{className:"text-center text-gray-600 text-sm",children:"Sign in to your account"}),c&&(0,Gb.jsx)("p",{className:"text-red-500 text-center text-sm",children:c}),(0,Gb.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),u(null);try{const e=Gf(sf(zb,"profiles"),Yf("empCode","==",r)),t=await dp(e);if(t.empty)throw new Error("User not found");const n=t.docs[0].data(),i=Hy(),s=await function(e,t,n){return Qr(e.app)?Promise.reject(Ip(e)):Sg(Rn(e),lg.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Eg(e),t})}(i,n.email,a),o=s.user,l=await qb(o.uid);h(l),d("/dashboard"),Bt.success("Login successful!")}catch(c){u("Invalid employee code or password"),Bt.error("Invalid employee code or password")}finally{l(!1)}},className:"space-y-6",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"empCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Code"}),(0,Gb.jsx)("input",{id:"empCode",name:"empCode",type:"text",value:r,onChange:e=>i(e.target.value),required:!0,className:"block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:ring-[#f56703] focus:border-[#f56703] sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Gb.jsx)("input",{id:"password",name:"password",type:"password",value:a,onChange:e=>s(e.target.value),required:!0,className:"block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:ring-[#f56703] focus:border-[#f56703] sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsx)("div",{children:(0,Gb.jsx)("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-lg font-semibold text-white bg-[#f56703] hover:bg-[#d95702] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f56703] transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:o?"Logging in...":"Login"})})]})]})})},Zb={Admin:"A","Business Head":"BH","City operations Head":"CH","Zonal Head":"ZH","Team Lead":"TL","Sales Executive":"SE","Logistics Manager":"LM","Finance and Accounts":"FA","HR & Training":"HR","Procurement Manager":"PM","Kitchen Manager":"KM","Stock Manager":"SM"},ex=(e,t,n)=>{const r=Zb[t];if(!r)throw new Error(`Invalid role: ${t}`);if(!n||["Admin","Business Head","City operations Head"].includes(t)){const n=e.filter(e=>e.role===t).length;return`${r}${n+1}`}const i=((e,t)=>{if(!t)return"";const n=e.find(e=>e.id===t);return n?n.empCode:""})(e,n),a=((e,t,n)=>{const r=e.filter(e=>e.role===t&&e.reportsTo===n);return r.length+1})(e,t,n);return`${i}${r}${a}`},tx={Admin:[],"Business Head":["Admin"],"City operations Head":["Business Head"],"Zonal Head":["City operations Head"],"Kitchen Manager":["City operations Head"],"Logistics Manager":["City operations Head"],"Procurement Manager":["City operations Head"],"Finance and Accounts":["City operations Head"],"HR & Training":["City operations Head"],"Stock Manager":["City operations Head"],"Team Lead":["Zonal Head"],"Sales Executive":["Team Lead"]},nx=()=>{const e=["Admin","Business Head","City operations Head","Zonal Head","Team Lead","Sales Executive","Logistics Manager","Finance and Accounts","HR & Training","Procurement Manager","Kitchen Manager","Stock Manager"],[n,r]=(0,t.useState)({name:"",address:"",phoneNumber:"",email:"",aadharNumber:"",role:e[0],password:"",reportsTo:"",empCode:"",salary:"",businessName:"Yasaswy Universal",fssaiCode:"123412341234",gstin:"123412341234"}),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=Bb(e=>{a(e)});return()=>e()},[]),(0,t.useEffect)(()=>{const e=tx[n.role]||[],t=i.filter(t=>e.includes(t.role));o(t),t.find(e=>e.id===n.reportsTo)||r(e=>({...e,reportsTo:""}))},[n.role,i]);const h=e=>{const{name:t,value:i}=e.target;r({...n,[t]:i})};return(0,Gb.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-2xl p-6 sm:p-8 space-y-8",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 text-center tracking-tight",children:"Create New User Profile"}),u&&(0,Gb.jsx)("p",{className:"text-red-500 text-center text-sm",children:u}),(0,Gb.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(!0),d(null);try{const t=Gf(sf(zb,"profiles"),Yf("role","==",n.role)),a=await dp(t),s=`${n.role}-${a.docs.length+1}`,o=ex(i,n.role,n.reportsTo);let l=null;"Sales Executive"===n.role&&(l={name:n.name,phoneNumber:n.phoneNumber,businessName:n.businessName,aadharCardNumber:n.aadharNumber,email:n.email,businessAddress:n.address,fssaiCode:n.fssaiCode,gstin:n.gstin});const{password:c,...u}=n;await Vb({...u,subrole:s,empCode:o,password:c,vendorData:l,salary:parseFloat(n.salary)}),r({name:"",address:"",phoneNumber:"",email:"",aadharNumber:"",role:e[0],password:"",reportsTo:"",empCode:"",salary:"",businessName:"Yasaswy Universal",fssaiCode:"123412341234",gstin:"123412341234"}),Bt.success("Profile created successfully!")}catch(u){d("Error creating profile. Please try again."),Bt.error("Error creating profile. Please try again.")}finally{c(!1)}},className:"space-y-6",children:[(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Gb.jsx)("input",{id:"name",name:"name",type:"text",value:n.name,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Gb.jsx)("input",{id:"address",name:"address",type:"text",value:n.address,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Gb.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",value:n.phoneNumber,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Gb.jsx)("input",{id:"email",name:"email",type:"email",value:n.email,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),(0,Gb.jsx)("input",{id:"aadharNumber",name:"aadharNumber",type:"text",value:n.aadharNumber,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Gb.jsx)("select",{id:"role",name:"role",value:n.role,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out appearance-none bg-white pr-8",children:e.map(e=>(0,Gb.jsx)("option",{value:e,children:e},e))})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"reportsTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reports To"}),(0,Gb.jsxs)("select",{id:"reportsTo",name:"reportsTo",value:n.reportsTo,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out appearance-none bg-white pr-8",children:[(0,Gb.jsx)("option",{value:"",children:"None"}),s.map(e=>(0,Gb.jsxs)("option",{value:e.id,children:[e.name," (",e.subrole,")"]},e.id))]})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Gb.jsx)("input",{id:"password",name:"password",type:"password",value:n.password,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),(0,Gb.jsx)("input",{id:"salary",name:"salary",type:"number",value:n.salary,onChange:h,required:!0,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]})]}),"Sales Executive"===n.role&&(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name"}),(0,Gb.jsx)("input",{id:"businessName",name:"businessName",type:"text",value:n.businessName,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"fssaiCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"FSSAI Code"}),(0,Gb.jsx)("input",{id:"fssaiCode",name:"fssaiCode",type:"text",value:n.fssaiCode,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"gstin",className:"block text-sm font-medium text-gray-700 mb-1",children:"GSTIN"}),(0,Gb.jsx)("input",{id:"gstin",name:"gstin",type:"text",value:n.gstin,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]})]}),(0,Gb.jsx)("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:l?"Creating...":"Create Profile"})]})]})})},rx=()=>{const{user:e,logout:t}=Xb(),n=re();return(0,Gb.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-6 sm:p-8 space-y-6 text-center transform transition-all duration-300 hover:scale-105",children:[(0,Gb.jsxs)("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:["Welcome, ",(null===e||void 0===e?void 0:e.subrole)||(null===e||void 0===e?void 0:e.role),"!"]}),e&&(0,Gb.jsxs)("div",{className:"space-y-4",children:[(0,Gb.jsxs)("p",{className:"text-lg text-gray-700",children:[(0,Gb.jsx)("span",{className:"font-semibold",children:"Role:"})," ",e.role]}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-700",children:[(0,Gb.jsx)("span",{className:"font-semibold",children:"Subrole:"})," ",e.subrole]}),(0,Gb.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mt-6",children:[(0,Gb.jsx)("button",{onClick:()=>{e&&n(`/${e.role.replace(/\s+/g,"")}/dashboard`)},className:"w-full px-6 py-3 text-lg font-semibold text-white bg-[#f56703] border border-transparent rounded-lg shadow-md hover:bg-[#d95702] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f56703] transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:"Go to My Dashboard"}),(0,Gb.jsx)("button",{onClick:()=>{e&&n(`/${e.role.replace(/\s+/g,"")}/input`)},className:"w-full px-6 py-3 text-lg font-semibold text-white bg-[#f56703] border border-transparent rounded-lg shadow-md hover:bg-[#d95702] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f56703] transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:"Go to My Input Page"})]})]}),(0,Gb.jsx)("button",{onClick:()=>{t(),n("/login"),Bt.info("You have been logged out.")},className:"w-full px-6 py-3 text-lg font-semibold text-white bg-red-600 border border-transparent rounded-lg shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition duration-150 ease-in-out transform hover:-translate-y-0.5 mt-6",children:"Logout"})]})})},ix=e=>{let{children:t,roles:n}=e;const{user:r}=Xb();return r?n&&!n.includes(r.role)?(0,Gb.jsx)(xe,{to:"/dashboard"}):t:(0,Gb.jsx)(xe,{to:"/login"})},ax=ff(),sx=e=>pp(Gf(sf(ax,"forecasts"),Yf("status","==","Pending")),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("Error subscribing to pending forecasts (Admin):",e)}),ox=e=>pp(Gf(sf(ax,"procurement"),Yf("status","!=","Purchased")),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("Error subscribing to active procurements:",e)}),lx=e=>pp(Gf(sf(ax,"kitchenAssignments"),Yf("status","!=","Completed")),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("Error subscribing to ongoing kitchen assignments:",e)}),cx=()=>{const[e,n]=(0,t.useState)({users:0,roles:0,kitchens:0}),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e,t,r,a,o,c;return(()=>{u(!0);try{e=(e=>pp(sf(ax,"profiles"),t=>{e(t.size)},e=>{console.error("Error subscribing to users count:",e)}))(e=>n(t=>({...t,users:e}))),t=(e=>pp(sf(ax,"roles"),t=>{e(t.size)},e=>{console.error("Error subscribing to roles count:",e)}))(e=>n(t=>({...t,roles:e}))),r=(e=>pp(sf(ax,"kitchens"),t=>{e(t.size)},e=>{console.error("Error subscribing to kitchens count:",e)}))(e=>n(t=>({...t,kitchens:e}))),a=sx(i),o=ox(s),c=lx(e=>{l(e),u(!1)})}catch(d){console.error("Error setting up subscriptions:",d),Bt.error("Failed to load dashboard data."),u(!1)}})(),()=>{e&&e(),t&&t(),r&&r(),a&&a(),o&&o(),c&&c()}},[]);const d=e=>{let{title:t,value:n}=e;return(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg transform transition-all duration-300 hover:scale-105",children:[(0,Gb.jsx)("h2",{className:"text-lg font-bold text-gray-600",children:t}),(0,Gb.jsx)("p",{className:"text-3xl sm:text-4xl font-extrabold text-[#f56703]",children:n})]})},h=e=>{let{title:t,items:n,renderItem:r}=e;return(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg col-span-1 md:col-span-1",children:[(0,Gb.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:t}),n.length>0?(0,Gb.jsx)("ul",{className:"space-y-3",children:n.map(e=>r(e))}):(0,Gb.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No items to display."})]})};return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"Admin Dashboard"}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-8",children:[(0,Gb.jsx)(d,{title:"Total Users",value:e.users}),(0,Gb.jsx)(d,{title:"Total Roles",value:e.roles}),(0,Gb.jsx)(d,{title:"Total Kitchens",value:e.kitchens})]}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Gb.jsx)(h,{title:"Pending Forecasts",items:r,renderItem:e=>(0,Gb.jsxs)("li",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 flex justify-between items-center",children:[(0,Gb.jsx)("span",{className:"font-semibold text-gray-800",children:e.zonalHeadName||"N/A"}),(0,Gb.jsx)("span",{className:"text-sm text-gray-600",children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()})]},e.id)}),(0,Gb.jsx)(h,{title:"Active Procurements",items:a,renderItem:e=>(0,Gb.jsxs)("li",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 flex justify-between items-center",children:[(0,Gb.jsxs)("span",{className:"font-semibold text-gray-800",children:["Forecast ID: ",e.forecastId]}),(0,Gb.jsx)("span",{className:"text-sm text-gray-600",children:e.status})]},e.id)}),(0,Gb.jsx)(h,{title:"Ongoing Kitchen Assignments",items:o,renderItem:e=>(0,Gb.jsxs)("li",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 flex justify-between items-center",children:[(0,Gb.jsx)("span",{className:"font-semibold text-gray-800",children:e.kitchenName||"N/A"}),(0,Gb.jsx)("span",{className:"text-sm text-gray-600",children:e.status})]},e.id)})]}),(0,Gb.jsxs)("div",{className:"mt-12 bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6 text-center",children:"Admin Actions"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,Gb.jsx)(at,{to:"/admin/create-profile",className:"px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Create Profile"}),(0,Gb.jsx)(at,{to:"/organization-chart",className:"px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"View Organization Chart"}),(0,Gb.jsx)(at,{to:"/admin/recipe-management",className:"px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Recipe Management"}),(0,Gb.jsx)(at,{to:"/admin/ingredient-management",className:"px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Ingredient Management"}),(0,Gb.jsx)(at,{to:"/admin/business-details",className:"px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Business Details"})]})]})]})})},ux=()=>(0,Gb.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Admin Input"}),(0,Gb.jsx)("p",{children:"This page is a placeholder for future admin input forms."})]}),dx=sf(zb,"profiles"),hx=(e,t)=>{try{const n=Gf(dx,Yf("role","==","Team Lead"),Yf("reportsTo","==",e));return pp(n,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to team leads:",e)})}catch(n){throw console.error("Error setting up subscription for team leads:",n),n}},fx=sf(zb,"profiles"),px=sf(zb,"vendors"),mx=(e,t)=>{try{const n=Gf(fx,Yf("role","==","Sales Executive"),Yf("reportsTo","==",e));return pp(n,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to sales executives:",e)})}catch(n){throw console.error("Error setting up subscription for sales executives:",n),n}},gx=async e=>{try{const t=Gf(px,Yf("email","==",e)),n=await dp(t);return n.empty?null:n.docs[0].id}catch(t){throw console.error("Error fetching vendor uid:",t),t}},yx=async e=>{try{const t=of(zb,"vendor_stock_history",e),n=await cp(t);return n.exists()?n.data():null}catch(t){throw console.error("Error fetching sales data:",t),t}},vx=sf(zb,"profiles"),bx=()=>(0,Gb.jsx)("div",{className:"flex justify-center items-center p-4",children:(0,Gb.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500"})}),xx=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{if(!e)return void d(!1);const t=Bb(t=>{const n=Wb(e.reportsTo,t);r(n);const i=n.filter(e=>["Zonal Head","Team Lead","Sales Executive"].includes(e.role));a(i),d(!1)});return()=>t()},[e]),(0,t.useEffect)(()=>{(async()=>{if(s){d(!0);try{const e=n.find(e=>e.subrole===s);if(e){const t=await(async e=>{let t=null;if("Sales Executive"===e.role){const n=await gx(e.email);n&&(t=await yx(n))}else if("Team Lead"===e.role){const n=Gf(vx,Yf("role","==","Sales Executive"),Yf("reportsTo","==",e.id)),r=(await dp(n)).docs.map(e=>({id:e.id,...e.data()})).map(async e=>{const t=await gx(e.email);return t?await yx(t):null});t=(await Promise.all(r)).reduce((e,t)=>({...e,...t}),{})}else if("Zonal Head"===e.role){const n=Gf(vx,Yf("role","==","Team Lead"),Yf("reportsTo","==",e.id)),r=(await dp(n)).docs.map(e=>({id:e.id,...e.data()})).map(async e=>{const t=Gf(vx,Yf("role","==","Sales Executive"),Yf("reportsTo","==",e.id)),n=(await dp(t)).docs.map(e=>({id:e.id,...e.data()})).map(async e=>{const t=await gx(e.email);return t?await yx(t):null});return await Promise.all(n)});t=(await Promise.all(r)).flat().reduce((e,t)=>({...e,...t}),{})}return t})(e);c(t)}}catch(e){Bt.error("Error fetching sales data."),console.error("Error fetching sales data:",e)}finally{d(!1)}}})()},[s,n]);const p=((e,t)=>{const n={};if(e)for(const r in e){const i=new Date(r);if(isNaN(i))continue;const a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=new Date(s.setDate(s.getDate()-s.getDay())),l=new Date((new Date).setDate(o.getDate()-7)),c=new Date((new Date).setDate(o.getDate()-1)),u=new Date(a.getFullYear(),a.getMonth(),1),d=new Date(a.getFullYear(),a.getMonth()-1,1),h=new Date(a.getFullYear(),a.getMonth(),0);let f=!1;switch(t){case"Today":f=i.toDateString()===a.toDateString();break;case"This Week":f=i>=o;break;case"Last Week":f=i>=l&&i<=c;break;case"This Month":f=i>=u;break;case"Last Month":f=i>=d&&i<=h;break;case"Till Now":f=!0}if(f){const t=e[r];Array.isArray(t)&&t.forEach(e=>{n[e.name]||(n[e.name]={sold:0,remaining:0,shifted:0}),n[e.name].sold+=e.todayStockSold||0,n[e.name].remaining+=e.stock||0,n[e.name].shifted+=e.stockShiftedToday||0})}}return Object.entries(n).map(e=>{let[t,n]=e;return{name:t,...n}})})(l,h),m=p.reduce((e,t)=>({sold:e.sold+t.sold,remaining:e.remaining+t.remaining,shifted:e.shifted+t.shifted}),{sold:0,remaining:0,shifted:0}),g=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>f(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(h===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"HR Dashboard"}),u&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!u&&(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg space-y-8",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"subrole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Employee"}),(0,Gb.jsxs)("select",{id:"subrole",name:"subrole",value:s,onChange:e=>o(e.target.value),required:!0,className:"block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-[#f56703] focus:border-[#f56703] sm:text-sm transition duration-150 ease-in-out appearance-none bg-white pr-8",children:[(0,Gb.jsx)("option",{value:"",children:"Select an employee"}),i.map(e=>(0,Gb.jsx)("option",{value:e.subrole,children:e.subrole},e.id))]})]}),s&&l&&(0,Gb.jsxs)("div",{children:[(0,Gb.jsxs)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:["Sales Data for ",s]}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(g,{period:"Today"}),(0,Gb.jsx)(g,{period:"This Week"}),(0,Gb.jsx)(g,{period:"Last Week"}),(0,Gb.jsx)(g,{period:"This Month"}),(0,Gb.jsx)(g,{period:"Last Month"}),(0,Gb.jsx)(g,{period:"Till Now"})]}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shifted"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sold}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.remaining}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shifted})]},e.name))}),(0,Gb.jsx)("tfoot",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Total"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:m.sold}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:m.remaining}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:m.shifted})]})})]})})]})]})]})})},wx=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},kx=sf(zb,"procurementRequests"),Sx=sf(zb,"stock"),Ex=async(e,t)=>{try{const n=of(zb,"procurementRequests",e),r={status:t};"Purchased"===t?r.purchasedAt=new Date:"Received by Stock"===t&&(r.receivedAt=new Date),await hp(n,r)}catch(n){throw console.error("Error updating procurement request status:",n),n}},_x=sf(zb,"recipes"),Nx=async()=>{try{return(await dp(_x)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching recipes:",e),e}},jx=e=>{try{return pp(_x,t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to recipes:",e)})}catch(t){throw console.error("Error setting up subscription for recipes:",t),t}},Tx=async e=>{try{const n=of(zb,"recipes",e);await(t=n,mp(ga(t.firestore,hf),[new ql(t._key,Ol.none())]))}catch(n){throw console.error("Error deleting recipe:",n),n}var t},Cx=sf(zb,"forecasts"),Ax=async(e,t)=>{const n=Gf(Cx,Yf("salesExecutiveId","==",e),Yf("forecastWeek","==",t)),r=await dp(n);if(!r.empty){const e=r.docs[0];return{id:e.id,...e.data()}}return null},Ox=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=of(zb,"forecasts",e),i=await cp(r),a={id:i.id,...i.data()},s={status:t,approvedAt:new Date};if(n&&(s.items=n),await hp(r,s),"Accepted by Finance"===t){const t=(await Nx()).reduce((e,t)=>(e[t.id]=t,e),{}),r=(await dp(sf(zb,"preparedStock"))).docs.map(e=>({name:e.id,...e.data()})),i=(await dp(sf(zb,"stock"))).docs.map(e=>({name:e.id,...e.data()})),s={};for(const e of n){const n=r.find(t=>t.name===e.name);let a=e.quantity;if(n){const e=Math.min(a,n.quantity);a-=e}if(a>0){const n=t[e.recipeId];n&&n.ingredients.forEach(e=>{const{name:t,unit:n}=e,r=e.quantity*a,o=i.find(e=>e.name===t);let l=r;if(o){l-=Math.min(l,o.quantity)}l>0&&(s[t]||(s[t]={totalQuantity:0,unit:n}),s[t].totalQuantity+=l)})}}if(Object.keys(s).length>0){const t={forecastId:e,teamLeadId:a.teamLeadId,forecastWeek:a.forecastWeek,ingredients:Object.entries(s).map(e=>{let[t,{totalQuantity:n,unit:r}]=e;return{name:t,quantity:n,unit:r}})};await(async e=>{try{return(await fp(kx,{...e,status:"Pending Purchase",createdAt:new Date})).id}catch(t){throw console.error("Error creating procurement request:",t),t}})(t)}}}catch(r){throw console.error("Error updating forecast status:",r),r}},Ix=async(e,t)=>{try{const n=Sp(zb);e.forEach(e=>{const r=of(zb,"forecasts",e);n.update(r,{status:t,approvedAt:new Date})}),await n.commit()}catch(n){throw console.error("Error updating multiple forecast statuses:",n),n}},Px=e=>{let{forecast:n,onClose:r,onApprove:i,zonalHeadProfile:a}=e;const[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(null);(0,t.useEffect)(()=>{o(JSON.parse(JSON.stringify(n.items)));(async()=>{if(n){const e=await qb(n.teamLeadId);c(e)}})()},[n]);return(0,Gb.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl p-6 sm:p-8 space-y-6",children:[(0,Gb.jsxs)("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out",children:[(0,Gb.jsx)("span",{className:"sr-only",children:"Close"}),(0,Gb.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Gb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]}),(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 text-center mb-6",children:"Review Forecast"}),(0,Gb.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("span",{className:"font-semibold",children:"Zonal Head:"})," ",(null===a||void 0===a?void 0:a.subrole)||n.zonalHeadId]}),(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("span",{className:"font-semibold",children:"Team Lead:"})," ",(null===l||void 0===l?void 0:l.subrole)||n.teamLeadId]}),(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("span",{className:"font-semibold",children:"Submitted:"})," ",n.createdAt?new Date(1e3*n.createdAt.seconds).toLocaleDateString():"N/A"]}),(0,Gb.jsxs)("div",{className:"mt-6",children:[(0,Gb.jsx)("h4",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-3",children:"Forecasted Items"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Quantity"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,t)=>(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.items[t].quantity}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Gb.jsx)("input",{type:"number",value:e.quantity,onChange:e=>((e,t)=>{const n=[...s];n[e].quantity=t,o(n)})(t,e.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-[#f56703] focus:border-[#f56703] sm:text-sm transition duration-150 ease-in-out"})})]},t))})]})})]}),(0,Gb.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 mt-6",children:[(0,Gb.jsx)("button",{onClick:()=>{i(n.id,"Rejected by Finance",n.items),Bt.info("Forecast rejected by Finance.")},className:"w-full sm:w-auto px-6 py-3 font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:"Reject"}),(0,Gb.jsx)("button",{onClick:()=>{i(n.id,"Accepted by Finance",n.items),Bt.success("Forecast accepted successfully!")},className:"w-full sm:w-auto px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f56703] transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:"Approve Original"}),(0,Gb.jsx)("button",{onClick:()=>{i(n.id,"Accepted by Finance",s),Bt.success("Forecast accepted with modifications!")},className:"w-full sm:w-auto px-6 py-3 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:"Approve with Modifications"})]})]})]})})},Dx=e=>{let{order:n,onClose:r,onApprove:i,onReject:a,isProcurement:s}=e;const[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{if(n.cohId){const e=await qb(n.cohId);l(e)}})(),u(n.ingredients.map(e=>({...e})))},[n]);return(0,Gb.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Gb.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-md bg-white",children:[(0,Gb.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Review Bulk Buy Order"}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("strong",{children:"COH:"})," ",(null===o||void 0===o?void 0:o.subrole)||n.cohId]}),(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("strong",{children:"Submitted On:"})," ",new Date(1e3*n.createdAt.seconds).toLocaleDateString()]})]}),(0,Gb.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((e,t)=>(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Gb.jsx)("input",{type:"number",value:e.quantity,onChange:e=>((e,t)=>{const n=[...c],r=n[e];r.quantity=t,r.totalCost=t*r.costPerUnit,u(n)})(t,parseInt(e.target.value,10)),className:"w-24 px-2 py-1 border rounded-md",disabled:s})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.unit}),(0,Gb.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["\u20b9",e.totalCost.toFixed(2)]})]},t))})]})}),(0,Gb.jsxs)("div",{className:"text-right font-bold mb-6",children:["Total: \u20b9",c.reduce((e,t)=>e+t.totalCost,0).toFixed(2)]}),(0,Gb.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,Gb.jsx)("button",{onClick:r,disabled:d,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md",children:"Close"}),s?(0,Gb.jsx)("button",{onClick:async()=>{h(!0);try{await i(n.id)}catch(e){Bt.error("Failed to mark as purchased.")}finally{h(!1)}},disabled:d,className:"px-4 py-2 bg-green-600 text-white rounded-md",children:"Mark as Purchased"}):(0,Gb.jsxs)(Gb.Fragment,{children:[(0,Gb.jsx)("button",{onClick:async()=>{h(!0);try{await a(n.id,"Rejected")}catch(e){Bt.error("Failed to reject order.")}finally{h(!1)}},disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-md",children:"Reject"}),(0,Gb.jsx)("button",{onClick:async()=>{h(!0);try{const e=c.reduce((e,t)=>e+t.totalCost,0);await i(n.id,"Approved",c,e)}catch(e){Bt.error("Failed to approve order.")}finally{h(!1)}},disabled:d,className:"px-4 py-2 bg-green-600 text-white rounded-md",children:"Approve"})]})]})]})})},Mx=e=>{const t=new Date(e),n=t.getDate(),r=t.getMonth()+1;return`${n<10?"0"+n:n}-${r<10?"0"+r:r}-${t.getFullYear()}`};var Rx=n(7820),Lx=n.n(Rx),Fx=n(7770),Ux=n.n(Fx),zx=e=>0===e?0:e>0?1:-1,$x=e=>"number"==typeof e&&e!=+e,Vx=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Bx=e=>("number"===typeof e||e instanceof Number)&&!$x(e),qx=e=>Bx(e)||"string"===typeof e,Hx=0,Kx=e=>{var t=++Hx;return"".concat(e||"").concat(t)},Wx=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Bx(e)&&"string"!==typeof e)return r;if(Vx(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return $x(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},Gx=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},Qx=(e,t)=>Bx(e)&&Bx(t)?n=>e+n*(t-e):()=>t;function Yx(e,t,n){return Bx(e)&&Bx(t)?e+n*(t-e):t}function Xx(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):Ux()(e,t))===n)}var Jx=e=>null===e||"undefined"===typeof e,Zx=e=>Jx(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ew=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(t){rw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iw=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:i={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),y=(0,t.useRef)();y.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[v,b]=(0,t.useState)({containerWidth:i.width,containerHeight:i.height}),x=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};d>0&&(e=Lx()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return x(n,r),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=v;if(e<0||n<0)return null;ew(Vx(a)||Vx(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,s),ew(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=Vx(a)?e:a,d=Vx(s)?n:s;return r&&r>0&&(i?d=i/r:d&&(i=d*r),c&&d>c&&(d=c)),ew(i>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,d,a,s,o,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:i,height:d,style:nw({width:i,height:d},e.props.style)}))},[r,u,s,c,l,o,v,a]);return t.createElement("div",{id:h?"".concat(h):void 0,className:pt("recharts-responsive-container",f),style:nw(nw({},m),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function aw(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sw=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),ow=()=>Math.random().toString(36).substring(7).split("").join("."),lw={INIT:`@@redux/INIT${ow()}`,REPLACE:`@@redux/REPLACE${ow()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ow()}`};function cw(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function uw(e,t,n){if("function"!==typeof e)throw new Error(aw(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(aw(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(aw(1));return n(uw)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(aw(3));return i}function d(e){if("function"!==typeof e)throw new Error(aw(4));if(l)throw new Error(aw(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(aw(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!cw(e))throw new Error(aw(7));if("undefined"===typeof e.type)throw new Error(aw(8));if("string"!==typeof e.type)throw new Error(aw(17));if(l)throw new Error(aw(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}h({type:lw.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(aw(10));r=e,h({type:lw.REPLACE})},[sw]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(aw(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[sw](){return this}}}}}function dw(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:lw.INIT}))throw new Error(aw(12));if("undefined"===typeof n(void 0,{type:lw.PROBE_UNKNOWN_ACTION()}))throw new Error(aw(13))})}(n)}catch(uQ){i=uQ}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const s={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(aw(14))}s[o]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?s:e}}function hw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function fw(e){return cw(e)&&"type"in e&&"string"===typeof e.type}function pw(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var mw=pw(),gw=pw,yw=Symbol.for("immer-nothing"),vw=Symbol.for("immer-draftable"),bw=Symbol.for("immer-state");function xw(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ww=Object.getPrototypeOf;function kw(e){return!!e&&!!e[bw]}function Sw(e){return!!e&&(_w(e)||Array.isArray(e)||!!e[vw]||!!e.constructor?.[vw]||Aw(e)||Ow(e))}var Ew=Object.prototype.constructor.toString();function _w(e){if(!e||"object"!==typeof e)return!1;const t=ww(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ew}function Nw(e,t){0===jw(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function jw(e){const t=e[bw];return t?t.type_:Array.isArray(e)?1:Aw(e)?2:Ow(e)?3:0}function Tw(e,t){return 2===jw(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Cw(e,t,n){const r=jw(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Aw(e){return e instanceof Map}function Ow(e){return e instanceof Set}function Iw(e){return e.copy_||e.base_}function Pw(e,t){if(Aw(e))return new Map(e);if(Ow(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=_w(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[bw];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(ww(e),t)}{const t=ww(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Dw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rw(e)||kw(e)||!Sw(e)||(jw(e)>1&&(e.set=e.add=e.clear=e.delete=Mw),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Dw(n,!0)})),e}function Mw(){xw(2)}function Rw(e){return Object.isFrozen(e)}var Lw,Fw={};function Uw(e){const t=Fw[e];return t||xw(0),t}function zw(){return Lw}function $w(e,t){t&&(Uw("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vw(e){Bw(e),e.drafts_.forEach(Hw),e.drafts_=null}function Bw(e){e===Lw&&(Lw=e.parent_)}function qw(e){return Lw={drafts_:[],parent_:Lw,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hw(e){const t=e[bw];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Kw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[bw].modified_&&(Vw(t),xw(4)),Sw(e)&&(e=Ww(t,e),t.parent_||Qw(t,e)),t.patches_&&Uw("Patches").generateReplacementPatches_(n[bw].base_,e,t.patches_,t.inversePatches_)):e=Ww(t,n,[]),Vw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yw?e:void 0}function Ww(e,t,n){if(Rw(t))return t;const r=t[bw];if(!r)return Nw(t,(i,a)=>Gw(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Qw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Nw(i,(i,s)=>Gw(e,r,t,i,s,n,a)),Qw(e,t,!1),n&&e.patches_&&Uw("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Gw(e,t,n,r,i,a,s){if(kw(i)){const s=Ww(e,i,a&&t&&3!==t.type_&&!Tw(t.assigned_,r)?a.concat(r):void 0);if(Cw(n,r,s),!kw(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Sw(i)&&!Rw(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ww(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Qw(e,i)}}function Qw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dw(t,n)}var Yw={get(e,t){if(t===bw)return e;const n=Iw(e);if(!Tw(n,t))return function(e,t,n){const r=Zw(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Sw(r)?r:r===Jw(e.base_,t)?(tk(e),e.copy_[t]=nk(r,e)):r},has:(e,t)=>t in Iw(e),ownKeys:e=>Reflect.ownKeys(Iw(e)),set(e,t,n){const r=Zw(Iw(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Jw(Iw(e),t),i=r?.[bw];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Tw(e.base_,t)))return!0;tk(e),ek(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Jw(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,tk(e),ek(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Iw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){xw(11)},getPrototypeOf:e=>ww(e.base_),setPrototypeOf(){xw(12)}},Xw={};function Jw(e,t){const n=e[bw];return(n?Iw(n):e)[t]}function Zw(e,t){if(!(t in e))return;let n=ww(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ww(n)}}function ek(e){e.modified_||(e.modified_=!0,e.parent_&&ek(e.parent_))}function tk(e){e.copy_||(e.copy_=Pw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Nw(Yw,(e,t)=>{Xw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Xw.deleteProperty=function(e,t){return Xw.set.call(this,e,t,void 0)},Xw.set=function(e,t,n){return Yw.set.call(this,e[0],t,n,e[0])};function nk(e,t){const n=Aw(e)?Uw("MapSet").proxyMap_(e,t):Ow(e)?Uw("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zw(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Yw;n&&(i=[r],a=Xw);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:zw()).drafts_.push(n),n}function rk(e){return kw(e)||xw(10),ik(e)}function ik(e){if(!Sw(e)||Rw(e))return e;const t=e[bw];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Pw(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Pw(e,!0);return Nw(n,(e,t)=>{Cw(n,e,ik(t))}),t&&(t.finalized_=!1),n}var ak=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&xw(6),void 0!==n&&"function"!==typeof n&&xw(7),Sw(e)){const i=qw(this),a=nk(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?Vw(i):Bw(i)}return $w(i,n),Kw(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===yw&&(r=void 0),this.autoFreeze_&&Dw(r,!0),n){const t=[],i=[];Uw("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}xw(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Sw(e)||xw(8),kw(e)&&(e=rk(e));const t=qw(this),n=nk(e,void 0);return n[bw].isManual_=!0,Bw(t),n}finishDraft(e,t){const n=e&&e[bw];n&&n.isManual_||xw(9);const{scope_:r}=n;return $w(r,t),Kw(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Uw("Patches").applyPatches_;return kw(e)?r(e,t):this.produce(e,e=>r(e,t))}},sk=ak.produce;ak.produceWithPatches.bind(ak),ak.setAutoFreeze.bind(ak),ak.setUseStrictShallowCopy.bind(ak),ak.applyPatches.bind(ak),ak.createDraft.bind(ak),ak.finishDraft.bind(ak);var ok="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?hw:hw.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function lk(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(nS(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>fw(t)&&t.type===e,n}var ck=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function uk(e){return Sw(e)?sk(e,()=>{}):e}function dk(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var hk="RTK_autoBatch",fk=e=>t=>{setTimeout(t,e)},pk=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new ck(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:fk(10):"callback"===e.type?e.queueNotification:fk(e.timeout),l=()=>{a=!1,i&&(i=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return r=!e?.meta?.[hk],i=!r,i&&(a||(a=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function mk(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let a=new ck;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(mw):a.push(gw(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!cw(n))throw new Error(nS(1));l=dw(n)}c="function"===typeof r?r(t):t();let u=hw;i&&(u=ok({trace:!1,..."object"===typeof i&&i}));const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(aw(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},o=t.map(e=>e(s));return a=hw(...o)(i.dispatch),{...i,dispatch:a}}}(...c),h=pk(d);return uw(l,s,u(..."function"===typeof o?o(h):h()))}function gk(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(nS(28));if(r in t)throw new Error(nS(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var yk=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var vk=Symbol.for("rtk-slice-createasyncthunk");function bk(e,t){return`${e}/${t}`}function xk(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[vk];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(nS(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(nS(12));if(n in s.sliceCaseReducersByType)throw new Error(nS(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?gk(e.extraReducers):[e.extraReducers],i={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,i,a]=gk(t);if(function(e){return"function"===typeof e}(e))n=()=>uk(e());else{const t=uk(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(kw(e)){const r=n(e,t);return void 0===r?e:r}if(Sw(e))return sk(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],s={reducerName:r,type:bk(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(nS(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(s,r).exposeAction(s,i?lk(a,i):lk(a))}(s,a,o):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(nS(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,s,d);n.exposeAction(a,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:o||Sk,pending:l||Sk,rejected:c||Sk,settled:u||Sk})}(s,a,o,t)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=dk(d,r,p)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=dk(u,n,()=>new WeakMap);return dk(r,t,()=>{const r={};for(const[i,a]of Object.entries(e.selectors??{}))r[i]=wk(a,t,()=>dk(d,t,p),n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g={name:n,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...m(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:f},n),{...g,...m(i,!0)}}};return g}}function wk(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(a,...o)}return i.unwrapped=e,i}var kk=xk();function Sk(){}var Ek="listener",_k="completed",Nk="cancelled",jk=`task-${Nk}`,Tk=`task-${_k}`,Ck=`${Ek}-${Nk}`,Ak=`${Ek}-${_k}`,Ok=class{constructor(e){this.code=e,this.message=`task ${Nk} (reason: ${e})`}name="TaskAbortError";message},Ik=(e,t)=>{if("function"!==typeof e)throw new TypeError(nS(32))},Pk=()=>{},Dk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pk;return e.catch(t),e},Mk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Rk=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Lk=e=>{if(e.aborted){const{reason:t}=e;throw new Ok(t)}};function Fk(e,t){let n=Pk;return new Promise((r,i)=>{const a=()=>i(new Ok(e.reason));e.aborted?a():(n=Mk(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Pk})}var Uk=e=>t=>Dk(Fk(e,t).then(t=>(Lk(e),t))),zk=e=>{const t=Uk(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:$k}=Object,Vk={},Bk="listenerMiddleware",qk=(e,t)=>(n,r)=>{Ik(n);const i=new AbortController;var a;a=i,Mk(e,()=>Rk(a,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ok?"cancelled":"rejected",error:n}}finally{t?.()}})(async()=>{Lk(e),Lk(i.signal);const t=await n({pause:Uk(i.signal),delay:zk(i.signal),signal:i.signal});return Lk(i.signal),t},()=>Rk(i,Tk));return r?.autoJoin&&t.push(s.catch(Pk)),{result:Uk(e)(s),cancel(){Rk(i,jk)}}},Hk=(e,t)=>(n,r)=>Dk((async(n,r)=>{Lk(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await Fk(t,Promise.race(a));return Lk(t),e}finally{i()}})(n,r)),Kk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=lk(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(nS(21));return Ik(a),{predicate:i,type:t,effect:a}},Wk=$k(e=>{const{type:t,predicate:n,effect:r}=Kk(e);return{id:yk(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(nS(22))}}},{withTypes:()=>Wk}),Gk=(e,t)=>{const{type:n,effect:r,predicate:i}=Kk(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Qk=e=>{e.pending.forEach(e=>{Rk(e,Ck)})},Yk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Xk=$k(lk(`${Bk}/add`),{withTypes:()=>Xk}),Jk=lk(`${Bk}/removeAll`),Zk=$k(lk(`${Bk}/remove`),{withTypes:()=>Zk}),eS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(`${Bk}/error`,...t)},tS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=eS}=e;Ik(r);const i=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&Qk(e)}))(Gk(t,e)??Wk(e));$k(i,{withTypes:()=>i});const a=e=>{const n=Gk(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Qk(n)),!!n};$k(a,{withTypes:()=>a});const s=async(e,a,s,o)=>{const l=new AbortController,c=Hk(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,$k({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:zk(l.signal),pause:Uk(l.signal),extra:n,signal:l.signal,fork:qk(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Rk(e,Ck),n.delete(e))})},cancel:()=>{Rk(l,Ck),e.pending.delete(l)},throwIfCancelled:()=>{Lk(l.signal)}})))}catch(d){d instanceof Ok||Yk(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),Rk(l,Ak),e.pending.delete(l)}},o=(e=>()=>{e.forEach(Qk),e.clear()})(t);return{middleware:e=>n=>l=>{if(!fw(l))return n(l);if(Xk.match(l))return i(l.payload);if(Jk.match(l))return void o();if(Zk.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===Vk)throw new Error(nS(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,Yk(r,h,{raisedBy:"predicate"})}i&&s(t,l,e,u)}}}finally{c=Vk}return d},startListening:i,stopListening:a,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function nS(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function rS(e,t){if(t){var n=Number.parseInt(t,10);if(!$x(n))return null===e||void 0===e?void 0:e[n]}}var iS=kk({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aS=iS.reducer,{createEventEmitter:sS}=iS.actions;n(7237);function oS(e){e()}var lS={notify(){},get:()=>[]};function cS(e,t){let n,r=lS,i=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oS(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=lS)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var uS=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),dS=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),hS=(()=>uS||dS?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var fS=Symbol.for("react-redux-context"),pS="undefined"!==typeof globalThis?globalThis:{};function mS(){if(!t.createContext)return{};const e=pS[fS]??=new Map;let n=e.get(t.createContext);return n||(n=t.createContext(null),e.set(t.createContext,n)),n}var gS=mS();var yS=function(e){const{children:n,context:r,serverState:i,store:a}=e,s=t.useMemo(()=>{const e=cS(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),o=t.useMemo(()=>a.getState(),[a]);hS(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=r||gS;return t.createElement(l.Provider,{value:s},n)};var vS=Symbol.for("immer-nothing"),bS=Symbol.for("immer-draftable"),xS=Symbol.for("immer-state");function wS(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kS=Object.getPrototypeOf;function SS(e){return!!e&&!!e[xS]}function ES(e){return!!e&&(NS(e)||Array.isArray(e)||!!e[bS]||!!e.constructor?.[bS]||OS(e)||IS(e))}var _S=Object.prototype.constructor.toString();function NS(e){if(!e||"object"!==typeof e)return!1;const t=kS(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===_S}function jS(e,t){0===TS(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function TS(e){const t=e[xS];return t?t.type_:Array.isArray(e)?1:OS(e)?2:IS(e)?3:0}function CS(e,t){return 2===TS(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AS(e,t,n){const r=TS(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function OS(e){return e instanceof Map}function IS(e){return e instanceof Set}function PS(e){return e.copy_||e.base_}function DS(e,t){if(OS(e))return new Map(e);if(IS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=NS(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[xS];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(kS(e),t)}{const t=kS(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function MS(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return LS(e)||SS(e)||!ES(e)||(TS(e)>1&&(e.set=e.add=e.clear=e.delete=RS),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return MS(n,!0)})),e}function RS(){wS(2)}function LS(e){return Object.isFrozen(e)}var FS,US={};function zS(e){const t=US[e];return t||wS(0),t}function $S(){return FS}function VS(e,t){t&&(zS("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function BS(e){qS(e),e.drafts_.forEach(KS),e.drafts_=null}function qS(e){e===FS&&(FS=e.parent_)}function HS(e){return FS={drafts_:[],parent_:FS,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function KS(e){const t=e[xS];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function WS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[xS].modified_&&(BS(t),wS(4)),ES(e)&&(e=GS(t,e),t.parent_||YS(t,e)),t.patches_&&zS("Patches").generateReplacementPatches_(n[xS].base_,e,t.patches_,t.inversePatches_)):e=GS(t,n,[]),BS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vS?e:void 0}function GS(e,t,n){if(LS(t))return t;const r=t[xS];if(!r)return jS(t,(i,a)=>QS(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return YS(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),jS(i,(i,s)=>QS(e,r,t,i,s,n,a)),YS(e,t,!1),n&&e.patches_&&zS("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function QS(e,t,n,r,i,a,s){if(SS(i)){const s=GS(e,i,a&&t&&3!==t.type_&&!CS(t.assigned_,r)?a.concat(r):void 0);if(AS(n,r,s),!SS(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(ES(i)&&!LS(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;GS(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||YS(e,i)}}function YS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&MS(t,n)}var XS={get(e,t){if(t===xS)return e;const n=PS(e);if(!CS(n,t))return function(e,t,n){const r=eE(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ES(r)?r:r===ZS(e.base_,t)?(nE(e),e.copy_[t]=rE(r,e)):r},has:(e,t)=>t in PS(e),ownKeys:e=>Reflect.ownKeys(PS(e)),set(e,t,n){const r=eE(PS(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=ZS(PS(e),t),i=r?.[xS];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||CS(e.base_,t)))return!0;nE(e),tE(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ZS(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,nE(e),tE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=PS(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){wS(11)},getPrototypeOf:e=>kS(e.base_),setPrototypeOf(){wS(12)}},JS={};function ZS(e,t){const n=e[xS];return(n?PS(n):e)[t]}function eE(e,t){if(!(t in e))return;let n=kS(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=kS(n)}}function tE(e){e.modified_||(e.modified_=!0,e.parent_&&tE(e.parent_))}function nE(e){e.copy_||(e.copy_=DS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}jS(XS,(e,t)=>{JS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),JS.deleteProperty=function(e,t){return JS.set.call(this,e,t,void 0)},JS.set=function(e,t,n){return XS.set.call(this,e[0],t,n,e[0])};function rE(e,t){const n=OS(e)?zS("MapSet").proxyMap_(e,t):IS(e)?zS("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:$S(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=XS;n&&(i=[r],a=JS);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:$S()).drafts_.push(n),n}function iE(e){if(!ES(e)||LS(e))return e;const t=e[xS];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=DS(e,t.scope_.immer_.useStrictShallowCopy_)}else n=DS(e,!0);return jS(n,(e,t)=>{AS(n,e,iE(t))}),t&&(t.finalized_=!1),n}var aE=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&wS(6),void 0!==n&&"function"!==typeof n&&wS(7),ES(e)){const i=HS(this),a=rE(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?BS(i):qS(i)}return VS(i,n),WS(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===vS&&(r=void 0),this.autoFreeze_&&MS(r,!0),n){const t=[],i=[];zS("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}wS(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ES(e)||wS(8),SS(e)&&(e=function(e){SS(e)||wS(10);return iE(e)}(e));const t=HS(this),n=rE(e,void 0);return n[xS].isManual_=!0,qS(t),n}finishDraft(e,t){const n=e&&e[xS];n&&n.isManual_||wS(9);const{scope_:r}=n;return VS(r,t),WS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=zS("Patches").applyPatches_;return SS(e)?r(e,t):this.produce(e,e=>r(e,t))}};aE.produce,aE.produceWithPatches.bind(aE),aE.setAutoFreeze.bind(aE),aE.setUseStrictShallowCopy.bind(aE),aE.applyPatches.bind(aE),aE.createDraft.bind(aE),aE.finishDraft.bind(aE);var sE={active:!1,index:null,dataKey:void 0,coordinate:void 0},oE=kk({name:"tooltip",initialState:{itemInteraction:{click:sE,hover:sE},axisInteraction:{click:sE,hover:sE},keyboardInteraction:sE,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=rk(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:lE,removeTooltipEntrySettings:cE,setTooltipSettingsState:uE,setActiveMouseOverItemIndex:dE,mouseLeaveItem:hE,mouseLeaveChart:fE,setActiveClickItemIndex:pE,setMouseOverAxisIndex:mE,setMouseClickAxisIndex:gE,setSyncInteraction:yE,setKeyboardInteraction:vE}=oE.actions,bE=oE.reducer,xE=kk({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:wE,setDataStartEndIndexes:kE,setComputedData:SE}=xE.actions,EE=xE.reducer,_E=kk({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:NE,setLayout:jE,setChartSize:TE,setScale:CE}=_E.actions,AE=_E.reducer;function OE(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var IE=e=>Array.isArray(e)?e:[e];function PE(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var DE="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ME(){return{s:0,v:void 0,o:null,p:null}}function RE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=ME(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=ME(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){const e=i?.deref?.()??i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new DE(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function LE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),OE(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...i,...o},{memoize:u,memoizeOptions:d=[],argsMemoize:h=RE,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=IE(d),g=IE(f),y=PE(t),v=u(function(){return a++,l.apply(null,arguments)},...m);const b=h(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return r=v.apply(null,e),r},...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var FE=LE(RE),UE=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>UE}),zE=n(8443),$E=(0,t.createContext)(null),VE=e=>e,BE=()=>{var e=(0,t.useContext)($E);return e?e.store.dispatch:VE},qE=()=>{},HE=()=>qE,KE=(e,t)=>e===t;function WE(e){var n=(0,t.useContext)($E);return(0,zE.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:HE,n?n.store.getState:qE,n?n.store.getState:qE,n?e:qE,KE)}var GE=n(3821),QE=n.n(GE),YE=e=>e.legend.settings,XE=FE([e=>e.legend.payload,YE],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?QE()(r,n):r});function JE(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function ZE(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function e_(e){return function(){return e}}function t_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function n_(e,t){return e[t]}function r_(e){const t=[];return t.key=e,t}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(t){s_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o_=Math.PI/180,l_=e=>180*e/Math.PI,c_=(e,t,n,r)=>({x:e+Math.cos(-o_*r)*n,y:t+Math.sin(-o_*r)*n}),u_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},d_=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:l_(l),angleInRadian:l}},h_=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},f_=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=d_({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?a_(a_({},t),{},{radius:i,angle:h_(d,t)}):null};function p_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(t){y_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v_(e,t,n){return Jx(e)||Jx(t)?n:qx(t)?Ux()(e,t,n):"function"===typeof t?t(e):n}var b_=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,x_=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(n),s},w_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||n)&&"category"===i&&s.bandwidth?s.bandwidth()/p:0;return m="angleAxis"===f&&a&&a.length>=2?2*zx(a[0]-a[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+m,value:e,offset:m,index:t}}).filter(e=>!$x(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!n&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:r?r[e]:e,index:t,offset:m}))},k_=1e-4,S_={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=$x(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}JE(e,t)}},none:JE,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}JE(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,JE(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=$x(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},E_=(e,t,n)=>{var r=S_[n],i=function(){var e=e_([]),t=t_,n=JE,r=n_;function i(i){var a,s,o=Array.from(e.apply(this,arguments),r_),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=ZE(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:e_(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:e_(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?t_:"function"===typeof e?e:e_(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?JE:e,i):n},i}().keys(t).value((e,t)=>+v_(e,t,0)).order(t_).offset(r);return i(e)};function __(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jx(i[t.dataKey])){var o=Xx(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=v_(i,Jx(s)?t.dataKey:s);return Jx(l)?null:t.scale(l)}var N_=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=v_(a,t.dataKey,t.scale.domain()[s]);return Jx(o)?null:t.scale(o)-i/2+r},j_=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(Bx);return[Math.min(...t),Math.max(...t)]})(p_(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},T_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A_=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=QE()(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function O_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return g_(g_({},t),{},{dataKey:n,payload:r,value:i,name:a})}function I_(e,t){return e?String(e):"string"===typeof t?t:void 0}var P_=e=>e.layout.width,D_=e=>e.layout.height,M_=e=>e.layout.scale,R_=e=>e.layout.margin,L_=FE(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),F_=FE(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),U_="data-recharts-item-index",z_="data-recharts-item-data-key";function $_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$_(Object(n),!0).forEach(function(t){B_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q_=FE([P_,D_,R_,e=>e.brush.height,L_,F_,YE,e=>e.legend.size],(e,t,n,r,i,a,s,o)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return V_(V_({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:V_(V_({},e),{},{[n]:Ux()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=V_(V_({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&Bx(e[a]))return g_(g_({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&Bx(e[s]))return g_(g_({},e),{},{[s]:e[s]+(i||0)})}return e})(u,s,o);var h=e-u.left-u.right,f=t-u.top-u.bottom;return V_(V_({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),H_=FE(q_,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),K_=FE(P_,D_,(e,t)=>({x:0,y:0,width:e,height:t})),W_=(0,t.createContext)(null),G_=()=>null!=(0,t.useContext)(W_),Q_=e=>e.brush,Y_=FE([Q_,q_,R_],(e,t,n)=>({height:e.height,x:Bx(e.x)?e.x:t.left,y:Bx(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Bx(e.width)?e.width:t.width})),X_=()=>{var e,t=G_(),n=WE(H_),r=WE(Y_),i=null===(e=WE(Q_))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},J_={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Z_=()=>{var e;return null!==(e=WE(q_))&&void 0!==e?e:J_},eN=()=>WE(P_),tN=()=>WE(D_),nN={top:0,right:0,bottom:0,left:0},rN=e=>e.layout.layoutType,iN=()=>WE(rN),aN=n(9859),sN=n.n(aN);function oN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function lN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class cN extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fN;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(uN(this,e))}has(e){return super.has(uN(this,e))}set(e,t){return super.set(dN(this,e),t)}delete(e){return super.delete(hN(this,e))}}Set;function uN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function dN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function hN(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function fN(e){return null!==e&&"object"===typeof e?e.valueOf():e}const pN=Symbol("implicit");function mN(){var e=new cN,t=[],n=[],r=pN;function i(i){let a=e.get(i);if(void 0===a){if(r!==pN)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new cN;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return mN(t,n).unknown(r)},oN.apply(i,arguments),i}function gN(){var e,t,n=mN().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return gN(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},oN.apply(d(),arguments)}function yN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yN(t())},e}function vN(){return yN(gN.apply(null,arguments).paddingInner(1))}const bN=Math.sqrt(50),xN=Math.sqrt(10),wN=Math.sqrt(2);function kN(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=bN?10:a>=xN?5:a>=wN?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?kN(e,t,2*n):[o,l,c]}function SN(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?kN(t,e,n):kN(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function EN(e,t,n){return kN(e=+e,t=+t,n=+n)[2]}function _N(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?EN(t,e,n):EN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function NN(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jN(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TN(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=NN,n=(t,n)=>NN(e(t),n),r=(t,n)=>e(t)-n):(t=e===NN||e===jN?e:CN,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function CN(){return 0}function AN(e){return null===e?NaN:+e}const ON=TN(NN),IN=ON.right,PN=(ON.left,TN(AN).center,IN);function DN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function RN(){}var LN=.7,FN=1/LN,UN="\\s*([+-]?\\d+)\\s*",zN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$N="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VN=/^#([0-9a-f]{3,8})$/,BN=new RegExp(`^rgb\\(${UN},${UN},${UN}\\)$`),qN=new RegExp(`^rgb\\(${$N},${$N},${$N}\\)$`),HN=new RegExp(`^rgba\\(${UN},${UN},${UN},${zN}\\)$`),KN=new RegExp(`^rgba\\(${$N},${$N},${$N},${zN}\\)$`),WN=new RegExp(`^hsl\\(${zN},${$N},${$N}\\)$`),GN=new RegExp(`^hsla\\(${zN},${$N},${$N},${zN}\\)$`),QN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function YN(){return this.rgb().formatHex()}function XN(){return this.rgb().formatRgb()}function JN(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ZN(t):3===n?new nj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ej(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ej(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=BN.exec(e))?new nj(t[1],t[2],t[3],1):(t=qN.exec(e))?new nj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=HN.exec(e))?ej(t[1],t[2],t[3],t[4]):(t=KN.exec(e))?ej(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=WN.exec(e))?lj(t[1],t[2]/100,t[3]/100,1):(t=GN.exec(e))?lj(t[1],t[2]/100,t[3]/100,t[4]):QN.hasOwnProperty(e)?ZN(QN[e]):"transparent"===e?new nj(NaN,NaN,NaN,0):null}function ZN(e){return new nj(e>>16&255,e>>8&255,255&e,1)}function ej(e,t,n,r){return r<=0&&(e=t=n=NaN),new nj(e,t,n,r)}function tj(e,t,n,r){return 1===arguments.length?function(e){return e instanceof RN||(e=JN(e)),e?new nj((e=e.rgb()).r,e.g,e.b,e.opacity):new nj}(e):new nj(e,t,n,null==r?1:r)}function nj(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rj(){return`#${oj(this.r)}${oj(this.g)}${oj(this.b)}`}function ij(){const e=aj(this.opacity);return`${1===e?"rgb(":"rgba("}${sj(this.r)}, ${sj(this.g)}, ${sj(this.b)}${1===e?")":`, ${e})`}`}function aj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oj(e){return((e=sj(e))<16?"0":"")+e.toString(16)}function lj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uj(e,t,n,r)}function cj(e){if(e instanceof uj)return new uj(e.h,e.s,e.l,e.opacity);if(e instanceof RN||(e=JN(e)),!e)return new uj;if(e instanceof uj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new uj(s,o,l,e.opacity)}function uj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function dj(e){return(e=(e||0)%360)<0?e+360:e}function hj(e){return Math.max(0,Math.min(1,e||0))}function fj(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function pj(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}DN(RN,JN,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YN,formatHex:YN,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cj(this).formatHsl()},formatRgb:XN,toString:XN}),DN(nj,tj,MN(RN,{brighter(e){return e=null==e?FN:Math.pow(FN,e),new nj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?LN:Math.pow(LN,e),new nj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nj(sj(this.r),sj(this.g),sj(this.b),aj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rj,formatHex:rj,formatHex8:function(){return`#${oj(this.r)}${oj(this.g)}${oj(this.b)}${oj(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ij,toString:ij})),DN(uj,function(e,t,n,r){return 1===arguments.length?cj(e):new uj(e,t,n,null==r?1:r)},MN(RN,{brighter(e){return e=null==e?FN:Math.pow(FN,e),new uj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?LN:Math.pow(LN,e),new uj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new nj(fj(e>=240?e-240:e+120,i,r),fj(e,i,r),fj(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new uj(dj(this.h),hj(this.s),hj(this.l),aj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=aj(this.opacity);return`${1===e?"hsl(":"hsla("}${dj(this.h)}, ${100*hj(this.s)}%, ${100*hj(this.l)}%${1===e?")":`, ${e})`}`}}));const mj=e=>()=>e;function gj(e,t){return function(n){return e+n*t}}function yj(e){return 1===(e=+e)?vj:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):mj(isNaN(t)?n:t)}}function vj(e,t){var n=t-e;return n?gj(e,n):mj(isNaN(e)?t:e)}const bj=function e(t){var n=yj(t);function r(e,t){var r=n((e=tj(e)).r,(t=tj(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=vj(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function xj(e){return function(t){var n,r,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=tj(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}xj(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return pj((n-r/t)*t,s,i,a,o)}}),xj(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return pj((n-r/t)*t,i,a,s,o)}});function wj(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=Cj(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function kj(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ej(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Cj(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var _j=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nj=new RegExp(_j.source,"g");function jj(e,t){var n,r,i,a=_j.lastIndex=Nj.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=_j.exec(e))&&(r=Nj.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:Sj(n,r)})),a=Nj.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function Tj(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Cj(e,t){var n,r=typeof t;return null==t||"boolean"===r?mj(t):("number"===r?Sj:"string"===r?(n=JN(t))?(t=n,bj):jj:t instanceof JN?bj:t instanceof Date?kj:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Tj:Array.isArray(t)?wj:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Ej:Sj)(e,t)}function Aj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Oj(e){return+e}var Ij=[0,1];function Pj(e){return e}function Dj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Mj(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Dj(i,r),a=n(s,a)):(r=Dj(r,i),a=n(a,s)),function(e){return a(r(e))}}function Rj(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Dj(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=PN(e,t,1,r)-1;return a[n](i[n](t))}}function Lj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fj(){var e,t,n,r,i,a,s=Ij,o=Ij,l=Cj,c=Pj;function u(){var e=Math.min(s.length,o.length);return c!==Pj&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?Rj:Mj,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(o,s.map(e),Sj)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,Oj),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=Aj,u()},d.clamp=function(e){return arguments.length?(c=!!e||Pj,u()):c!==Pj},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Uj(){return Fj()(Pj,Pj)}var zj,$j=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vj(e){if(!(t=$j.exec(e)))throw new Error("invalid format: "+e);var t;return new Bj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Bj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function qj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hj(e){return(e=qj(Math.abs(e)))?e[1]:NaN}function Kj(e,t){var n=qj(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Vj.prototype=Bj.prototype,Bj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wj={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Kj(100*e,t),r:Kj,s:function(e,t){var n=qj(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(zj=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+qj(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gj(e){return e}var Qj,Yj,Xj,Jj=Array.prototype.map,Zj=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function eT(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Gj:(t=Jj.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Gj:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Jj.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Vj(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Wj[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?a:/[%p]/.test(v)?l:"",w=Wj[v],k=/[defgprs%]/.test(v);function S(e){var i,a,l,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?Zj[8+zj/3]:"")+S+(E&&"("===d?")":""),k)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?s+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var _=h.length+e.length+S.length,N=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=r(N+e,N.length?p-S.length:1/0),N=""),n){case"<":e=h+e+S+N;break;case"=":e=h+N+e+S;break;case"^":e=N.slice(0,_=N.length>>1)+h+e+S+N.slice(_);break;default:e=N+h+e+S}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=Vj(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Hj(t)/3))),i=Math.pow(10,-r),a=Zj[8+r/3];return function(e){return n(i*e)+a}}}}function tT(e,t,n,r){var i,a=_N(e,t,n);switch((r=Vj(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hj(t)/3)))-Hj(Math.abs(e)))}(a,s))||(r.precision=i),Xj(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hj(t)-Hj(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Hj(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Yj(r)}function nT(e){var t=e.domain;return e.ticks=function(e){var n=t();return SN(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return tT(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=EN(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function rT(){var e=Uj();return e.copy=function(){return Lj(e,rT())},oN.apply(e,arguments),nT(e)}function iT(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Oj),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return iT(e).unknown(t)},e=arguments.length?Array.from(e,Oj):[0,1],nT(n)}function aT(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function sT(e){return Math.log(e)}function oT(e){return Math.exp(e)}function lT(e){return-Math.log(-e)}function cT(e){return-Math.exp(-e)}function uT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dT(e){return(t,n)=>-e(-t,n)}function hT(e){const t=e(sT,oT),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?uT:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=dT(r),i=dT(i),e(lT,cT)):e(sT,oT),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=SN(s,o,f))}else p=SN(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=Vj(n)).precision||(n.trim=!0),n=Yj(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(aT(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function fT(){const e=hT(Fj()).domain([1,10]);return e.copy=()=>Lj(e,fT()).base(e.base()),oN.apply(e,arguments),e}function pT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gT(e){var t=1,n=e(pT(t),mT(t));return n.constant=function(n){return arguments.length?e(pT(t=+n),mT(t)):t},nT(n)}function yT(){var e=gT(Fj());return e.copy=function(){return Lj(e,yT()).constant(e.constant())},oN.apply(e,arguments)}function vT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xT(e){return e<0?-e*e:e*e}function wT(e){var t=e(Pj,Pj),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Pj,Pj):.5===n?e(bT,xT):e(vT(n),vT(1/n)):n},nT(t)}function kT(){var e=wT(Fj());return e.copy=function(){return Lj(e,kT()).exponent(e.exponent())},oN.apply(e,arguments),e}function ST(){return kT.apply(null,arguments).exponent(.5)}function ET(e){return Math.sign(e)*e*e}function _T(){var e,t=Uj(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(ET(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Oj)).map(ET)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return _T(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},oN.apply(i,arguments),nT(i)}function NT(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function jT(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function TT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NN;if(e===NN)return CT;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function CT(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function AT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?CT:TT(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);AT(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(OT(e,n,t),i(e[r],a)>0&&OT(e,n,r);s<o;){for(OT(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?OT(e,n,o):(++o,OT(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function OT(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function IT(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return jT(e);if(t>=1)return NT(e);var r,i=(r-1)*t,a=Math.floor(i),s=NT(AT(e,a).subarray(0,a+1));return s+(jT(e.subarray(a+1))-s)*(i-a)}}function PT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:AN;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function DT(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=PT(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[PN(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(NN),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return DT().domain(t).range(n).unknown(e)},oN.apply(a,arguments)}function MT(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[PN(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return MT().domain([t,n]).range(a).unknown(e)},oN.apply(nT(s),arguments)}function RT(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[PN(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return RT().domain(t).range(n).unknown(e)},oN.apply(i,arguments)}Qj=eT({thousands:",",grouping:[3],currency:["$",""]}),Yj=Qj.format,Xj=Qj.formatPrefix;const LT=1e3,FT=6e4,UT=36e5,zT=864e5,$T=6048e5,VT=2592e6,BT=31536e6,qT=new Date,HT=new Date;function KT(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>KT(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(qT.setTime(+t),HT.setTime(+r),e(qT),e(HT),Math.floor(n(qT,HT))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const WT=KT(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);WT.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?KT(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):WT:null);WT.range;const GT=KT(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*LT)},(e,t)=>(t-e)/LT,e=>e.getUTCSeconds()),QT=(GT.range,KT(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*LT)},(e,t)=>{e.setTime(+e+t*FT)},(e,t)=>(t-e)/FT,e=>e.getMinutes())),YT=(QT.range,KT(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*FT)},(e,t)=>(t-e)/FT,e=>e.getUTCMinutes())),XT=(YT.range,KT(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*LT-e.getMinutes()*FT)},(e,t)=>{e.setTime(+e+t*UT)},(e,t)=>(t-e)/UT,e=>e.getHours())),JT=(XT.range,KT(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*UT)},(e,t)=>(t-e)/UT,e=>e.getUTCHours())),ZT=(JT.range,KT(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*FT)/zT,e=>e.getDate()-1)),eC=(ZT.range,KT(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zT,e=>e.getUTCDate()-1)),tC=(eC.range,KT(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zT,e=>Math.floor(e/zT)));tC.range;function nC(e){return KT(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*FT)/$T)}const rC=nC(0),iC=nC(1),aC=nC(2),sC=nC(3),oC=nC(4),lC=nC(5),cC=nC(6);rC.range,iC.range,aC.range,sC.range,oC.range,lC.range,cC.range;function uC(e){return KT(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/$T)}const dC=uC(0),hC=uC(1),fC=uC(2),pC=uC(3),mC=uC(4),gC=uC(5),yC=uC(6),vC=(dC.range,hC.range,fC.range,pC.range,mC.range,gC.range,yC.range,KT(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),bC=(vC.range,KT(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),xC=(bC.range,KT(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));xC.every=e=>isFinite(e=Math.floor(e))&&e>0?KT(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;xC.range;const wC=KT(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wC.every=e=>isFinite(e=Math.floor(e))&&e>0?KT(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;wC.range;function kC(e,t,n,r,i,a){const s=[[GT,1,LT],[GT,5,5e3],[GT,15,15e3],[GT,30,3e4],[a,1,FT],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,UT],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,zT],[r,2,1728e5],[n,1,$T],[t,1,VT],[t,3,7776e6],[e,1,BT]];function o(t,n,r){const i=Math.abs(n-t)/r,a=TN(e=>{let[,,t]=e;return t}).right(s,i);if(a===s.length)return e.every(_N(t/BT,n/BT,r));if(0===a)return WT.every(Math.max(_N(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}const[SC,EC]=kC(wC,bC,dC,tC,JT,YT),[_C,NC]=kC(xC,vC,rC,ZT,XT,QT);function jC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function TC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function CC(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var AC,OC,IC,PC={"-":"",_:" ",0:"0"},DC=/^\s*\d+/,MC=/^%/,RC=/[\\^$*+?|[\]().{}]/g;function LC(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function FC(e){return e.replace(RC,"\\$&")}function UC(e){return new RegExp("^(?:"+e.map(FC).join("|")+")","i")}function zC(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function $C(e,t,n){var r=DC.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function VC(e,t,n){var r=DC.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function BC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function HC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function KC(e,t,n){var r=DC.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function WC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QC(e,t,n){var r=DC.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function YC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function XC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JC(e,t,n){var r=DC.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ZC(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eA(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tA(e,t,n){var r=DC.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nA(e,t,n){var r=DC.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rA(e,t,n){var r=DC.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iA(e,t,n){var r=MC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aA(e,t,n){var r=DC.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sA(e,t,n){var r=DC.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function oA(e,t){return LC(e.getDate(),t,2)}function lA(e,t){return LC(e.getHours(),t,2)}function cA(e,t){return LC(e.getHours()%12||12,t,2)}function uA(e,t){return LC(1+ZT.count(xC(e),e),t,3)}function dA(e,t){return LC(e.getMilliseconds(),t,3)}function hA(e,t){return dA(e,t)+"000"}function fA(e,t){return LC(e.getMonth()+1,t,2)}function pA(e,t){return LC(e.getMinutes(),t,2)}function mA(e,t){return LC(e.getSeconds(),t,2)}function gA(e){var t=e.getDay();return 0===t?7:t}function yA(e,t){return LC(rC.count(xC(e)-1,e),t,2)}function vA(e){var t=e.getDay();return t>=4||0===t?oC(e):oC.ceil(e)}function bA(e,t){return e=vA(e),LC(oC.count(xC(e),e)+(4===xC(e).getDay()),t,2)}function xA(e){return e.getDay()}function wA(e,t){return LC(iC.count(xC(e)-1,e),t,2)}function kA(e,t){return LC(e.getFullYear()%100,t,2)}function SA(e,t){return LC((e=vA(e)).getFullYear()%100,t,2)}function EA(e,t){return LC(e.getFullYear()%1e4,t,4)}function _A(e,t){var n=e.getDay();return LC((e=n>=4||0===n?oC(e):oC.ceil(e)).getFullYear()%1e4,t,4)}function NA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+LC(t/60|0,"0",2)+LC(t%60,"0",2)}function jA(e,t){return LC(e.getUTCDate(),t,2)}function TA(e,t){return LC(e.getUTCHours(),t,2)}function CA(e,t){return LC(e.getUTCHours()%12||12,t,2)}function AA(e,t){return LC(1+eC.count(wC(e),e),t,3)}function OA(e,t){return LC(e.getUTCMilliseconds(),t,3)}function IA(e,t){return OA(e,t)+"000"}function PA(e,t){return LC(e.getUTCMonth()+1,t,2)}function DA(e,t){return LC(e.getUTCMinutes(),t,2)}function MA(e,t){return LC(e.getUTCSeconds(),t,2)}function RA(e){var t=e.getUTCDay();return 0===t?7:t}function LA(e,t){return LC(dC.count(wC(e)-1,e),t,2)}function FA(e){var t=e.getUTCDay();return t>=4||0===t?mC(e):mC.ceil(e)}function UA(e,t){return e=FA(e),LC(mC.count(wC(e),e)+(4===wC(e).getUTCDay()),t,2)}function zA(e){return e.getUTCDay()}function $A(e,t){return LC(hC.count(wC(e)-1,e),t,2)}function VA(e,t){return LC(e.getUTCFullYear()%100,t,2)}function BA(e,t){return LC((e=FA(e)).getUTCFullYear()%100,t,2)}function qA(e,t){return LC(e.getUTCFullYear()%1e4,t,4)}function HA(e,t){var n=e.getUTCDay();return LC((e=n>=4||0===n?mC(e):mC.ceil(e)).getUTCFullYear()%1e4,t,4)}function KA(){return"+0000"}function WA(){return"%"}function GA(e){return+e}function QA(e){return Math.floor(+e/1e3)}function YA(e){return new Date(e)}function XA(e){return e instanceof Date?+e:+new Date(+e)}function JA(e,t,n,r,i,a,s,o,l,c){var u=Uj(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,XA)):h().map(YA)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(aT(n,e)):u},u.copy=function(){return Lj(u,JA(e,t,n,r,i,a,s,o,l,c))},u}function ZA(){return oN.apply(JA(_C,NC,xC,vC,rC,ZT,XT,QT,GT,OC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eO(){return oN.apply(JA(SC,EC,wC,bC,dC,eC,JT,YT,GT,IC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tO(){var e,t,n,r,i,a=0,s=1,o=Pj,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(Cj),c.rangeRound=u(Aj),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function nO(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rO(){var e=nT(tO()(Pj));return e.copy=function(){return nO(e,rO())},lN.apply(e,arguments)}function iO(){var e=hT(tO()).domain([1,10]);return e.copy=function(){return nO(e,iO()).base(e.base())},lN.apply(e,arguments)}function aO(){var e=gT(tO());return e.copy=function(){return nO(e,aO()).constant(e.constant())},lN.apply(e,arguments)}function sO(){var e=wT(tO());return e.copy=function(){return nO(e,sO()).exponent(e.exponent())},lN.apply(e,arguments)}function oO(){return sO.apply(null,arguments).exponent(.5)}function lO(){var e=[],t=Pj;function n(n){if(null!=n&&!isNaN(n=+n))return t((PN(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(NN),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>IT(e,r/t))},n.copy=function(){return lO(t).domain(e)},lN.apply(n,arguments)}function cO(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,d=Pj,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Cj);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Cj),f.rangeRound=p(Aj),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function uO(){var e=nT(cO()(Pj));return e.copy=function(){return nO(e,uO())},lN.apply(e,arguments)}function dO(){var e=hT(cO()).domain([.1,1,10]);return e.copy=function(){return nO(e,dO()).base(e.base())},lN.apply(e,arguments)}function hO(){var e=gT(cO());return e.copy=function(){return nO(e,hO()).constant(e.constant())},lN.apply(e,arguments)}function fO(){var e=wT(cO());return e.copy=function(){return nO(e,fO()).exponent(e.exponent())},lN.apply(e,arguments)}function pO(){return fO.apply(null,arguments).exponent(.5)}!function(e){AC=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=UC(i),u=zC(i),d=UC(a),h=zC(a),f=UC(s),p=zC(s),m=UC(o),g=zC(o),y=UC(l),v=zC(l),b={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:oA,e:oA,f:hA,g:SA,G:_A,H:lA,I:cA,j:uA,L:dA,m:fA,M:pA,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:GA,s:QA,S:mA,u:gA,U:yA,V:bA,w:xA,W:wA,x:null,X:null,y:kA,Y:EA,Z:NA,"%":WA},x={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:jA,e:jA,f:IA,g:BA,G:HA,H:TA,I:CA,j:AA,L:OA,m:PA,M:DA,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:GA,s:QA,S:MA,u:RA,U:LA,V:UA,w:zA,W:$A,x:null,X:null,y:VA,Y:qA,Z:KA,"%":WA},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:XC,e:XC,f:rA,g:WC,G:KC,H:ZC,I:ZC,j:JC,L:nA,m:YC,M:eA,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:QC,Q:aA,s:sA,S:tA,u:VC,U:BC,V:qC,w:$C,W:HC,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:WC,Y:KC,Z:GC,"%":iA};function k(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=PC[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function S(e,t){return function(n){var r,i,a=CC(1900,void 0,1);if(E(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=TC(CC(a.y,0,1))).getUTCDay(),r=i>4||0===i?hC.ceil(r):hC(r),r=eC.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=jC(CC(a.y,0,1))).getDay(),r=i>4||0===i?iC.ceil(r):iC(r),r=ZT.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?TC(CC(a.y,0,1)).getUTCDay():jC(CC(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,TC(a)):jC(a)}}function E(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in PC?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),OC=AC.format,AC.parse,IC=AC.utcFormat,AC.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mO=e=>e.chartData,gO=FE([mO],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yO=(e,t,n,r)=>r?gO(e):mO(e);function vO(e){return Number.isFinite(e)}function bO(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function xO(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(vO(t)&&vO(n))return!0}return!1}function wO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var kO=n(8210),SO=n.n(kO),EO=e=>e,_O={"@@functional/placeholder":!0},NO=e=>e===_O,jO=e=>function t(){return 0===arguments.length||1===arguments.length&&NO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},TO=(e,t)=>1===e?t:jO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==_O).length;return a>=e?t(...r):TO(e-a,jO(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>NO(e)?n.shift():e);return t(...a,...n)}))}),CO=e=>TO(e.length,e),AO=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},OO=CO((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),IO=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),PO=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function DO(e){return 0===e?1:Math.floor(new(SO())(e).abs().log(10).toNumber())+1}function MO(e,t,n){for(var r=new(SO())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}CO((e,t,n)=>{var r=+e;return r+n*(+t-r)}),CO((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),CO((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var RO=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},LO=(e,t,n)=>{if(e.lte(0))return new(SO())(0);var r=DO(e.toNumber()),i=new(SO())(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new(SO())(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return t?new(SO())(o.toNumber()):new(SO())(Math.ceil(o.toNumber()))},FO=(e,t,n)=>{var r=new(SO())(1),i=new(SO())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(SO())(10).pow(DO(e)-1),i=new(SO())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(SO())(Math.floor(e)))}else 0===e?i=new(SO())(Math.floor((t-1)/2)):n||(i=new(SO())(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return EO;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(OO(e=>i.add(new(SO())(e-s).mul(r)).toNumber()),AO);return o(0,t)},UO=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(SO())(0),tickMin:new(SO())(0),tickMax:new(SO())(0)};var a,s=LO(new(SO())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(SO())(0):(a=new(SO())(e).add(t).div(2)).sub(new(SO())(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new(SO())(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?UO(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new(SO())(o).mul(s)),tickMax:a.add(new(SO())(l).mul(s))})};var zO=PO(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[s,o]=RO([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...AO(0,r-1).map(()=>1/0)]:[...AO(0,r-1).map(()=>-1/0),o];return t>n?IO(l):l}if(s===o)return FO(s,r,i);var{step:c,tickMin:u,tickMax:d}=UO(s,o,a,i,0),h=MO(u,d.add(new(SO())(.1).mul(c)),c);return t>n?IO(h):h}),$O=PO(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=RO([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(t,2),l=LO(new(SO())(s).sub(a).div(o-1),i,0),c=[...MO(new(SO())(a),new(SO())(s),l),s];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?IO(c):c}),VO=e=>e.rootProps.maxBarSize,BO=e=>e.rootProps.barCategoryGap,qO=e=>e.rootProps.stackOffset,HO=e=>e.options.chartName,KO=e=>e.rootProps.syncId,WO=e=>e.rootProps.syncMethod,GO=e=>e.options.eventEmitter,QO=0,YO="auto",XO=!0,JO=!1,ZO=!0,eI=0,tI="auto",nI=!0,rI=5,iI=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},aI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:QO,includeHidden:!1,name:void 0,reversed:!1,scale:YO,tick:XO,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},sI={allowDataOverflow:JO,allowDecimals:!1,allowDuplicatedCategory:ZO,dataKey:void 0,domain:void 0,id:eI,includeHidden:!1,name:void 0,reversed:!1,scale:tI,tick:nI,tickCount:rI,ticks:void 0,type:"number",unit:void 0},oI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:QO,includeHidden:!1,name:void 0,reversed:!1,scale:YO,tick:XO,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lI={allowDataOverflow:JO,allowDecimals:!1,allowDuplicatedCategory:ZO,dataKey:void 0,domain:void 0,id:eI,includeHidden:!1,name:void 0,reversed:!1,scale:tI,tick:nI,tickCount:rI,ticks:void 0,type:"category",unit:void 0},cI=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?oI:aI,uI=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?lI:sI,dI=e=>e.polarOptions,hI=FE([P_,D_,q_],u_),fI=FE([dI,hI],(e,t)=>{if(null!=e)return Wx(e.innerRadius,t,0)}),pI=FE([dI,hI],(e,t)=>{if(null!=e)return Wx(e.outerRadius,t,.8*t)}),mI=FE([dI],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),gI=(FE([cI,mI],iI),FE([hI,fI,pI],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),yI=(FE([uI,gI],iI),FE([rN,dI,fI,pI,P_,D_],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Wx(s,i,i/2),cy:Wx(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),vI=(e,t)=>t,bI=(e,t,n)=>n;function xI(e){return null===e||void 0===e?void 0:e.id}var wI=e=>{var t=rN(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},kI=e=>e.tooltip.settings.axisId,SI=e=>{var t=wI(e),n=kI(e);return LI(e,t,n)};function EI(e,t,n){var{chartData:r=[]}=t,i=null===n||void 0===n?void 0:n.dataKey,a=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=xI(e);n.forEach((t,n)=>{var r,o=null==i?n:String(v_(t,i,null)),l=v_(t,e.dataKey,0);r=a.has(o)?a.get(o):{},Object.assign(r,{[s]:l}),a.set(o,r)})}}),Array.from(a.values())}function _I(e){return null!=e.stackId&&null!=e.dataKey}function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(t){TI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CI=[0,"auto"],AI={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},OI=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?AI:n},II={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:CI,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},PI=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?II:n},DI={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MI=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?DI:n},RI=(e,t,n)=>{switch(t){case"xAxis":return OI(e,n);case"yAxis":return PI(e,n);case"zAxis":return MI(e,n);case"angleAxis":return cI(e,n);case"radiusAxis":return uI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},LI=(e,t,n)=>{switch(t){case"xAxis":return OI(e,n);case"yAxis":return PI(e,n);case"angleAxis":return cI(e,n);case"radiusAxis":return uI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FI=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function UI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var zI=e=>e.graphicalItems.cartesianItems,$I=FE([vI,bI],UI),VI=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),BI=FE([zI,RI,$I],VI),qI=FE([BI],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(_I)),HI=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),KI=FE([BI],HI),WI=e=>e.map(e=>e.data).filter(Boolean).flat(1),GI=FE([BI],WI),QI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},YI=FE([GI,yO],QI),XI=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:v_(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:v_(e,t)}))):e.map(e=>({value:e})),JI=FE([YI,RI,BI],XI);function ZI(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function eP(e){return e.filter(e=>qx(e)||e instanceof Date).map(Number).filter(e=>!1===$x(e))}function tP(e,t,n){return!n||"number"!==typeof t||$x(t)?[]:n.length?eP(n.flatMap(n=>{var r,i,a=v_(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,vO(r)&&vO(i))return[t-r,t+i]})):[]}var nP=FE([qI,yO,SI],EI),rP=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(xI);return[r,{stackedData:E_(e,a,n),graphicalItems:i}]}))},iP=FE([nP,qI,qO],rP),aP=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=j_(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},sP=FE([iP,mO,vI],aP),oP=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,s,o=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>ZI(i,e)),l=v_(e,null!==(s=t.dataKey)&&void 0!==s?s:n.dataKey);return{value:l,errorDomain:tP(e,l,o)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:v_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),lP=e=>e.errorBars,cP=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>ZI(n,e)),uP=(FE([KI,lP,vI],cP),FE([YI,RI,KI,lP,vI],oP));function dP(e){var{value:t}=e;if(qx(t)||t instanceof Date)return t}var hP=e=>{var t=e.flatMap(e=>[e.value,e.errorDomain]).flat(1),n=eP(t);if(0!==n.length)return[Math.min(...n),Math.max(...n)]},fP=e=>{var t;if(null==e||!("domain"in e))return CI;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=eP(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:CI},pP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},mP=e=>e.referenceElements.dots,gP=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),yP=FE([mP,vI,bI],gP),vP=e=>e.referenceElements.areas,bP=FE([vP,vI,bI],gP),xP=e=>e.referenceElements.lines,wP=FE([xP,vI,bI],gP),kP=(e,t)=>{var n=eP(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},SP=FE(yP,vI,kP),EP=(e,t)=>{var n=eP(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},_P=FE([bP,vI],EP),NP=(e,t)=>{var n=eP(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},jP=FE(wP,vI,NP),TP=FE(SP,jP,_P,(e,t,n)=>pP(e,n,t)),CP=FE([RI],fP),AP=(e,t,n,r,i,a,s)=>{var o=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(vO(i))n=i;else if("function"===typeof i)return;if(vO(a))r=a;else if("function"===typeof a)return;var s=[n,r];if(xO(s))return s}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(xO(r))return wO(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(Bx(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&T_.test(s)){var l=T_.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(Bx(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&C_.test(o)){var u=C_.exec(o);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(xO(h))return null==t?h:wO(h,t,n)}}}(t,"vertical"===a&&"xAxis"===s||"horizontal"===a&&"yAxis"===s?pP(n,i,hP(r)):pP(i,hP(r)),e.allowDataOverflow)},OP=FE([RI,CP,sP,uP,TP,rN,vI],AP),IP=[0,1],PP=(e,t,n,r,i,a,s)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==s){var{dataKey:o,type:l}=e,c=b_(t,a);return c&&null==o?sN()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(dP).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&Gx(r))?sN()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?IP:s}},DP=FE([RI,rN,YI,JI,qO,vI,OP],PP),MP=(t,n,r,i,a)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===o&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(Zx(s));return l in e?l:"point"}}},RP=FE([RI,rN,FI,HO,vI],MP);function LP(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Zx(t));return n in e?e[n]():void 0}}(n);if(null!=a){var s=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-k_,a=Math.max(r[0],r[1])+k_,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}})(s),s}}}var FP=(e,t,n)=>{var r=fP(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&xO(e)?zO(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&xO(e)?$O(e,t.tickCount,t.allowDecimals):void 0},UP=FE([DP,LI,RP],FP),zP=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&xO(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},$P=FE([RI,DP,UP,vI],zP),VP=FE(JI,RI,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(eP(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),BP=FE(VP,rN,BO,q_,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!vO(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=Wx(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),qP=FE(OI,(e,t)=>{var n=OI(e,t);return null==n||"string"!==typeof n.padding?0:BP(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),HP=FE(PI,(e,t)=>{var n=PI(e,t);return null==n||"string"!==typeof n.padding?0:BP(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),KP=FE([q_,qP,Y_,Q_,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),WP=FE([q_,rN,HP,Y_,Q_,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),GP=(e,t,n,r)=>{var i;switch(t){case"xAxis":return KP(e,n,r);case"yAxis":return WP(e,n,r);case"zAxis":return null===(i=MI(e,n))||void 0===i?void 0:i.range;case"angleAxis":return mI(e);case"radiusAxis":return gI(e,n);default:return}},QP=FE([RI,GP],iI),YP=FE([RI,RP,$P,QP],LP);FE([BI,lP,vI],cP);function XP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var JP=(e,t)=>t,ZP=(e,t,n)=>n,eD=FE(L_,JP,ZP,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(XP)),tD=FE(F_,JP,ZP,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(XP)),nD=(e,t)=>({width:e.width,height:t.height}),rD=FE(q_,OI,nD),iD=FE(D_,q_,eD,JP,ZP,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=nD(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;s[n.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),aD=FE(P_,q_,tD,JP,ZP,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;s[n.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),sD=FE(q_,PI,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),oD=(e,t,n)=>{switch(t){case"xAxis":return rD(e,n).width;case"yAxis":return sD(e,n).height;default:return}},lD=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=b_(e,r),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&Gx(l)?l:void 0}},cD=FE([rN,JI,RI,vI],lD),uD=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!b_(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},dD=FE([rN,JI,LI,vI],uD),hD=FE([rN,(e,t,n)=>{switch(t){case"xAxis":return OI(e,n);case"yAxis":return PI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},RP,YP,cD,dD,GP,UP,vI],(e,t,n,r,i,a,s,o,l)=>{if(null==t)return null;var c=b_(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),fD=FE([rN,LI,RP,YP,UP,GP,cD,dD,vI],(e,t,n,r,i,a,s,o,l)=>{if(null!=t&&null!=r){var c=b_(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*zx(a[0]-a[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!$x(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),pD=FE([rN,LI,YP,GP,cD,dD,vI],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=b_(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===r||void 0===r?void 0:r.length)>=2?2*zx(r[0]-r[1])*c:c,o&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),mD=FE(RI,YP,(e,t)=>{if(null!=e&&null!=t)return jI(jI({},e),{},{scale:t})}),gD=FE([RI,RP,DP,QP],LP),yD=(FE((e,t,n)=>MI(e,n),gD,(e,t)=>{if(null!=e&&null!=t)return jI(jI({},e),{},{scale:t})}),FE([rN,L_,F_],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),vD=e=>e.options.defaultTooltipEventType,bD=e=>e.options.validateTooltipEventTypes;function xD(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function wD(e,t){return xD(t,vD(e),bD(e))}var kD=(e,t)=>{var n,r=Number(t);if(!$x(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(t){_D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ND=(e,t,n,r)=>{if(null==t)return sE;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return sE;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return ED(ED({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ED(ED({},sE),{},{coordinate:i.coordinate})},jD=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!vO(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},TD=(e,t,n,r,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},CD=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},AD=e=>e.options.tooltipPayloadSearcher,OD=e=>e.tooltip;function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(t){DD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MD=(e,t,n,r,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,o),y=Array.isArray(g)?p_(g,c,u):g,v=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,b=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===s?Xx(y,r.dataKey,i):a(y,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=PD(PD({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(O_({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:v_(t.payload,t.dataKey),name:t.name}))}):e.push(O_({tooltipEntrySettings:m,dataKey:v,payload:h,value:v_(h,v),name:null!==(f=v_(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},RD=FE([SI,rN,FI,HO,wI],MP),LD=FE([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),FD=FE([wI,kI],UI),UD=FE([LD,SI,FD],VI),zD=FE([UD],e=>e.filter(_I)),$D=FE([UD],WI),VD=FE([$D,mO],QI),BD=FE([zD,mO,SI],EI),qD=FE([VD,SI,UD],XI),HD=FE([SI],fP),KD=FE([UD],e=>e.filter(_I)),WD=FE([BD,KD,qO],rP),GD=FE([WD,mO,wI],aP),QD=FE([UD],HI),YD=FE([VD,SI,QD,lP,wI],oP),XD=FE([mP,wI,kI],gP),JD=FE([XD,wI],kP),ZD=FE([vP,wI,kI],gP),eM=FE([ZD,wI],EP),tM=FE([xP,wI,kI],gP),nM=FE([tM,wI],NP),rM=FE([JD,nM,eM],pP),iM=FE([SI,HD,GD,YD,rM,rN,wI],AP),aM=FE([SI,rN,VD,qD,qO,wI,iM],PP),sM=FE([aM,SI,RD],FP),oM=FE([SI,aM,sM,wI],zP),lM=e=>{var t=wI(e),n=kI(e);return GP(e,t,n,!1)},cM=FE([SI,lM],iI),uM=FE([SI,RD,oM,cM],LP),dM=FE([rN,qD,SI,wI],lD),hM=FE([rN,qD,SI,wI],uD),fM=FE([rN,SI,RD,uM,lM,dM,hM,wI],(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=b_(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*zx(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),pM=FE([vD,bD,e=>e.tooltip.settings],(e,t,n)=>xD(n.shared,e,t)),mM=e=>e.tooltip.settings.trigger,gM=e=>e.tooltip.settings.defaultIndex,yM=FE([OD,pM,mM,gM],ND),vM=FE([yM,VD],jD),bM=FE([fM,vM],kD),xM=FE([yM],e=>{if(e)return e.dataKey}),wM=FE([OD,pM,mM,gM],CD),kM=FE([P_,D_,rN,q_,fM,gM,wM,AD],TD),SM=FE([yM,kM],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),EM=FE([yM],e=>e.active),_M=FE([wM,vM,mO,SI,bM,AD,pM],MD),NM=FE([_M],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),jM=(e,t)=>t,TM=(e,t,n)=>n,CM=(e,t,n,r)=>r,AM=FE(fM,e=>QE()(e,e=>e.coordinate)),OM=FE([OD,jM,TM,CM],ND),IM=FE([OM,VD],jD),PM=FE([OD,jM,TM,CM],CD),DM=FE([P_,D_,rN,q_,fM,CM,PM,AD],TD),MM=FE([OM,DM],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),RM=FE(fM,IM,kD),LM=FE([PM,IM,mO,SI,RM,AD,jM],MD),FM=FE([OM],e=>({isActive:e.active,activeIndex:e.index})),UM=FE([(e,t)=>t,rN,yI,wI,cM,fM,AM,q_],(e,t,n,r,i,a,s,o)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?f_({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,s=-1,o=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(zx(u-c)!==zx(d-u)){var f=[];if(zx(d-u)===zx(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:s}=n[l]);break}}}else if(t)for(var b=0;b<o;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}return s})(c,s,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:s}=r;return g_(g_(g_({},r),c_(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return g_(g_(g_({},r),c_(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),zM=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},$M=lk("mouseClick"),VM=tS();VM.startListening({actionCreator:$M,effect:(e,t)=>{var n=e.payload,r=UM(t.getState(),zM(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(gE({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var BM=lk("mouseMove"),qM=tS();function HM(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(n),!0).forEach(function(t){GM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}qM.startListening({actionCreator:BM,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=wD(r,r.tooltip.settings.shared),a=UM(r,zM(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(mE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(fE()))}});var QM=kk({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=WM(WM({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:YM,removeXAxis:XM,addYAxis:JM,removeYAxis:ZM,addZAxis:eR,removeZAxis:tR,updateYAxisWidth:nR}=QM.actions,rR=QM.reducer,iR=kk({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=rk(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=rk(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=rk(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:aR,replaceCartesianGraphicalItem:sR,removeCartesianGraphicalItem:oR,addPolarGraphicalItem:lR,removePolarGraphicalItem:cR}=iR.actions,uR=iR.reducer,dR=kk({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=rk(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=rk(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=rk(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:hR,removeDot:fR,addArea:pR,removeArea:mR,addLine:gR,removeLine:yR}=dR.actions,vR=dR.reducer,bR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xR=kk({name:"brush",initialState:bR,reducers:{setBrushSettings:(e,t)=>null==t.payload?bR:t.payload}}),{setBrushSettings:wR}=xR.actions,kR=xR.reducer,SR=kk({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=rk(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:ER,setLegendSettings:_R,addLegendPayload:NR,removeLegendPayload:jR}=SR.actions,TR=SR.reducer,CR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},AR=kk({name:"rootProps",initialState:CR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:CR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),OR=AR.reducer,{updateOptions:IR}=AR.actions,PR=kk({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DR,removeRadiusAxis:MR,addAngleAxis:RR,removeAngleAxis:LR}=PR.actions,FR=PR.reducer,UR=kk({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zR}=UR.actions,$R=UR.reducer,VR=lk("keyDown"),BR=lk("focus"),qR=tS();qR.startListening({actionCreator:VR,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(jD(r,VD(n))),s=fM(n);if("Enter"!==i){var o=a+("ArrowRight"===i?1:-1)*("left-to-right"===yD(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=DM(n,"axis","hover",String(o));t.dispatch(vE({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=DM(n,"axis","hover",String(r.index));t.dispatch(vE({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),qR.startListening({actionCreator:BR,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=DM(n,"axis","hover",String("0"));t.dispatch(vE({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var HR=lk("externalEvent"),KR=tS();KR.startListening({actionCreator:HR,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:SM(n),activeDataKey:xM(n),activeIndex:vM(n),activeLabel:bM(n),activeTooltipIndex:vM(n),isTooltipActive:EM(n)};e.payload.handler(r,e.payload.reactEvent)}}});var WR=FE([OD],e=>e.tooltipItemPayloads),GR=FE([WR,AD,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),QR=lk("touchMove"),YR=tS();YR.startListening({actionCreator:QR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=wD(r,r.tooltip.settings.shared);if("axis"===i){var a=UM(r,zM({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(mE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(U_),u=null!==(s=l.getAttribute(z_))&&void 0!==s?s:void 0,d=GR(t.getState(),c,u);t.dispatch(dE({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var XR=kk({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:JR,removeErrorBar:ZR}=XR.actions,eL=dw({brush:kR,cartesianAxis:rR,chartData:EE,errorBars:XR.reducer,graphicalItems:uR,layout:AE,legend:TR,options:aS,polarAxis:FR,polarOptions:$R,referenceElements:vR,rootProps:OR,tooltip:bE});function tL(e){var{preloadedState:n,children:r,reduxStoreName:i}=e,a=G_(),s=(0,t.useRef)(null);if(a)return r;null==s.current&&(s.current=function(e){return mk({reducer:eL,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([VM.middleware,qM.middleware,qR.middleware,KR.middleware,YR.middleware]),devTools:{serialize:{replacer:HM},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,i));var o=$E;return t.createElement(yS,{context:o,store:s.current},r)}var nL=e=>{var{chartData:n}=e,r=BE(),i=G_();return(0,t.useEffect)(()=>i?()=>{}:(r(wE(n)),()=>{r(wE(void 0))}),[n,r,i]),null};function rL(e){var{layout:n,width:r,height:i,margin:a}=e,s=BE(),o=G_();return(0,t.useEffect)(()=>{o||(s(jE(n)),s(TE({width:r,height:i})),s(NE(a)))},[s,o,n,r,i,a]),null}function iL(e){var n=BE();return(0,t.useEffect)(()=>{n(IR(e))},[n,e]),null}function aL(e){var n=BE();return(0,t.useEffect)(()=>{n(zR(e))},[n,e]),null}var sL=()=>WE(e=>e.rootProps.accessibilityLayer),oL=n(2086),lL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cL(e){return"string"===typeof e&&lL.includes(e)}var uL=["points","pathLength"],dL={svg:["viewBox","children"],polygon:uL,polyline:uL},hL=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var i={};return Object.keys(r).forEach(e=>{cL(e)&&(i[e]=n||(t=>r[e](r,t)))}),i},fL=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];cL(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},pL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mL(e){return"string"===typeof e&&pL.includes(e)}function gL(e){var t=Object.entries(e).filter(e=>{var[t]=e;return mL(t)});return Object.fromEntries(t)}var yL=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",vL=null,bL=null,xL=e=>{if(e===vL&&Array.isArray(bL))return bL;var n=[];return t.Children.forEach(e,e=>{Jx(e)||((0,oL.isFragment)(e)?n=n.concat(xL(e.props.children)):n.push(e))}),bL=n,vL=e,n};function wL(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>yL(e)):[yL(t)],xL(e).forEach(e=>{var t=Ux()(e,"type.displayName")||Ux()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var kL=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),SL=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var a={};return Object.keys(i).forEach(e=>{var t;((e,t,n,r)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=r&&(null===dL||void 0===dL?void 0:dL[r]))&&void 0!==i?i:[],s=t.startsWith("data-"),o="function"!==typeof e&&(Boolean(r)&&a.includes(t)||mL(t)),l=Boolean(n)&&cL(t);return s||o||l})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(a[e]=i[e])}),a},EL=["children","width","height","viewBox","className","style","title","desc"];function _L(){return _L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_L.apply(null,arguments)}var NL=(0,t.forwardRef)((e,n)=>{var{children:r,width:i,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,EL),h=s||{width:i,height:a,x:0,y:0},f=pt("recharts-surface",o);return t.createElement("svg",_L({},SL(d,!0,"svg"),{className:f,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),jL=["children"];function TL(){return TL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TL.apply(null,arguments)}var CL={width:"100%",height:"100%"},AL=(0,t.forwardRef)((e,n)=>{var r=eN(),i=tN(),a=sL();if(!bO(r)||!bO(i))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return s="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,o="string"===typeof c.role?c.role:a?"application":void 0,t.createElement(NL,TL({},c,{title:u,desc:d,role:o,tabIndex:s,width:r,height:i,style:CL,ref:n}),l)}),OL=e=>{var{children:n}=e,r=WE(Y_);if(!r)return null;var{width:i,height:a,y:s,x:o}=r;return t.createElement(NL,{width:i,height:a,x:o,y:s},n)},IL=(0,t.forwardRef)((e,n)=>{var{children:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,jL);return G_()?t.createElement(OL,null,r):t.createElement(AL,TL({ref:n},i),r)});var PL=new(n(8499)),DL="recharts.syncEvent.tooltip",ML="recharts.syncEvent.brush";function RL(e){return e.tooltip.syncInteraction}var LL=()=>{};function FL(){var e=BE();(0,t.useEffect)(()=>{e(sS())},[e]),function(){var e=WE(KO),n=WE(GO),r=BE(),i=WE(WO),a=WE(fM),s=iN(),o=X_(),l=WE(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return LL;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==i){if(null!=a){var u;if("function"===typeof i){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=i(a,d);u=a[h]}else"value"===i&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=o){var{x:p,y:m}=f,g=Math.min(p,o.x+o.width),y=Math.min(m,o.y+o.height),v={x:"horizontal"===s?u.coordinate:g,y:"horizontal"===s?y:u.coordinate},b=yE({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(b)}else r(yE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return PL.on(DL,t),()=>{PL.off(DL,t)}},[l,r,n,e,i,a,s,o])}(),function(){var e=WE(KO),n=WE(GO),r=BE();(0,t.useEffect)(()=>{if(null==e)return LL;var t=(t,i,a)=>{n!==a&&e===t&&r(kE(i))};return PL.on(ML,t),()=>{PL.off(ML,t)}},[r,n,e])}()}function UL(e,n,r,i,a,s){var o=WE(t=>((e,t,n)=>{if(null!=t){var r=OD(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=WE(GO),c=WE(KO),u=WE(WO),d=WE(RL),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=yE({active:s,coordinate:r,dataKey:o,index:a,label:"number"===typeof i?String(i):i});PL.emit(DL,c,e,l)}},[h,r,o,a,i,l,c,u,s])}var zL=(0,t.createContext)(null),$L=(0,t.createContext)(null);function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(t){qL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HL=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=BE(),[x,w]=(0,t.useState)(null),[k,S]=(0,t.useState)(null);FL();var E=function(){var e=BE(),[n,r]=(0,t.useState)(null),i=WE(M_);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;vO(t)&&t!==i&&e(CE(t))}},[n,e,i]),r}(),_=(0,t.useCallback)(e=>{E(e),"function"===typeof n&&n(e),w(e),S(e)},[E,n,w,S]),N=(0,t.useCallback)(e=>{b($M(e)),b(HR({handler:s,reactEvent:e}))},[b,s]),j=(0,t.useCallback)(e=>{b(BM(e)),b(HR({handler:u,reactEvent:e}))},[b,u]),T=(0,t.useCallback)(e=>{b(fE()),b(HR({handler:d,reactEvent:e}))},[b,d]),C=(0,t.useCallback)(e=>{b(BM(e)),b(HR({handler:h,reactEvent:e}))},[b,h]),A=(0,t.useCallback)(()=>{b(BR())},[b]),O=(0,t.useCallback)(e=>{b(VR(e.key))},[b]),I=(0,t.useCallback)(e=>{b(HR({handler:o,reactEvent:e}))},[b,o]),P=(0,t.useCallback)(e=>{b(HR({handler:l,reactEvent:e}))},[b,l]),D=(0,t.useCallback)(e=>{b(HR({handler:c,reactEvent:e}))},[b,c]),M=(0,t.useCallback)(e=>{b(HR({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(HR({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b(QR(e)),b(HR({handler:m,reactEvent:e}))},[b,m]),F=(0,t.useCallback)(e=>{b(HR({handler:p,reactEvent:e}))},[b,p]);return t.createElement(zL.Provider,{value:x},t.createElement($L.Provider,{value:k},t.createElement("div",{className:pt("recharts-wrapper",i),style:BL({position:"relative",cursor:"default",width:v,height:a},y),onClick:N,onContextMenu:I,onDoubleClick:P,onFocus:A,onKeyDown:O,onMouseDown:D,onMouseEnter:j,onMouseLeave:T,onMouseMove:C,onMouseUp:M,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:_},r)))}),KL=FE([q_],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),WL=FE([KL,P_,D_],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),GL=()=>WE(WL),QL=(0,t.createContext)(void 0),YL=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(Kx("recharts"),"-clip")),i=GL();if(null==i)return null;var{x:a,y:s,width:o,height:l}=i;return t.createElement(QL.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:a,y:s,height:l,width:o}))),n)},XL=["children","className","width","height","style","compact","title","desc"];var JL=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,width:a,height:s,style:o,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,XL),h=gL(d);return l?t.createElement(IL,{otherAttributes:h,title:c,desc:u},r):t.createElement(HL,{className:i,style:o,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(IL,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(YL,null,r)))});function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tF(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(t){eF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var nF=["width","height","layout"];function rF(){return rF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rF.apply(null,arguments)}var iF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},aF=(0,t.forwardRef)(function(e,n){var r,i=tF(e.categoricalChartProps,iF),{width:a,height:s,layout:o}=i,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,nF);if(!bO(a)||!bO(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(tL,{preloadedState:{options:f},reduxStoreName:null!==(r=i.id)&&void 0!==r?r:c},t.createElement(nL,{chartData:i.data}),t.createElement(rL,{width:a,height:s,layout:o,margin:i.margin}),t.createElement(iL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),t.createElement(aL,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),t.createElement(JL,rF({width:a,height:s},l,{ref:n})))}),sF=["item"],oF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lF=(0,t.forwardRef)((e,n)=>{var r=tF(e,oF);return t.createElement(aF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sF,tooltipPayloadSearcher:rS,categoricalChartProps:r,ref:n})}),cF=e=>e.graphicalItems.polarItems,uF=FE([vI,bI],UI),dF=FE([cF,RI,uF],VI),hF=FE([dF],WI),fF=FE([hF,gO],QI),pF=FE([fF,RI,dF],XI),mF=FE([fF,RI,dF],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:v_(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:v_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),gF=()=>{},yF=FE([RI,CP,gF,mF,gF,rN,vI],AP),vF=FE([RI,rN,fF,pF,qO,vI,yF],PP),bF=FE([vF,RI,RP],FP);FE([RI,vF,bF,vI],zP);function xF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xF(Object(n),!0).forEach(function(t){kF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SF=FE([cF,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),EF=[],_F=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?EF:n,NF=FE([gO,SF,_F],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>wF(wF({},t.presentationProps),e.props))),null!=r))return r}),jF=FE([NF,SF,_F],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,a,s=v_(e,t.nameKey,t.name);return a=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:I_(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),TF=FE([NF,SF,_F,q_],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),m=iV(c,u),g=Math.abs(m),y=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,v=a.filter(e=>0!==v_(e,d,0)).length,b=g-v*p-(g>=360?v:v-1)*y,x=a.reduce((e,t)=>{var n=v_(t,d,0);return e+(Bx(n)?n:0)},0);x>0&&(n=a.map((e,t)=>{var n,a=v_(e,d,0),u=v_(e,h,t),g=rV(i,o,e),v=(Bx(a)?a:0)/x,w=X$(X$({},e),s&&s[t]&&s[t].props),k=(n=t?r.endAngle+zx(m)*y*(0!==a?1:0):c)+zx(m)*((0!==a?p:0)+v*b),S=(n+k)/2,E=(g.innerRadius+g.outerRadius)/2,_=[{name:u,value:a,payload:w,dataKey:d,type:f}],N=c_(g.cx,g.cy,E,S);return r=X$(X$(X$(X$({},i.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:_,midAngle:S,middleRadius:E,tooltipPosition:N},w),g),{},{value:v_(e,d),startAngle:n,endAngle:k,payload:w,paddingAngle:zx(m)*y})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),CF=["children","className"];function AF(){return AF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AF.apply(null,arguments)}var OF=t.forwardRef((e,n)=>{var{children:r,className:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CF),s=pt("recharts-layer",i);return t.createElement("g",AF({className:s},SL(a,!0),{ref:n}),r)});function IF(){}function PF(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function DF(e){this._context=e}function MF(e){this._context=e}function RF(e){this._context=e}DF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},MF.prototype={areaStart:IF,areaEnd:IF,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:PF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:PF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class LF{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function FF(e){this._context=e}function UF(e){this._context=e}function zF(e){return new UF(e)}function $F(e){return e<0?-1:1}function VF(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return($F(a)+$F(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function BF(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qF(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function HF(e){this._context=e}function KF(e){this._context=new WF(e)}function WF(e){this._context=e}function GF(e){this._context=e}function QF(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function YF(e,t){this._context=e,this._t=t}FF.prototype={areaStart:IF,areaEnd:IF,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},UF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},HF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qF(this,this._t0,BF(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qF(this,BF(this,n=VF(this,e,t)),n);break;default:qF(this,this._t0,n=VF(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(KF.prototype=Object.create(HF.prototype)).point=function(e,t){HF.prototype.point.call(this,t,e)},WF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},GF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=QF(e),i=QF(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},YF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const XF=Math.PI,JF=2*XF,ZF=1e-6,eU=JF-ZF;function tU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class nU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?tU:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tU;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>ZF)if(Math.abs(u*o-l*c)>ZF&&i){let h=n-a,f=r-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((XF-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>ZF&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+x*o},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ZF||Math.abs(this._y1-c)>ZF)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%JF+JF),d>eU?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>ZF&&this._append`A${n},${n},0,${+(d>=XF)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function rU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new nU(t)}function iU(e){return e[0]}function aU(e){return e[1]}function sU(e,t){var n=e_(!0),r=null,i=zF,a=null,s=rU(o);function o(o){var l,c,u,d=(o=ZE(o)).length,h=!1;for(null==r&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?iU:e_(e),t="function"===typeof t?t:void 0===t?aU:e_(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:e_(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:e_(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:e_(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function oU(e,t,n){var r=null,i=e_(!0),a=null,s=zF,o=null,l=rU(c);function c(c){var u,d,h,f,p,m=(c=ZE(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return sU().defined(i).curve(s).context(a)}return e="function"===typeof e?e:void 0===e?iU:e_(+e),t="function"===typeof t?t:e_(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?aU:e_(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:e_(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:e_(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:e_(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:e_(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:e_(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:e_(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:e_(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function lU(){return lU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lU.apply(null,arguments)}function cU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cU(Object(n),!0).forEach(function(t){dU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hU={curveBasisClosed:function(e){return new MF(e)},curveBasisOpen:function(e){return new RF(e)},curveBasis:function(e){return new DF(e)},curveBumpX:function(e){return new LF(e,!0)},curveBumpY:function(e){return new LF(e,!1)},curveLinearClosed:function(e){return new FF(e)},curveLinear:zF,curveMonotoneX:function(e){return new HF(e)},curveMonotoneY:function(e){return new KF(e)},curveNatural:function(e){return new GF(e)},curveStep:function(e){return new YF(e,.5)},curveStepAfter:function(e){return new YF(e,1)},curveStepBefore:function(e){return new YF(e,0)}},fU=e=>vO(e.x)&&vO(e.y),pU=e=>e.x,mU=e=>e.y,gU=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Zx(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?hU[n]||zF:hU["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=s?r.filter(fU):r;if(Array.isArray(i)){var c=s?i.filter(e=>fU(e)):i,u=l.map((e,t)=>uU(uU({},e),{},{base:c[t]}));return t="vertical"===a?oU().y(mU).x1(pU).x0(e=>e.base.x):oU().x(pU).y1(mU).y0(e=>e.base.y),t.defined(fU).curve(o),t(u)}return(t="vertical"===a&&Bx(i)?oU().y(mU).x1(pU).x0(i):Bx(i)?oU().x(pU).y1(mU).y0(i):sU().x(pU).y(mU)).defined(fU).curve(o),t(l)},yU=e=>{var{className:n,points:r,path:i,pathRef:a}=e;if((!r||!r.length)&&!i)return null;var s=r&&r.length?gU(e):i;return t.createElement("path",lU({},gL(e),hL(e),{className:pt("recharts-curve",n),d:null===s?void 0:s,ref:a}))},vU=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function bU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xU(Object(n),!0).forEach(function(t){kU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SU=wU({},{cacheSize:2e3,enableCache:!0}),EU=new class{constructor(e){bU(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(SU.cacheSize),_U={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NU="recharts_measurement_span";var jU=(e,t)=>{try{var n=document.getElementById(NU);n||((n=document.createElement("span")).setAttribute("id",NU),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,_U,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},TU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||vU)return{width:0,height:0};if(!SU.enableCache)return jU(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}(e,t),r=EU.get(n);if(r)return r;var i=jU(e,t);return EU.set(n,i),i},CU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},DU=Object.keys(PU),MU="NaN";class RU{static parse(e){var t,[,n,r]=null!==(t=IU.exec(e))&&void 0!==t?t:[];return new RU(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,$x(e)&&(this.unit=""),""===t||OU.test(t)||(this.num=NaN,this.unit=""),DU.includes(t)&&(this.num=function(e,t){return e*PU[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new RU(NaN,""):new RU(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new RU(NaN,""):new RU(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new RU(NaN,""):new RU(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new RU(NaN,""):new RU(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $x(this.num)}}function LU(e){if(e.includes(MU))return MU;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=CU.exec(t))&&void 0!==n?n:[],s=RU.parse(null!==r&&void 0!==r?r:""),o=RU.parse(null!==a&&void 0!==a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return MU;t=t.replace(CU,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=AU.exec(t))&&void 0!==c?c:[],f=RU.parse(null!==u&&void 0!==u?u:""),p=RU.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return MU;t=t.replace(AU,m.toString())}return t}var FU=/\(([^()]*)\)/;function UU(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=FU.exec(n));){var[,r]=t;n=n.replace(FU,LU(r))}return n}(t),t=LU(t)}function zU(e){var t=function(e){try{return UU(e)}catch(t){return MU}}(e.slice(5,-1));return t===MU?"":t}var $U=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VU=["dx","dy","angle","className","breakAll"];function BU(){return BU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BU.apply(null,arguments)}function qU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HU=/[ \f\n\r\t\v\u2028\u2029]+/,KU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return Jx(t)||(i=n?t.toString().split(""):t.toString().split(HU)),{wordsWithComputedWidth:i.map(e=>({word:e,width:TU(e,r).width})),spaceWidth:n?0:TU("\xa0",r).width}}catch(a){return null}},WU=e=>[{words:Jx(e)?[]:e.toString().split(HU)}],GU=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!vU){var o=KU({breakAll:a,children:r,style:i});if(!o)return WU(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Bx(a),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:s}=t,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=KU({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),x=b-1,[w,k]=m(x),[S]=m(b);if(w||S||(g=b+1),w&&S&&(y=b-1),!w&&S){p=k;break}v++}return p||h})({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return WU(r)},QU="#808080",YU=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:i=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=QU}=e,d=qU(e,$U),h=(0,t.useMemo)(()=>GU({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=qU(d,VU);if(!qx(r)||!qx(i))return null;var b,x=r+(Bx(f)?f:0),w=i+(Bx(p)?p:0);switch(c){case"start":b=zU("calc(".concat(s,")"));break;case"middle":b=zU("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:b=zU("calc(".concat(h.length-1," * -").concat(a,")"))}var k=[];if(o){var S=h[0].width,{width:E}=d;k.push("scale(".concat(Bx(E)?E/S:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),k.length&&(v.transform=k.join(" ")),t.createElement("text",BU({},SL(v,!0),{ref:n,x:x,y:w,className:pt("recharts-text",g),textAnchor:l,fill:u.includes("url")?QU:u}),h.map((e,n)=>{var r=e.words.join(y?"":" ");return t.createElement("tspan",{x:x,dy:0===n?b:a,key:"".concat(r,"-").concat(n)},r)}))});YU.displayName="Text";var XU=e=>null;XU.displayName="Cell";var JU=n(9397),ZU=n.n(JU),ez=n(4250),tz=n.n(ez),nz=1e-4,rz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iz=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),az=(e,t)=>n=>{var r=rz(e,t);return iz(r,n)},sz=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=az(e,t),d=az(n,r),h=(l=e,c=t,e=>{var t=[...rz(l,c).map((e,t)=>e*t).slice(1),0];return iz(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<nz||a<nz)return d(n);n=f(n-i/a)}return d(n)};return p.isStepper=!1,p},oz=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sz(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*n)*r/1e3,o=a*r/1e3+e;return Math.abs(o-i)<nz&&Math.abs(s)<nz?[i,0]:[o,s]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return sz(e)}return"function"===typeof e?e:null};function lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lz(Object(n),!0).forEach(function(t){uz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dz=(e,t)=>Object.keys(t).reduce((n,r)=>cz(cz({},n),{},{[r]:e(r,t[r])}),{});function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(t){pz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mz=(e,t,n)=>e+(t-e)*n,gz=e=>{var{from:t,to:n}=e;return t!==n},yz=(e,t,n)=>{var r=dz((t,n)=>{if(gz(n)){var[r,i]=e(n.from,n.to,n.velocity);return fz(fz({},n),{},{from:r,velocity:i})}return n},t);return n<1?dz((e,t)=>gz(t)?fz(fz({},t),{},{velocity:mz(t.velocity,r[e].velocity,n),from:mz(t.from,r[e].from,n)}):t,t):yz(e,r,n-1)};function vz(e,t,n,r,i,a){var s,o=r.reduce((n,r)=>fz(fz({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=yz(n,o,u),i(fz(fz(fz({},e),t),dz((e,t)=>t.from,o))),s=r,Object.values(o).filter(gz).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const bz=(e,t,n,r,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?vz(e,t,n,l,i,a):function(e,t,n,r,i,a,s){var o,l=null,c=i.reduce((n,r)=>fz(fz({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{o||(o=i);var d=(i-o)/r,h=dz((e,t)=>mz(...t,n(d)),c);if(a(fz(fz(fz({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=dz((e,t)=>mz(...t,n(1)),c);a(fz(fz(fz({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class xz{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function wz(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"===typeof o?void(r=e.setTimeout(i.bind(null,l),o)):(i(o),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new xz)}var kz=(0,t.createContext)(wz);function Sz(e,n){var r=(0,t.useContext)(kz);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}var Ez=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _z(){return _z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_z.apply(null,arguments)}function Nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nz(Object(n),!0).forEach(function(t){Tz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Cz extends t.PureComponent{constructor(e,t){super(e,t),Tz(this,"mounted",!1),Tz(this,"manager",void 0),Tz(this,"stopJSAnimation",null),Tz(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:s,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||o<=0)return this.state={style:{}},void("function"===typeof s&&(this.state={style:a}));if(i){if("function"===typeof s)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:s}=this.props,{style:o}=this.state;if(n)if(t){if(!(tz()(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?s:e.to;if(this.state&&o){var u={style:r?{[r]:c}:c};(r&&o[r]!==c||!r&&o!==c)&&this.setState(u)}this.runAnimation(jz(jz({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&o&&(r&&o[r]!==a||!r&&o!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:s,onAnimationStart:o}=e,l=bz(t,n,oz(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,a,()=>{this.stopJSAnimation=l()},r,s])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:s,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([s,t,jz(jz({},c),{},{transition:u}),n,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:s,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ez),g=t.Children.count(n),y=this.state.style;if("function"===typeof n)return n(y);if(!o||0===g||i<=0)return n;var v=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,jz(jz({},m),{},{style:jz(jz({},n),y),className:r}))};return 1===g?v(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>v(e)))}}function Az(e){var n,r=Sz(null!==(n=e.attributeName)&&void 0!==n?n:Object.keys(e.to).join(","),e.animationManager);return t.createElement(Cz,_z({},e,{animationManager:r}))}function Oz(){return Oz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oz.apply(null,arguments)}Tz(Cz,"displayName","Animate"),Tz(Cz,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Iz=(e,t,n,r,i)=>{var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},Pz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dz=e=>{var n=tF(e,Pz),r=(0,t.useRef)(null),[i,a]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var y=pt("recharts-rectangle",d);return g?t.createElement(Az,{canBegin:i>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:f,animationEasing:h,isActive:g},e=>{var{width:a,height:s,x:o,y:l}=e;return t.createElement(Az,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",Oz({},SL(n,!0),{className:y,d:Iz(o,l,a,s,u),ref:r})))}):t.createElement("path",Oz({},SL(n,!0),{className:y,d:Iz(s,o,l,c,u)}))};function Mz(){return Mz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mz.apply(null,arguments)}var Rz=(e,t,n,r,i)=>{var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},Lz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fz=e=>{var n=tF(e,Lz),r=(0,t.useRef)(),[i,a]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=n;if(s!==+s||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=pt("recharts-trapezoid",d);return m?t.createElement(Az,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:o},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:a,lowerWidth:s,height:o,x:l,y:c}=e;return t.createElement(Az,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",Mz({},SL(n,!0),{className:g,d:Rz(l,c,a,s,o),ref:r})))}):t.createElement("g",null,t.createElement("path",Mz({},SL(n,!0),{className:g,d:Rz(s,o,l,c,u)})))};function Uz(){return Uz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uz.apply(null,arguments)}var zz=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/o_,d=l?i:i+a*u,h=l?i-a*u:i;return{center:c_(t,n,c,d),circleTangency:c_(t,n,r,d),lineTangency:c_(t,n,c*Math.cos(u*o_),h),theta:u}},$z=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>zx(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=c_(t,n,i,a),u=c_(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=c_(t,n,r,a),f=c_(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Vz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bz=e=>{var n=tF(e,Vz),{cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(s<a||u===d)return null;var f,p=pt("recharts-sector",h),m=s-a,g=Wx(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=zx(c-l),{circleTangency:d,lineTangency:h,theta:f}=zz({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=zz({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):$z({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:x,theta:w}=zz({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:S,theta:E}=zz({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-w-E;if(_<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(S.x,",").concat(S.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):$z({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),t.createElement("path",Uz({},SL(n,!0),{className:p,d:f}))};Math.abs,Math.atan2;const qz=Math.cos,Hz=(Math.max,Math.min,Math.sin),Kz=Math.sqrt,Wz=Math.PI,Gz=2*Wz;const Qz={draw(e,t){const n=Kz(t/Wz);e.moveTo(n,0),e.arc(0,0,n,0,Gz)}},Yz={draw(e,t){const n=Kz(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Xz=Kz(1/3),Jz=2*Xz,Zz={draw(e,t){const n=Kz(t/Jz),r=n*Xz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},e$={draw(e,t){const n=Kz(t),r=-n/2;e.rect(r,r,n,n)}},t$=Hz(Wz/10)/Hz(7*Wz/10),n$=Hz(Gz/10)*t$,r$=-qz(Gz/10)*t$,i$={draw(e,t){const n=Kz(.8908130915292852*t),r=n$*n,i=r$*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=Gz*a/5,s=qz(t),o=Hz(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},a$=Kz(3),s$={draw(e,t){const n=-Kz(t/(3*a$));e.moveTo(0,2*n),e.lineTo(-a$*n,-n),e.lineTo(a$*n,-n),e.closePath()}},o$=-.5,l$=Kz(3)/2,c$=1/Kz(12),u$=3*(c$/2+1),d$={draw(e,t){const n=Kz(t/u$),r=n/2,i=n*c$,a=r,s=n*c$+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(o$*r-l$*i,l$*r+o$*i),e.lineTo(o$*a-l$*s,l$*a+o$*s),e.lineTo(o$*o-l$*l,l$*o+o$*l),e.lineTo(o$*r+l$*i,o$*i-l$*r),e.lineTo(o$*a+l$*s,o$*s-l$*a),e.lineTo(o$*o+l$*l,o$*l-l$*o),e.closePath()}};Kz(3),Kz(3);var h$=["type","size","sizeType"];function f$(){return f$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f$.apply(null,arguments)}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p$(Object(n),!0).forEach(function(t){g$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y$={symbolCircle:Qz,symbolCross:Yz,symbolDiamond:Zz,symbolSquare:e$,symbolStar:i$,symbolTriangle:s$,symbolWye:d$},v$=Math.PI/180,b$=e=>{var{type:n="circle",size:r=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,h$),s=m$(m$({},a),{},{type:n,size:r,sizeType:i}),{className:o,cx:l,cy:c}=s,u=SL(s,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",f$({},u,{className:pt("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Zx(e));return y$[t]||Qz})(n),t=function(e,t){let n=null,r=rU(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:e_(e||Qz),t="function"===typeof t?t:e_(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:e_(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:e_(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*v$;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,i,n));return t()})()})):null};b$.registerSymbol=(e,t)=>{y$["symbol".concat(Zx(e))]=t};var x$=["option","shapeType","propTransformer","activeClassName","isActive"];function w$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w$(Object(n),!0).forEach(function(t){S$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E$(e,t){return k$(k$({},t),e)}function _$(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(Dz,r);case"trapezoid":return t.createElement(Fz,r);case"sector":return t.createElement(Bz,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(b$,r);break;default:return null}}function N$(e){var n,{option:r,shapeType:i,propTransformer:a=E$,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,x$);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,k$(k$({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(ZU()(r)&&"boolean"!==typeof r){var c=a(r,l);n=t.createElement(_$,{shapeType:i,elementProps:c})}else{var u=l;n=t.createElement(_$,{shapeType:i,elementProps:u})}return o?t.createElement(OF,{className:s},n):n}var j$=(e,t)=>{var n=BE();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(dE({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},T$=e=>{var t=BE();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(hE())}},C$=(e,t)=>{var n=BE();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(pE({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function A$(e){var{fn:n,args:r}=e,i=BE(),a=G_();return(0,t.useEffect)(()=>{if(!a){var e=n(r);return i(lE(e)),()=>{i(cE(e))}}},[n,r,i,a]),null}var O$,I$=()=>{};function P$(e){var{legendPayload:n}=e,r=BE(),i=G_();return(0,t.useEffect)(()=>i?I$:(r(NR(n)),()=>{r(jR(n))}),[r,i,n]),null}function D$(e){var{legendPayload:n}=e,r=BE(),i=WE(rN);return(0,t.useEffect)(()=>"centric"!==i&&"radial"!==i?I$:(r(NR(n)),()=>{r(jR(n))}),[r,i,n]),null}function M$(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(Kx(n)),i=(0,t.useRef)(e);return i.current!==e&&(r.current=Kx(n),i.current=e),r.current}var R$=null!==(O$=r["useId".toString()])&&void 0!==O$?O$:()=>{var[e]=t.useState(()=>Kx("uid-"));return e};var L$=(0,t.createContext)(void 0),F$=e=>{var{id:n,type:r,children:i}=e,a=function(e,t){var n=R$();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(L$.Provider,{value:a},i(a))};function U$(e){var n=BE(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(aR(e)):r.current!==e&&n(sR({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(oR(r.current)),r.current=null)},[n]),null}function z$(e){var n=BE();return(0,t.useEffect)(()=>(n(lR(e)),()=>{n(cR(e))}),[n,e]),null}function $$(){}var V$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},B$={t:0},q$={t:1};function H$(e){var n=tF(e,V$),{isActive:r,canBegin:i,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=Sz("JavascriptAnimate",n.animationManager),[h,f]=(0,t.useState)(r?B$:q$),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(q$)},[r]),(0,t.useEffect)(()=>{if(!r||!i)return $$;var e=bz(B$,q$,oz(s),a,f,d.getTimeoutController());return d.start([c,o,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,i,a,s,o,c,l,d]),u(h.t)}var K$=["onMouseEnter","onClick","onMouseLeave"],W$=["id"],G$=["id"];function Q$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y$(Object(n),!0).forEach(function(t){J$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z$(){return Z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z$.apply(null,arguments)}function eV(e){var n=(0,t.useMemo)(()=>wL(e.children,XU),[e.children]),r=WE(t=>jF(t,e.id,n));return null==r?null:t.createElement(D$,{legendPayload:r})}function tV(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:I_(o,t),hide:l,type:c,color:s,unit:""}}}var nV=(e,t)=>e>t?"start":e<t?"end":"middle",rV=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=u_(a,s),l=i+Wx(e.cx,a,a/2),c=r+Wx(e.cy,s,s/2),u=Wx(e.innerRadius,o,0),d=((e,t,n)=>"function"===typeof t?t(e):Wx(t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}},iV=(e,t)=>zx(t-e)*Math.min(Math.abs(t-e),360);function aV(e){var{sectors:n,props:r,showLabels:i}=e,{label:a,labelLine:s,dataKey:o}=r;if(!i||!a||!n)return null;var l=gL(r),c=SL(a,!1),u=SL(s,!1),d="object"===typeof a&&"offsetRadius"in a&&a.offsetRadius||20,h=n.map((e,n)=>{var r=(e.startAngle+e.endAngle)/2,i=c_(e.cx,e.cy,e.outerRadius+d,r),h=X$(X$(X$(X$({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:nV(i.x,e.cx)},i),f=X$(X$(X$(X$({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[c_(e.cx,e.cy,e.outerRadius,r),i],key:"line"});return t.createElement(OF,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},s&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=pt("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(yU,Z$({},n,{type:"linear",className:r}))})(s,f),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var i=r;if("function"===typeof e&&(i=e(n),t.isValidElement(i)))return i;var a=pt("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(YU,Z$({},n,{alignmentBaseline:"middle",className:a}),i)})(a,h,v_(e,o)))});return t.createElement(OF,{className:"recharts-pie-labels"},h)}function sV(e){var{sectors:n,activeShape:r,inactiveShape:i,allOtherPieProps:a,showLabels:s}=e,o=WE(vM),{onMouseEnter:l,onClick:c,onMouseLeave:u}=a,d=Q$(a,K$),h=j$(l,a.dataKey),f=T$(u),p=C$(c,a.dataKey);return null==n?null:t.createElement(t.Fragment,null,n.map((e,s)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(s)===o,c=l?r:o?i:null,u=X$(X$({},e),{},{stroke:e.stroke,tabIndex:-1,[U_]:s,[z_]:a.dataKey});return t.createElement(OF,Z$({tabIndex:-1,className:"recharts-pie-sector"},fL(d,e,s),{onMouseEnter:h(e,s),onMouseLeave:f(e,s),onClick:p(e,s),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),t.createElement(N$,Z$({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(aV,{sectors:n,props:a,showLabels:s}))}function oV(e){var{props:n,previousSectorsRef:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=M$(n,"recharts-pie-"),p=r.current,[m,g]=(0,t.useState)(!0),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(H$,{begin:s,duration:o,isActive:a,easing:l,onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var a=[],s=(i&&i[0]).startAngle;return i.forEach((t,n)=>{var r=p&&p[n],i=n>0?Ux()(t,"paddingAngle",0):0;if(r){var o=Qx(r.endAngle-r.startAngle,t.endAngle-t.startAngle),l=X$(X$({},t),{},{startAngle:s+i,endAngle:s+o(e)+i});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=Qx(0,c-u)(e),h=X$(X$({},t),{},{startAngle:s+i,endAngle:s+d+i});a.push(h),s=h.endAngle}}),r.current=a,t.createElement(OF,null,t.createElement(sV,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:n,showLabels:!m}))})}function lV(e){var{sectors:n,isAnimationActive:r,activeShape:i,inactiveShape:a}=e,s=(0,t.useRef)(null),o=s.current;return r&&n&&n.length&&(!o||o!==n)?t.createElement(oV,{props:e,previousSectorsRef:s}):t.createElement(sV,{sectors:n,activeShape:i,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function cV(e){var{hide:n,className:r,rootTabIndex:i}=e,a=pt("recharts-pie",r);return n?null:t.createElement(OF,{tabIndex:i,className:a},t.createElement(lV,e))}var uV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!vU,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function dV(e){var{id:n}=e,r=Q$(e,W$),i=(0,t.useMemo)(()=>wL(e.children,XU),[e.children]),a=WE(e=>TF(e,n,i));return t.createElement(t.Fragment,null,t.createElement(A$,{fn:tV,args:X$(X$({},e),{},{sectors:a})}),t.createElement(cV,Z$({},r,{sectors:a})))}function hV(e){var n=tF(e,uV),{id:r}=n,i=Q$(n,G$),a=gL(i);return t.createElement(F$,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(z$,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a}),t.createElement(eV,Z$({},i,{id:e})),t.createElement(dV,Z$({},i,{id:e})),i.children))}hV.displayName="Pie";var fV=n(7950);function pV(){return pV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pV.apply(null,arguments)}function mV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mV(Object(n),!0).forEach(function(t){yV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vV(e){return Array.isArray(e)&&qx(e[0])&&qx(e[1])?e.join(" ~ "):e}var bV=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:i={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=gV({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=gV({margin:0},a),g=!Jx(d),y=g?d:"",v=pt("recharts-default-tooltip",c),b=pt("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(y=h(d,s));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",pV({className:v,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(y)?y:"".concat(y)),(()=>{if(s&&s.length){var e=(l?QE()(s,l):s).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||o||vV,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,r,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=gV({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},qx(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,qx(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},xV="recharts-tooltip-wrapper",wV={visibility:"hidden"};function kV(e){var{coordinate:t,translateX:n,translateY:r}=e;return pt(xV,{["".concat(xV,"-right")]:Bx(n)&&t&&Bx(t.x)&&n>=t.x,["".concat(xV,"-left")]:Bx(n)&&t&&Bx(t.x)&&n<t.x,["".concat(xV,"-bottom")]:Bx(r)&&t&&Bx(t.y)&&r>=t.y,["".concat(xV,"-top")]:Bx(r)&&t&&Bx(t.y)&&r<t.y})}function SV(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Bx(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function EV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EV(Object(n),!0).forEach(function(t){NV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jV extends t.PureComponent{constructor(){super(...arguments),NV(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NV(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=SV({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=SV({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):wV,{cssProperties:t,cssClasses:kV({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=y?{}:_V(_V({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=_V(_V({},x),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},a)}}var TV=n(4332),CV=n.n(TV);function AV(e,t,n){return!0===t?CV()(e,n):"function"===typeof t?CV()(e,t):e}function OV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-n.height)>1||Math.abs(i.left-n.left)>1||Math.abs(i.top-n.top)>1||Math.abs(i.width-n.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,i]}var IV=["x","y","top","left","width","height","className"];function PV(){return PV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PV.apply(null,arguments)}function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RV=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),LV=e=>{var{x:n=0,y:r=0,top:i=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,IV),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DV(Object(n),!0).forEach(function(t){MV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:i,left:a,width:s,height:o},c);return Bx(n)&&Bx(r)&&Bx(s)&&Bx(o)&&Bx(i)&&Bx(a)?t.createElement("path",PV({},SL(u,!0),{className:pt("recharts-cross",l),d:RV(n,r,s,o,i,a)})):null};function FV(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[c_(t,n,r,i),c_(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function UV(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return FV(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=c_(o,l,c,d),f=c_(o,l,u,d);r=h.x,i=h.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zV(Object(n),!0).forEach(function(t){VV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BV=()=>{var e=WE(SI),t=WE(fM),n=WE(uM);return A_($V($V({},e),{},{scale:n}),t)};function qV(){return qV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qV.apply(null,arguments)}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(t){WV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var n,r,{coordinate:i,payload:a,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=i,p=a,m=s;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=LV;else if("BarChart"===h)n=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,o,l),r=Dz;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:x}=FV(f);n={cx:g,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},r=Bz}else n={points:UV(c,f,o)},r=yU;var w="object"===typeof u&&"className"in u?u.className:void 0,k=KV(KV(KV(KV({stroke:"#ccc",pointerEvents:"none"},o),n),SL(u,!1)),{},{payload:p,payloadIndex:m,className:pt("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,k):(0,t.createElement)(r,k)}function QV(e){var n=BV(),r=Z_(),i=iN(),a=WE(HO);return t.createElement(GV,qV({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:i,tooltipAxisBandSize:n,chartName:a}))}function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YV(Object(n),!0).forEach(function(t){JV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZV(e){return e.dataKey}var eB=[],tB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!vU,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nB(e){var n=tF(e,tB),{active:r,allowEscapeViewBox:i,animationDuration:a,animationEasing:s,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:w}=n,k=BE(),S="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{k(uE({shared:y,trigger:v,axisId:w,active:r,defaultIndex:S}))},[k,y,v,w,r,S]);var E=X_(),_=sL(),N=function(e){return WE(t=>wD(t,e))}(y),{activeIndex:j,isActive:T}=WE(e=>FM(e,N,v,S)),C=WE(e=>LM(e,N,v,S)),A=WE(e=>RM(e,N,v,S)),O=WE(e=>MM(e,N,v,S)),I=C,P=(0,t.useContext)(zL),D=null!==r&&void 0!==r?r:T,[M,R]=OV([I,D]),L="axis"===N?A:void 0;UL(N,v,O,L,j,D);var F=null!==x&&void 0!==x?x:P;if(null==F)return null;var U=null!==I&&void 0!==I?I:eB;D||(U=eB),l&&U.length&&(U=AV(I.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,ZV));var z=U.length>0,$=t.createElement(jV,{allowEscapeViewBox:i,animationDuration:a,animationEasing:s,isAnimationActive:c,active:D,coordinate:O,hasPayload:z,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:E,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(x)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(bV,n)}(o,XV(XV({},n),{},{payload:U,label:L,active:D,coordinate:O,accessibilityLayer:_})));return t.createElement(t.Fragment,null,(0,fV.createPortal)($,F),D&&t.createElement(QV,{cursor:g,tooltipEventType:N,coordinate:O,payload:I,index:j}))}var rB=["width","height"];function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iB.apply(null,arguments)}var aB={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},sB=(0,t.forwardRef)(function(e,n){var r,i=tF(e.categoricalChartProps,aB),{width:a,height:s}=i,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,rB);if(!bO(a)||!bO(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(tL,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(nL,{chartData:h.data}),t.createElement(rL,{width:a,height:s,layout:i.layout,margin:i.margin}),t.createElement(iL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),t.createElement(JL,iB({},o,{width:a,height:s,ref:n})))}),oB=["axis","item"],lB=(0,t.forwardRef)((e,n)=>t.createElement(sB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oB,tooltipPayloadSearcher:rS,categoricalChartProps:e,ref:n}));function cB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class uB{static create(e){return new uB(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}cB(uB,"EPS",1e-4);function dB(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function hB(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function fB(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function pB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pB(Object(n),!0).forEach(function(t){gB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yB(e,t,n){var r,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(Bx(c)||vU)return null!==(r=function(e,t){return dB(e,t+1)}(a,Bx(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?TU(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===p?hB(TU(i,{fontSize:t,letterSpacing:n}),m,h):TU(i,{fontSize:t,letterSpacing:n})[p]},y=a.length>=2?zx(a[1].coordinate-a[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(s,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:dB(r,u)};var a,s=c,h=()=>(void 0===a&&(a=n(t,s)),a),f=t.coordinate,p=0===c||fB(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(y,v,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=mB(mB({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),fB(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=mB(mB({},u),{},{isShow:!0}))}for(var f=a?o-1:o,p=function(t){var r,a=s[t],o=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=mB(mB({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=mB(mB({},a),{},{tickCoord:a.coordinate});fB(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=mB(mB({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(y,v,g,a,o,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=mB(mB({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=mB(mB({},c),{},{tickCoord:c.coordinate});fB(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=mB(mB({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(y,v,g,a,o),f.filter(e=>e.isShow))}function vB(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var bB=["offset"],xB=["labelRef"];function wB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kB(Object(n),!0).forEach(function(t){EB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _B(){return _B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_B.apply(null,arguments)}var NB=e=>null!=e&&"function"===typeof e,jB=(e,n,r,i)=>{var a,s,{position:o,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,y=(h+f)/2,v=((e,t)=>zx(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===o?(a=p+b*l,s=g):"insideEnd"===o?(a=m-b*l,s=!g):"end"===o&&(a=m+b*l,s=g),s=v<=0?s:!s;var x=c_(u,d,y,a),w=c_(u,d,y,a+359*(s?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),S=Jx(e.id)?Kx("recharts-radial-line-"):e.id;return t.createElement("text",_B({},r,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))};function TB(e){var{offset:n=5}=e,r=SB({offset:n},wB(e,bB)),{viewBox:i,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=WE(yI),f=X_(),p=i||("center"===a?f:null!==h&&void 0!==h?h:f);if(!p||Jx(s)&&Jx(o)&&!(0,t.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=SB(SB({},r),{},{viewBox:p});if((0,t.isValidElement)(l)){var{labelRef:y}=g,v=wB(g,xB);return(0,t.cloneElement)(l,v)}if("function"===typeof l){if(m=(0,t.createElement)(l,g),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=Jx(e.children)?t:e.children;return"function"===typeof n?n(r):r})(r);var b=(e=>"cx"in e&&Bx(e.cx))(p),x=SL(r,!0);if(b&&("insideStart"===a||"insideEnd"===a||"end"===a))return jB(r,m,x,p);var w=b?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:u,y:d}=c_(r,i,s+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:f,y:p}=c_(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:s,width:o,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=o>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===i)return SB(SB({},{x:a+o/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:o}:{});if("bottom"===i)return SB(SB({},{x:a+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+l),0),width:o}:{});if("left"===i){var y={x:a-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return SB(SB({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var v={x:a+o+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return SB(SB({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:o,height:l}:{};return"insideLeft"===i?SB({x:a+p,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===i?SB({x:a+o-p,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===i?SB({x:a+o/2,y:s+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===i?SB({x:a+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===i?SB({x:a+p,y:s+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===i?SB({x:a+o-p,y:s+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===i?SB({x:a+p,y:s+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===i?SB({x:a+o-p,y:s+l-u,textAnchor:m,verticalAnchor:d},b):i&&"object"===typeof i&&(Bx(i.x)||Vx(i.x))&&(Bx(i.y)||Vx(i.y))?SB({x:a+Wx(i.x,o),y:s+Wx(i.y,l),textAnchor:"end",verticalAnchor:"end"},b):SB({x:a+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(r,p);return t.createElement(YU,_B({ref:d,className:pt("recharts-label",c)},x,w,{breakAll:u}),m)}TB.displayName="Label";var CB=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(Bx(p)&&Bx(m)){if(Bx(u)&&Bx(d))return{x:u,y:d,width:p,height:m};if(Bx(h)&&Bx(f))return{x:h,y:f,width:p,height:m}}return Bx(u)&&Bx(d)?{x:u,y:d,width:0,height:0}:Bx(t)&&Bx(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:void 0};TB.parseViewBox=CB,TB.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,s=CB(e),o=wL(i,TB).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||s,key:"label-".concat(r)}));if(!r)return o;var l=((e,n,r)=>{if(!e)return null;var i={viewBox:n,labelRef:r};return!0===e?t.createElement(TB,_B({key:"label-implicit"},i)):qx(e)?t.createElement(TB,_B({key:"label-implicit",value:e},i)):(0,t.isValidElement)(e)?e.type===TB?(0,t.cloneElement)(e,SB({key:"label-implicit"},i)):t.createElement(TB,_B({key:"label-implicit",content:e},i)):NB(e)?t.createElement(TB,_B({key:"label-implicit",content:e},i)):e&&"object"===typeof e?t.createElement(TB,_B({},e,{key:"label-implicit"},i)):null})(e.label,n||s,a);return[l,...o]};var AB=["viewBox"],OB=["viewBox"];function IB(){return IB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IB.apply(null,arguments)}function PB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PB(Object(n),!0).forEach(function(t){RB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class LB extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=MB(e,AB),i=this.props,{viewBox:a}=i,s=MB(i,OB);return!vB(n,a)||!vB(r,s)||!vB(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,s,{x:o,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=Bx(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(i=l+ +!f*u)-m*g)-m*p,a=y;break;case"left":r=i=e.coordinate,a=(t=(n=o+ +!f*c)-m*g)-m*p,s=y;break;case"right":r=i=e.coordinate,a=(t=(n=o+ +f*c)+m*g)+m*p,s=y;break;default:t=n=e.coordinate,s=(r=(i=l+ +f*u)+m*g)+m*p,a=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:s}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o}=this.props,l=DB(DB(DB({},SL(this.props,!1)),SL(o,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);l=DB(DB({},l),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var u=+("left"===a&&!s||"right"===a&&s);l=DB(DB({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+i})}return t.createElement("line",IB({},l,{className:pt("recharts-cartesian-axis-line",Ux()(o,"className"))}))}static renderTickItem(e,n,r){var i,a=pt(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))i=t.cloneElement(e,DB(DB({},n),{},{className:a}));else if("function"===typeof e)i=e(DB(DB({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(s=pt(s,e.className)),i=t.createElement(YU,IB({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:i,stroke:a,tick:s,tickFormatter:o,unit:l,padding:c}=this.props,u=yB(DB(DB({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=gL(this.props),p=SL(s,!1),m=DB(DB({},f),{},{fill:"none"},SL(i,!1)),g=u.map((e,n)=>{var{line:r,tick:g}=this.getTickLineCoord(e),y=DB(DB(DB(DB({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:a},p),g),{},{index:n,payload:e,visibleTicksCount:u.length,tickFormatter:o,padding:c});return t.createElement(OF,IB({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},fL(this.props,e,n)),i&&t.createElement("line",IB({},m,r,{className:pt("recharts-cartesian-axis-tick-line",Ux()(i,"className"))})),s&&LB.renderTickItem(s,y,"".concat("function"===typeof o?o(e.value,n):e.value).concat(l||"")))});return g.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(OF,{className:pt("recharts-cartesian-axis",i),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),TB.renderCallByParent(this.props))}}RB(LB,"displayName","CartesianAxis"),RB(LB,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FB=["x1","y1","x2","y2","key"],UB=["offset"],zB=["xAxisId","yAxisId"],$B=["xAxisId","yAxisId"];function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VB(Object(n),!0).forEach(function(t){qB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(){return HB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HB.apply(null,arguments)}function KB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var WB=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:i,y:a,width:s,height:o,ry:l}=e;return t.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function GB(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:i,y1:a,x2:s,y2:o,key:l}=n,c=gL(KB(n,FB)),{offset:u}=c,d=KB(c,UB);r=t.createElement("line",HB({},d,{x1:i,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function QB(e){var{x:n,width:r,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=KB(e,zB),c=a.map((e,t)=>{var a=BB(BB({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return GB(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function YB(e){var{y:n,height:r,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=KB(e,$B),c=a.map((e,t)=>{var a=BB(BB({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return GB(i,a)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function XB(e){var{horizontalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+o-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:s,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function JB(e){var{vertical:n=!0,verticalFill:r,fillOpacity:i,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?a+o-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ZB=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return x_(yB(BB(BB(BB({},LB.defaultProps),n),{},{ticks:w_(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},eq=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return x_(yB(BB(BB(BB({},LB.defaultProps),n),{},{ticks:w_(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},tq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function nq(e){var n=eN(),r=tN(),i=Z_(),a=BB(BB({},tF(e,tq)),{},{x:Bx(e.x)?e.x:i.left,y:Bx(e.y)?e.y:i.top,width:Bx(e.width)?e.width:i.width,height:Bx(e.height)?e.height:i.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=G_(),g=WE(e=>hD(e,"xAxis",s,m)),y=WE(e=>hD(e,"yAxis",o,m));if(!Bx(u)||u<=0||!Bx(d)||d<=0||!Bx(l)||l!==+l||!Bx(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||ZB,b=a.horizontalCoordinatesGenerator||eq,{horizontalPoints:x,verticalPoints:w}=a;if((!x||!x.length)&&"function"===typeof b){var k=f&&f.length,S=b({yAxis:y?BB(BB({},y),{},{ticks:k?f:y.ticks}):void 0,width:n,height:r,offset:i},!!k||h);ew(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!w||!w.length)&&"function"===typeof v){var E=p&&p.length,_=v({xAxis:g?BB(BB({},g),{},{ticks:E?p:g.ticks}):void 0,width:n,height:r,offset:i},!!E||h);ew(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(WB,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),t.createElement(XB,HB({},a,{horizontalPoints:x})),t.createElement(JB,HB({},a,{verticalPoints:w})),t.createElement(QB,HB({},a,{offset:i,horizontalPoints:x,xAxis:g,yAxis:y})),t.createElement(YB,HB({},a,{offset:i,verticalPoints:w,xAxis:g,yAxis:y})))}nq.displayName="CartesianGrid";var rq=["children"],iq=["dangerouslySetInnerHTML","ticks"];function aq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(){return sq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sq.apply(null,arguments)}function oq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lq(e){var n=BE(),r=(0,t.useMemo)(()=>{var{children:t}=e;return oq(e,rq)},[e]),i=WE(e=>OI(e,r.id)),a=r===i;return(0,t.useEffect)(()=>(n(YM(r)),()=>{n(XM(r))}),[r,n]),a?e.children:null}var cq=e=>{var{xAxisId:n,className:r}=e,i=WE(K_),a=G_(),s="xAxis",o=WE(e=>YP(e,s,n,a)),l=WE(e=>fD(e,s,n,a)),c=WE(e=>rD(e,n)),u=WE(e=>((e,t)=>{var n=q_(e),r=OI(e,t);if(null!=r){var i=iD(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=oq(e,iq);return t.createElement(LB,sq({},f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:pt("recharts-".concat(s," ").concat(s),r),viewBox:i,ticks:l}))},uq=e=>{var n,r,i,a,s;return t.createElement(lq,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter},t.createElement(cq,e))};class dq extends t.Component{render(){return t.createElement(uq,this.props)}}aq(dq,"displayName","XAxis"),aq(dq,"defaultProps",{allowDataOverflow:AI.allowDataOverflow,allowDecimals:AI.allowDecimals,allowDuplicatedCategory:AI.allowDuplicatedCategory,height:AI.height,hide:!1,mirror:AI.mirror,orientation:AI.orientation,padding:AI.padding,reversed:AI.reversed,scale:AI.scale,tickCount:AI.tickCount,type:AI.type,xAxisId:0});var hq=["dangerouslySetInnerHTML","ticks"];function fq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(){return pq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pq.apply(null,arguments)}function mq(e){var n=BE();return(0,t.useEffect)(()=>(n(JM(e)),()=>{n(ZM(e))}),[e,n]),null}var gq=e=>{var n,{yAxisId:r,className:i,width:a,label:s}=e,o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=WE(K_),u=G_(),d=BE(),h="yAxis",f=WE(e=>YP(e,h,r,u)),p=WE(e=>sD(e,r)),m=WE(e=>((e,t)=>{var n=q_(e),r=PI(e,t);if(null!=r){var i=aD(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,r)),g=WE(e=>fD(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===a&&p&&!NB(s)&&!(0,t.isValidElement)(s)){var n=o.current,i=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(i+a)+o+(n?r:0);return Math.round(l)}return 0})({ticks:i,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(nR({id:r,width:h}))}},[o,null===o||void 0===o||null===(n=o.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,s,r,a]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hq);return t.createElement(LB,pq({},b,{ref:o,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:pt("recharts-".concat(h," ").concat(h),i),viewBox:c,ticks:g}))},yq=e=>{var n,r,i,a,s;return t.createElement(t.Fragment,null,t.createElement(mq,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(s=e.tick)||void 0===s||s,tickFormatter:e.tickFormatter}),t.createElement(gq,e))},vq={allowDataOverflow:II.allowDataOverflow,allowDecimals:II.allowDecimals,allowDuplicatedCategory:II.allowDuplicatedCategory,hide:!1,mirror:II.mirror,orientation:II.orientation,padding:II.padding,reversed:II.reversed,scale:II.scale,tickCount:II.tickCount,type:II.type,width:II.width,yAxisId:0};class bq extends t.Component{render(){return t.createElement(yq,this.props)}}function xq(){return xq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xq.apply(null,arguments)}function wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}fq(bq,"displayName","YAxis"),fq(bq,"defaultProps",vq);var Sq=32;class Eq extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=16,a=Sq/6,s=Sq/3,o=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Sq,y2:i,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,"\n            H").concat(Sq,"M").concat(2*s,",").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Sq,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wq(Object(n),!0).forEach(function(t){kq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(b$,{fill:o,cx:i,cy:i,size:Sq,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:Sq,height:Sq},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||i,d=pt({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?a:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",xq({className:d,style:l,key:"legend-item-".concat(r)},fL(this.props,e,r)),t.createElement(NL,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,s)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}kq(Eq,"displayName","Legend"),kq(Eq,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var _q=["contextPayload"];function Nq(){return Nq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nq.apply(null,arguments)}function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jq(Object(n),!0).forEach(function(t){Cq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){return e.value}function Oq(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_q),i=AV(n,e.payloadUniqBy,Aq),a=Tq(Tq({},r),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,a):"function"===typeof e.content?t.createElement(e.content,a):t.createElement(Eq,a)}function Iq(e){var n=BE();return(0,t.useEffect)(()=>{n(_R(e))},[n,e]),null}function Pq(e){var n=BE();return(0,t.useEffect)(()=>(n(ER(e)),()=>{n(ER({width:0,height:0}))}),[n,e]),null}function Dq(e){var n=WE(XE),r=(0,t.useContext)($L),i=(()=>{var e;return null!==(e=WE(e=>e.layout.margin))&&void 0!==e?e:nN})(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=OV([n]),d=eN(),h=tN(),f=d-(i.left||0)-(i.right||0),p=Mq.getWidthOrHeight(e.layout,s,a,f),m=l?o:Tq(Tq({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||a||"auto",height:(null===p||void 0===p?void 0:p.height)||s||"auto"},function(e,t,n,r,i,a){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Tq(Tq({},s),o)}(o,e,i,d,h,c)),o),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(Iq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(Pq,{width:c.width,height:c.height}),t.createElement(Oq,Nq({},e,p,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,fV.createPortal)(y,g)}class Mq extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Bx(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(Dq,this.props)}}Cq(Mq,"displayName","Legend"),Cq(Mq,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var Rq=n(356),Lq=n.n(Rq),Fq=["valueAccessor"],Uq=["data","dataKey","clockWise","id","textBreakAll"];function zq(){return zq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zq.apply(null,arguments)}function $q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$q(Object(n),!0).forEach(function(t){Bq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hq=e=>Array.isArray(e.value)?Lq()(e.value):e.value;function Kq(e){var{valueAccessor:n=Hq}=e,r=qq(e,Fq),{data:i,dataKey:a,clockWise:s,id:o,textBreakAll:l}=r,c=qq(r,Uq);return i&&i.length?t.createElement(OF,{className:"recharts-label-list"},i.map((e,r)=>{var i=Jx(a)?n(e,r):v_(e&&e.payload,a),u=Jx(o)?{}:{id:"".concat(o,"-").concat(r)};return t.createElement(TB,zq({},SL(e,!0),c,u,{parentViewBox:e.parentViewBox,value:i,textBreakAll:l,viewBox:TB.parseViewBox(Jx(s)?e:Vq(Vq({},e),{},{clockWise:s})),key:"label-".concat(r),index:r}))})):null}Kq.displayName="LabelList",Kq.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:i}=e,a=wL(i,Kq).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));if(!r)return a;var s=function(e,n){return e?!0===e?t.createElement(Kq,{key:"labelList-implicit",data:n}):t.isValidElement(e)||NB(e)?t.createElement(Kq,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(Kq,zq({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n);return[s,...a]};var Wq="Invariant failed";var Gq=["x","y"];function Qq(){return Qq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qq.apply(null,arguments)}function Yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yq(Object(n),!0).forEach(function(t){Jq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Gq),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Xq(Xq(Xq(Xq(Xq({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function eH(e){return t.createElement(N$,Qq({shapeType:"rectangle",propTransformer:Zq,activeClassName:"recharts-active-bar"},e))}var tH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Bx(e))return e;var i=Bx(n)||Jx(n);return i?e(n,r):(i||function(e){if(!e)throw new Error(Wq)}(!1),t)}},nH=["children"];var rH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iH=(0,t.createContext)(rH);function aH(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nH);return t.createElement(iH.Provider,{value:r},n)}function sH(e,t){var n,r,i=WE(t=>OI(t,e)),a=WE(e=>PI(e,t)),s=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:AI.allowDataOverflow,o=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:II.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function oH(e){var{xAxisId:n,yAxisId:r,clipPathId:i}=e,a=GL(),{needClipX:s,needClipY:o,needClip:l}=sH(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return t.createElement("clipPath",{id:"clipPath-".concat(i)},t.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}function lH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lH(Object(n),!0).forEach(function(t){uH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dH=FE([zI,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),hH=FE([dH],e=>null===e||void 0===e?void 0:e.maxBarSize),fH=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Jx(r))return Wx(r,t,0)},pH=FE([rN,zI,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),mH=FE([pH,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===rN(e)?oD(e,"xAxis",t):oD(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(_I),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(a).map(e=>{var[r,i]=e,a=i.map(e=>e.dataKey);return{stackId:r,dataKeys:a,barSize:fH(t,n,i[0].barSize)}}),o=i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:fH(t,n,e.barSize)}));return[...s,...o]}),gH=(e,t,n,r)=>{var i,a;return"horizontal"===rN(e)?(i=mD(e,"xAxis",t,r),a=pD(e,"xAxis",t,r)):(i=mD(e,"yAxis",n,r),a=pD(e,"yAxis",n,r)),A_(i,a)};var yH=FE([mH,VO,e=>e.rootProps.barGap,BO,(e,t,n,r,i)=>{var a,s,o=dH(e,t,n,r,i);if(null!=o){var l,c,u=rN(e),d=VO(e),{maxBarSize:h}=o,f=Jx(h)?d:h;return"horizontal"===u?(l=mD(e,"xAxis",t,r),c=pD(e,"xAxis",t,r)):(l=mD(e,"yAxis",n,r),c=pD(e,"yAxis",n,r)),null!==(a=null!==(s=A_(l,c,!0))&&void 0!==s?s:f)&&void 0!==a?a:0}},gH,hH],(e,t,n,r,i,a,s)=>{var o=Jx(s)?t:s,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var s,o=Wx(e,n,0,!0),l=[];if(vO(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*o)>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=Wx(t,n,0,!0);n-2*f-(a-1)*o<=0&&(o=0);var p=(n-2*f-(a-1)*o)/a;p>1&&(p>>=0);var m=vO(i)?Math.min(p,i):p;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*n+(p-m)/2,size:m}}],l)}return s}}(n,r,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>cH(cH({},e),{},{position:cH(cH({},e.position),{},{offset:e.position.offset-i/2})}))),l}),vH=FE([yH,dH],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),bH=FE([(e,t,n,r)=>"horizontal"===rN(e)?iP(e,"yAxis",n,r):iP(e,"xAxis",t,r),dH],(e,t)=>{var n=xI(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),xH=FE([q_,(e,t,n,r)=>mD(e,"xAxis",t,r),(e,t,n,r)=>mD(e,"yAxis",n,r),(e,t,n,r)=>pD(e,"xAxis",t,r),(e,t,n,r)=>pD(e,"yAxis",n,r),vH,rN,yO,gH,bH,dH,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=o;if(null!=u&&null!=a&&("horizontal"===s||"vertical"===s)&&null!=t&&null!=n&&null!=r&&null!=i&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?o:s,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,v,b,x,w;u?p=((e,t)=>{if(!t||2!==t.length||!Bx(t[0])||!Bx(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Bx(e[0])||e[0]<n)&&(i[0]=n),(!Bx(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],m):(p=v_(e,n),Array.isArray(p)||(p=[g,p]));var k=tH(r,RH)(p[1],d);if("horizontal"===t){var S,[E,_]=[o.scale(p[0]),o.scale(p[1])];y=N_({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),v=null!==(S=null!==_&&void 0!==_?_:E)&&void 0!==S?S:void 0,b=i.size;var N=E-_;if(x=$x(N)?0:N,w={x:y,y:h.top,width:b,height:h.height},Math.abs(k)>0&&Math.abs(x)<Math.abs(k)){var j=zx(x||k)*(Math.abs(k)-Math.abs(x));v-=j,x+=j}}else{var[T,C]=[s.scale(p[0]),s.scale(p[1])];if(y=T,v=N_({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),b=C-T,x=i.size,w={x:h.left,y:v,width:h.width,height:x},Math.abs(k)>0&&Math.abs(b)<Math.abs(k))b+=zx(b||k)*(Math.abs(k)-Math.abs(b))}return null==y||null==v||null==b||null==x?null:jH(jH({},e),{},{x:y,y:v,width:b,height:x,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:y+b/2,y:v+x/2}},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:s,barSettings:u,pos:a,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:m,offset:e,cells:d})}}),wH=["onMouseEnter","onMouseLeave","onClick"],kH=["value","background","tooltipPosition"],SH=["id"],EH=["onMouseEnter","onClick","onMouseLeave"];function _H(){return _H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_H.apply(null,arguments)}function NH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NH(Object(n),!0).forEach(function(t){TH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var AH=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:I_(n,t),payload:e}]};function OH(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:I_(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function IH(e){var n=WE(vM),{data:r,dataKey:i,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=CH(s,wH),d=j$(o,i),h=T$(l),f=C$(c,i);if(!a||null==r)return null;var p=SL(a,!1);return t.createElement(t.Fragment,null,r.map((e,r)=>{var{value:s,background:o,tooltipPosition:l}=e,c=CH(e,kH);if(!o)return null;var m=d(e,r),g=h(e,r),y=f(e,r),v=jH(jH(jH(jH(jH({option:a,isActive:String(r)===n},c),{},{fill:"#eee"},o),p),fL(u,e,r)),{},{onMouseEnter:m,onMouseLeave:g,onClick:y,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(eH,_H({key:"background-bar-".concat(r)},v))}))}function PH(e){var{data:n,props:r,showLabels:i}=e,a=gL(r),{id:s}=a,o=CH(a,SH),{shape:l,dataKey:c,activeBar:u}=r,d=WE(vM),h=WE(xM),{onMouseEnter:f,onClick:p,onMouseLeave:m}=r,g=CH(r,EH),y=j$(f,c),v=T$(m),b=C$(p,c);return n?t.createElement(t.Fragment,null,n.map((e,n)=>{var r=u&&String(n)===d&&(null==h||c===h),i=r?u:l,a=jH(jH(jH({},o),e),{},{isActive:r,option:i,index:n,dataKey:c});return t.createElement(OF,_H({className:"recharts-bar-rectangle"},fL(g,e,n),{onMouseEnter:y(e,n),onMouseLeave:v(e,n),onClick:b(e,n),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),t.createElement(eH,a))}),i&&Kq.renderCallByParent(r,n)):null}function DH(e){var{props:n,previousRectanglesRef:r}=e,{data:i,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=M$(n,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(H$,{begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:g,onAnimationStart:y,key:f},e=>{var s=1===e?i:null===i||void 0===i?void 0:i.map((t,n)=>{var r=h&&h[n];if(r)return jH(jH({},t),{},{x:Yx(r.x,t.x,e),y:Yx(r.y,t.y,e),width:Yx(r.width,t.width,e),height:Yx(r.height,t.height,e)});if("horizontal"===a){var i=Yx(0,t.height,e);return jH(jH({},t),{},{y:t.y+t.height-i,height:i})}var s=Yx(0,t.width,e);return jH(jH({},t),{},{width:s})});return e>0&&(r.current=null!==s&&void 0!==s?s:null),null==s?null:t.createElement(OF,null,t.createElement(PH,{props:n,data:s,showLabels:!p}))})}function MH(e){var{data:n,isAnimationActive:r}=e,i=(0,t.useRef)(null);return r&&n&&n.length&&(null==i.current||i.current!==n)?t.createElement(DH,{previousRectanglesRef:i,props:e}):t.createElement(PH,{props:e,data:n,showLabels:!0})}var RH=0,LH=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:v_(e,t)}};class FH extends t.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e)return null;var u=pt("recharts-bar",i),d=c;return t.createElement(OF,{className:u,id:c},o&&t.createElement("defs",null,t.createElement(oH,{clipPathId:d,xAxisId:a,yAxisId:s})),t.createElement(OF,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},t.createElement(IH,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(MH,this.props)),this.props.children)}}var UH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!vU,legendType:"rect",minPointSize:RH,xAxisId:0,yAxisId:0};function zH(e){var n,{xAxisId:r,yAxisId:i,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=sH(r,i),p=iN(),m=G_(),g=wL(e.children,XU),y=WE(t=>xH(t,r,i,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var v=null===y||void 0===y?void 0:y[0];return n=null==v||null==v.height||null==v.width?0:"vertical"===p?v.height/2:v.width/2,t.createElement(aH,{xAxisId:r,yAxisId:i,data:y,dataPointFormatter:LH,errorBarOffset:n},t.createElement(FH,_H({},e,{layout:p,needClip:f,data:y,xAxisId:r,yAxisId:i,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function $H(e){var n=tF(e,UH),r=G_();return t.createElement(F$,{id:n.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(P$,{legendPayload:AH(n)}),t.createElement(A$,{fn:OH,args:n}),t.createElement(U$,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:(i=n.stackId,null==i?void 0:String(i)),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(zH,_H({},n,{id:e})));var i})}$H.displayName="Bar";var VH=["axis"],BH=(0,t.forwardRef)((e,n)=>t.createElement(sB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:VH,tooltipPayloadSearcher:rS,categoricalChartProps:e,ref:n}));function qH(){return qH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qH.apply(null,arguments)}var HH=e=>{var{cx:n,cy:r,r:i,className:a}=e,s=pt("recharts-dot",a);return n===+n&&r===+r&&i===+i?t.createElement("circle",qH({},gL(e),hL(e),{className:s,cx:n,cy:r,r:i})):null};function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KH(Object(n),!0).forEach(function(t){GH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QH(e){var{points:n,mainColor:r,activeDot:i,itemDataKey:a}=e,s=WE(vM),o=WE(NM);if(null==n||null==o)return null;var l=n.find(e=>o.includes(e.payload));return Jx(l)?null:(e=>{var{point:n,childIndex:r,mainColor:i,activeDot:a,dataKey:s}=e;if(!1===a||null==n.x||null==n.y)return null;var o,l=WH(WH({index:r,dataKey:s,cx:n.x,cy:n.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},SL(a,!1)),hL(a));return o=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,l):"function"===typeof a?a(l):t.createElement(HH,l),t.createElement(OF,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:i})}var YH=(e,t,n,r)=>mD(e,"xAxis",t,r),XH=(e,t,n,r)=>pD(e,"xAxis",t,r),JH=(e,t,n,r)=>mD(e,"yAxis",n,r),ZH=(e,t,n,r)=>pD(e,"yAxis",n,r),eK=FE([rN,YH,JH,XH,ZH],(e,t,n,r,i)=>b_(e,"xAxis")?A_(t,r,!1):A_(n,i,!1));function tK(e){return"line"===e.type}var nK=FE([zI,(e,t,n,r,i)=>i],(e,t)=>e.filter(tK).find(e=>e.id===t)),rK=FE([rN,YH,JH,XH,ZH,nK,eK,yO],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=v_(e,s);if("horizontal"===t)return{x:__({axis:n,ticks:i,bandSize:o,entry:e,index:l}),y:Jx(c)?null:r.scale(c),value:c,payload:e};var u=Jx(c)?null:n.scale(c),d=__({axis:r,ticks:a,bandSize:o,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:d})}}),iK=["id"],aK=["type","layout","connectNulls","needClip"],sK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function oK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oK(Object(n),!0).forEach(function(t){cK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dK(){return dK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dK.apply(null,arguments)}var hK=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:I_(n,t),payload:e}]};function fK(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:I_(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var pK=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function mK(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function gK(e){var{clipPathId:n,points:r,props:i}=e,{dot:a,dataKey:s,needClip:o}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,a))return null;var{id:l}=i,c=uK(i,iK),u=kL(a),d=gL(c),h=SL(a,!0),f=r.map((e,n)=>{var i=lK(lK(lK({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var i=pt("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(HH,dK({},n,{className:i}))}return r}(a,i)}),p={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(n,")"):void 0};return t.createElement(OF,dK({className:"recharts-line-dots",key:"dots"},p),f)}function yK(e){var{clipPathId:n,pathRef:r,points:i,strokeDasharray:a,props:s,showLabels:o}=e,{type:l,layout:c,connectNulls:u,needClip:d}=s,h=uK(s,aK),f=lK(lK({},SL(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):void 0,points:i,type:l,layout:c,connectNulls:u,strokeDasharray:null!==a&&void 0!==a?a:s.strokeDasharray});return t.createElement(t.Fragment,null,(null===i||void 0===i?void 0:i.length)>1&&t.createElement(yU,dK({},f,{pathRef:r})),t.createElement(gK,{points:i,clipPathId:n,props:s}),o&&Kq.renderCallByParent(s,i))}function vK(e){var{clipPathId:n,props:r,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=a.current,b=M$(r,"recharts-line-"),[x,w]=(0,t.useState)(!1),k=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),S=(0,t.useCallback)(()=>{"function"===typeof y&&y(),w(!0)},[y]),E=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(i.current),_=s.current;return t.createElement(H$,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:k,onAnimationStart:S,key:b},e=>{var c,u=Yx(_,E+_,e),d=Math.min(u,E);if(l){var h="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return pK(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...mK(n,i),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(d,E,h)}else c=pK(E,d);if(v){var g=v.length/o.length,y=1===e?o:o.map((t,n)=>{var r=Math.floor(n*g);if(v[r]){var i=v[r];return lK(lK({},t),{},{x:Yx(i.x,t.x,e),y:Yx(i.y,t.y,e)})}return lK(lK({},t),{},f?{x:Yx(2*p,t.x,e),y:Yx(m/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=y,t.createElement(yK,{props:r,points:y,clipPathId:n,pathRef:i,showLabels:!x,strokeDasharray:c})}return e>0&&E>0&&(a.current=o,s.current=d),t.createElement(yK,{props:r,points:o,clipPathId:n,pathRef:i,showLabels:!x,strokeDasharray:c})})}function bK(e){var{clipPathId:n,props:r}=e,{points:i,isAnimationActive:a}=r,s=(0,t.useRef)(null),o=(0,t.useRef)(0),l=(0,t.useRef)(null),c=s.current;return a&&i&&i.length&&c!==i?t.createElement(vK,{props:r,clipPathId:n,previousPointsRef:s,longestAnimatedLengthRef:o,pathRef:l}):t.createElement(yK,{props:r,points:i,clipPathId:n,pathRef:l,showLabels:!0})}var xK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:v_(e.payload,t)});class wK extends t.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:h,needClip:f}=this.props;if(n)return null;var p=pt("recharts-line",a),m=h,{r:g=3,strokeWidth:y=2}=null!==(e=SL(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=kL(r),b=2*g+y;return t.createElement(t.Fragment,null,t.createElement(OF,{className:p},f&&t.createElement("defs",null,t.createElement(oH,{clipPathId:m,xAxisId:s,yAxisId:o}),!v&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),t.createElement(bK,{props:this.props,clipPathId:m}),t.createElement(aH,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:xK,errorBarOffset:0},this.props.children)),t.createElement(QH,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var kK={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!vU,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function SK(e){var n=tF(e,kK),{activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=n,y=uK(n,sK),{needClip:v}=sH(p,m),b=GL(),x=iN(),w=G_(),k=WE(e=>rK(e,p,m,w,g));if("horizontal"!==x&&"vertical"!==x||null==k||null==b)return null;var{height:S,width:E,x:_,y:N}=b;return t.createElement(wK,dK({},y,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:i,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:k,layout:x,height:S,width:E,left:_,top:N,needClip:v}))}function EK(e){var n=tF(e,kK),r=G_();return t.createElement(F$,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(P$,{legendPayload:hK(n)}),t.createElement(A$,{fn:fK,args:n}),t.createElement(U$,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(SK,dK({},n,{id:e}))))}EK.displayName="Line";const _K=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=(e=>{try{return pp(Gf(Cx,Yf("status","==","Approved")),async t=>{const n=await Promise.all(t.docs.map(async e=>{const t={id:e.id,...e.data()};if(t.zonalHeadId){const e=await qb(t.zonalHeadId);e&&(t.zonalHeadName=e.name,t.zonalHeadSubrole=e.subrole)}if(t.teamLeadId){const e=await qb(t.teamLeadId);e&&(t.teamLeadSubrole=e.subrole)}return t}));e(n)},e=>{console.error("Error subscribing to approved forecasts:",e)})}catch(t){throw console.error("Error setting up subscription for approved forecasts:",t),t}})(async e=>{i(!0);try{const t=await(async e=>{try{const t=Gf(sf(zb,"profiles"),Yf("role","==",e));return(await dp(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(uQ){throw console.error("Error fetching profiles by role:",uQ),uQ}})("Sales Executive"),r=[...new Set(e.map(e=>e.teamLeadId))];let i={};if(r.length>0){const e=await Hb(r);i=e.reduce((e,t)=>({...e,[t.id]:t}),{}),s(i)}let a=0,o=0;const c={},d={},f=e.map(async e=>{const n=t.filter(t=>t.reportsTo===e.teamLeadId),r=n.map(async e=>{const t=await gx(e.email);return t?await yx(t):null}),s=(await Promise.all(r)).reduce((e,t)=>({...e,...t}),{});for(const t in s){const e=s[t];Array.isArray(e)&&e.forEach(e=>{const n=new Date(t).toLocaleDateString();d[n]||(d[n]=0),d[n]+=e.todayStockSold||0})}return e.items.map(t=>{var n;let r=0;if(s)for(const i in s){const n=new Date(i),[a,o,l]=e.forecastWeek.split("-"),c=new Date(l,o-1,a),u=new Date(c.getFullYear(),c.getMonth(),c.getDate()+6);if(n>=c&&n<=u){const e=s[i];if(Array.isArray(e)){const n=e.find(e=>e.name===t.name);n&&(r+=n.todayStockSold||0)}}}a+=t.quantity,o+=r;const l=t.quantity-r;return c[t.name]||(c[t.name]={name:t.name,variance:0,revenueImpact:0}),c[t.name].variance+=l,c[t.name].revenueImpact+=50*l,{teamLeadId:e.teamLeadId,teamLeadSubrole:null===(n=i[e.teamLeadId])||void 0===n?void 0:n.subrole,forecastWeek:e.forecastWeek,itemName:t.name,forecast:t.quantity,actualSales:r,difference:l}})}),p=await Promise.all(f);n(p.flat()),l(a>0?o/a*100:0),u(Object.values(c).sort((e,t)=>Math.abs(t.variance)-Math.abs(e.variance)));const m=Object.entries(d).map(e=>{let[t,n]=e;return{date:t,sales:n}}).sort((e,t)=>new Date(e.date)-new Date(t.date));h(m)}catch(t){Bt.error("Error fetching forecast vs. sales data."),console.error("Error fetching forecast vs. sales data:",t)}finally{i(!1)}});return()=>e()},[]);const f=e=>{const[t,n,r]=e.split("-"),i=new Date(r,n-1,t),a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return`${Mx(i)} to ${Mx(a)}`},p=[{name:"Accurate",value:o},{name:"Inaccurate",value:100-o}],m=["#00C49F","#FF8042"];return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Forecast vs. Sales Analysis (All Team Leads)"}),r&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!r&&(0,Gb.jsxs)(Gb.Fragment,{children:[(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Overall Forecast Accuracy"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(lF,{children:[(0,Gb.jsx)(hV,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#f56703",dataKey:"value",nameKey:"name",label:e=>`${e.name}: ${e.value.toFixed(2)}%`,children:p.map((e,t)=>(0,Gb.jsx)(XU,{fill:m[t%m.length]},`cell-${t}`))}),(0,Gb.jsx)(nB,{})]})})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Top Variance Items"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(lB,{data:c,children:[(0,Gb.jsx)(nq,{strokeDasharray:"3 3"}),(0,Gb.jsx)(dq,{dataKey:"name"}),(0,Gb.jsx)(bq,{}),(0,Gb.jsx)(nB,{}),(0,Gb.jsx)(Mq,{}),(0,Gb.jsx)($H,{dataKey:"variance",fill:"#f56703"})]})})]})]}),(0,Gb.jsxs)("div",{className:"mb-8",children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Sales Trends"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(BH,{data:d,children:[(0,Gb.jsx)(nq,{strokeDasharray:"3 3"}),(0,Gb.jsx)(dq,{dataKey:"date"}),(0,Gb.jsx)(bq,{}),(0,Gb.jsx)(nB,{}),(0,Gb.jsx)(Mq,{}),(0,Gb.jsx)(EK,{type:"monotone",dataKey:"sales",stroke:"#f56703",strokeWidth:2,activeDot:{r:8}})]})})]}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast Week"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weekly Forecast"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actual Sales"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difference"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e,t)=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.teamLeadSubrole}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f(e.forecastWeek)}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.itemName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.forecast}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.actualSales}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold "+(e.difference>0?"text-red-500":"text-green-500"),children:e.difference})]},t))})]})})]})]})},NK=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)({}),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=(e=>{try{return pp(Gf(Cx,Yf("status","==","Pending Finance Approval")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to pending forecasts:",e)})}catch(d){throw console.error("Error setting up subscription for pending forecasts:",d),d}})(async e=>{n(e);const t=[...new Set(e.map(e=>e.zonalHeadId))];if(t.length>0){const e=(await Hb(t)).reduce((e,t)=>({...e,[t.id]:t}),{});s(e)}const r=[...new Set(e.map(e=>e.teamLeadId))];if(r.length>0){const e=(await Hb(r)).reduce((e,t)=>({...e,[t.id]:t}),{});l(e)}u(!1)}),t=((e,t)=>pp(Gf(sf(zb,"bulkBuyOrders"),Yf("status","==","Pending Finance Approval")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},t))(i,e=>{h("Error subscribing to pending bulk buy orders."),Bt.error("Error loading pending bulk buy orders."),console.error("Error subscribing to pending bulk buy orders:",e),u(!1)});return()=>{e(),t()}},[]);const w=()=>{g(!1),p(null)},k=()=>{x(!1),v(null)},S=async(e,t,n,r)=>{try{await(async(e,t,n,r)=>{const i=of(zb,"bulkBuyOrders",e),a={status:t};"Approved"===t&&(a.approvedAt=new Date),n&&(a.ingredients=n,a.totalOrderCost=r),await hp(i,a)})(e,t,n,r),Bt.success(`Bulk buy order ${t.toLowerCase()} successfully!`),k()}catch(d){console.error("Error updating bulk buy order:",d),Bt.error("Error updating bulk buy order. Please try again.")}},E=e.reduce((e,t)=>{const n=t.forecastWeek||"Uncategorized";return e[n]||(e[n]=[]),e[n].push(t),e},{}),_=e=>{const[t,n,r]=e.split("-"),i=new Date(r,n-1,t),a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return`${Mx(i)} to ${Mx(a)}`};return(0,Gb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:[(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"Finance Dashboard"}),c&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),d&&(0,Gb.jsx)("p",{className:"text-white text-center bg-red-500 p-3 rounded-lg",children:d}),!c&&!d&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Pending Bulk Buy Orders"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"COH ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.cohId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A"}),(0,Gb.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.totalOrderCost.toFixed(2)]}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(e=>{v(e),x(!0)})(e),className:"px-4 py-2 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Review"})})]},e.id))})]})})]}),Object.entries(E).map(e=>{let[t,n]=e;return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsxs)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:["Pending Forecasts for ",_(t)]}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zonal Head"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{var t,n;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(t=a[e.zonalHeadId])||void 0===t?void 0:t.subrole)||e.zonalHeadId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:null===(n=o[e.teamLeadId])||void 0===n?void 0:n.subrole}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A"}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(e=>{p(e),g(!0)})(e),className:"px-4 py-2 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Review"})})]},e.id)})})]})})]},t)}),(0,Gb.jsx)(_K,{})]})]}),m&&(0,Gb.jsx)(Px,{forecast:f,onClose:w,onApprove:async(e,t,n)=>{try{await Ox(e,t,n),Bt.success(`Forecast ${t.toLowerCase()} successfully!`),w()}catch(d){console.error("Error updating forecast:",d),Bt.error("Error updating forecast. Please try again.")}},zonalHeadProfile:a[f.zonalHeadId]}),b&&(0,Gb.jsx)(Dx,{order:y,onClose:k,onApprove:S,onReject:S})]})},jK=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},TK=sf(zb,"profiles"),CK=sf(zb,"dailyTargets"),AK=sf(zb,"cookingAssignments"),OK=sf(zb,"vendors"),IK=(e,t)=>{try{const n=Gf(TK,Yf("role","==","Zonal Head"),Yf("reportsTo","==",e));return pp(n,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to zonal heads:",e)})}catch(n){throw console.error("Error setting up subscription for zonal heads:",n),n}},PK=async e=>{const t=Mx(new Date),n=(await dp(TK)).docs.map(e=>({id:e.id,...e.data()})),r=e=>{const t=n.filter(t=>t.reportsTo===e);let i=[...t];return t.forEach(e=>{i=[...i,...r(e.id)]}),i},i=r(e),a=i.filter(e=>"Team Lead"===e.role),s=i.filter(e=>"Sales Executive"===e.role),o=n.filter(e=>"Kitchen Manager"===e.role),l=Gf(CK,Yf("date","==",t),Yf("teamLeadId","in",a.map(e=>e.id))),c=Gf(AK,Yf("date","==",t)),u=Gf(OK,Yf("email","in",s.map(e=>e.email))),[d,h,f]=await Promise.all([dp(l),dp(c),dp(u)]),p=d.docs.map(e=>({id:e.id,...e.data()})),m=h.docs.map(e=>({id:e.id,...e.data()})),g=f.docs.map(e=>({id:e.id,...e.data()})),y=a.map(e=>{const t=p.filter(t=>t.teamLeadId===e.id),n=i.filter(t=>t.reportsTo===e.id&&"Sales Executive"===t.role),r=n.map(e=>e.email),a=g.filter(e=>r.includes(e.email)),s=a.reduce((e,t)=>(t.menu.forEach(t=>{e.stockSold+=t.todayStockSold||0,e.stockBacked+=t.stockBacked||0,e.stockShifted+=t.stockShiftedToday||0,e.stockRemaining+=t.stock||0}),e),{stockSold:0,stockBacked:0,stockShifted:0,stockRemaining:0});return{teamLead:e,dailyTargets:t,salesData:s}});return{insights:y,kitchenInsights:o.map(e=>{const t=m.filter(t=>t.kitchenManagerId===e.id);return{kitchenManager:e,assignments:t}})}},DK=sf(zb,"profiles"),MK=e=>{let{insights:t,kitchenInsights:n}=e;return t&&n?(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Total Daily Insights"}),(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Team Lead Insights"}),(0,Gb.jsx)("div",{className:"space-y-4",children:t.map(e=>{let{teamLead:t,dailyTargets:n,salesData:r}=e;return(0,Gb.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200",children:[(0,Gb.jsxs)("h5",{className:"font-bold text-base sm:text-lg text-gray-800 mb-2",children:[t.name," (",t.subrole,")"]}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h6",{className:"font-semibold text-gray-700",children:"Daily Targets"}),(0,Gb.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:n.flatMap(e=>e.items).map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name]},t))})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h6",{className:"font-semibold text-gray-700",children:"Sales Data"}),(0,Gb.jsxs)("ul",{className:"list-disc list-inside text-gray-600",children:[(0,Gb.jsxs)("li",{children:["Stock Sold: ",r.stockSold]}),(0,Gb.jsxs)("li",{children:["Stock Backed: ",r.stockBacked]}),(0,Gb.jsxs)("li",{children:["Stock Shifted: ",r.stockShifted]}),(0,Gb.jsxs)("li",{children:["Stock Remaining: ",r.stockRemaining]})]})]})]})]},t.id)})})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Kitchen Insights"}),(0,Gb.jsx)("div",{className:"space-y-4",children:n.map(e=>{let{kitchenManager:t,assignments:n}=e;return(0,Gb.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200",children:[(0,Gb.jsx)("h5",{className:"font-bold text-base sm:text-lg text-gray-800 mb-2",children:t.name}),(0,Gb.jsx)("h6",{className:"font-semibold text-gray-700",children:"Assignments"}),(0,Gb.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:n.map(e=>(0,Gb.jsxs)("li",{children:[(0,Gb.jsxs)("p",{children:["Status: ",e.status]}),(0,Gb.jsxs)("ul",{className:"list-disc list-inside ml-4",children:[e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name," (to cook) - Cooked: ",e.cookedQuantity||0]},t)),e.fromPreparedStock&&e.fromPreparedStock.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name," (from prepared stock)"]},t))]})]},e.id))})]},t.id)})})]})]})]}):(0,Gb.jsx)("p",{children:"Loading insights..."})},RK=e=>{let{zonalHead:n,timePeriod:r}=e;const[i,a]=(0,t.useState)(!1),s=((e,t)=>{const n={};return e.forEach(e=>{e.salesData.forEach(e=>{if(e.salesData)for(const r in e.salesData){const i=new Date(r);if(isNaN(i))continue;const a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=new Date(s.setDate(s.getDate()-s.getDay())),l=new Date((new Date).setDate(o.getDate()-7)),c=new Date((new Date).setDate(o.getDate()-1)),u=new Date(a.getFullYear(),a.getMonth(),1),d=new Date(a.getFullYear(),a.getMonth()-1,1),h=new Date(a.getFullYear(),a.getMonth(),0);let f=!1;switch(t){case"Today":f=i.toDateString()===a.toDateString();break;case"This Week":f=i>=o;break;case"Last Week":f=i>=l&&i<=c;break;case"This Month":f=i>=u;break;case"Last Month":f=i>=d&&i<=h;break;case"Till Now":f=!0}if(f){const t=e.salesData[r];Array.isArray(t)&&t.forEach(e=>{n[e.name]||(n[e.name]={sold:0,remaining:0,shifted:0}),n[e.name].sold+=e.todayStockSold||0,n[e.name].remaining+=e.stock||0,n[e.name].shifted+=e.stockShiftedToday||0})}}})}),Object.entries(n).map(e=>{let[t,n]=e;return{name:t,...n}})})(n.teamLeadData,r),o=s.reduce((e,t)=>({sold:e.sold+t.sold,remaining:e.remaining+t.remaining,shifted:e.shifted+t.shifted}),{sold:0,remaining:0,shifted:0});return(0,Gb.jsxs)("div",{className:"bg-gray-50 rounded-lg shadow-inner p-4",children:[(0,Gb.jsxs)("button",{onClick:()=>a(!i),className:"w-full px-4 py-3 text-left font-semibold text-base sm:text-lg text-[#f56703] hover:text-[#d95702] focus:outline-none transition-colors duration-300",children:[n.name," - ",n.subrole,(0,Gb.jsx)("span",{className:"float-right transform transition-transform duration-300 "+(i?"-rotate-180":""),children:"\u25bc"})]}),i&&(0,Gb.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shifted"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sold}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.remaining}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shifted})]},e.name))}),(0,Gb.jsx)("tfoot",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Total"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.sold}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.remaining}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.shifted})]})})]})})]})},LK=e=>{let{cityOperationsHeadId:n}=e;const[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{if(!n)return;let e;const t=[],r=[];return(()=>{s(!0);try{e=IK(n,e=>{const n=[];if(t.forEach(e=>e()),t.length=0,r.forEach(e=>e()),r.length=0,0===e.length)return i([]),void s(!1);e.forEach(e=>{const a=hx(e.id,t=>{const a=[];if(r.forEach(e=>e()),r.length=0,0===t.length)return n.push({...e,teamLeadData:[]}),i([...n]),void s(!1);t.forEach(t=>{const o=mx(t.id,async r=>{const o=r.map(async e=>{const t=await gx(e.email);if(t){const n=await yx(t);return{...e,salesData:n}}return{...e,salesData:null}}),l=await Promise.all(o);a.push({...t,salesData:l}),n.push({...e,teamLeadData:[...a]}),i([...n]),s(!1)});r.push(o)})});t.push(a)})})}catch(a){Bt.error("Error setting up subscriptions."),console.error("Error setting up subscriptions:",a),s(!1)}})(),()=>{e&&e(),t.forEach(e=>e()),r.forEach(e=>e())}},[n]);const c=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>l(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(o===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Zonal Head Sales Data"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(c,{period:"Today"}),(0,Gb.jsx)(c,{period:"This Week"}),(0,Gb.jsx)(c,{period:"Last Week"}),(0,Gb.jsx)(c,{period:"This Month"}),(0,Gb.jsx)(c,{period:"Last Month"}),(0,Gb.jsx)(c,{period:"Till Now"})]}),a&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!a&&(0,Gb.jsx)("div",{className:"space-y-6",children:r.map(e=>(0,Gb.jsx)(RK,{zonalHead:e,timePeriod:o},e.id))})]})},FK=e=>{let{title:n,children:r}=e;const[i,a]=(0,t.useState)(!1);return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8",children:[(0,Gb.jsxs)("button",{onClick:()=>a(!i),className:"w-full text-left text-xl font-bold text-gray-800 flex justify-between items-center",children:[(0,Gb.jsx)("span",{children:n}),(0,Gb.jsx)("svg",{className:"w-6 h-6 transform transition-transform "+(i?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Gb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),i&&(0,Gb.jsx)("div",{className:"mt-6",children:r})]})},UK=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,o]=(0,t.useState)(null);return(0,t.useEffect)(()=>{if(!e)return;(async()=>{a(!0);try{console.log("Fetching data for Business Head:",e.id);const t=await(async e=>{try{const t=Gf(DK,Yf("role","==","City operations Head"),Yf("reportsTo","==",e)),n=(await dp(t)).docs.map(e=>({id:e.id,...e.data()}));return await Promise.all(n.map(async e=>{const{insights:t,kitchenInsights:n}=await PK(e.id);return{cityOperationsHead:e,insights:t,kitchenInsights:n}}))}catch(s){throw console.error("Error fetching business head dashboard data:",s),s}})(e.id);console.log("Dashboard data:",t),r(t)}catch(t){o("Failed to fetch dashboard data."),Bt.error("Failed to fetch dashboard data."),console.error(t)}finally{a(!1)}})()},[e]),(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-8 text-center",children:"Business Head Dashboard"}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),s&&(0,Gb.jsx)("p",{className:"text-white text-center bg-red-500 p-3 rounded-lg",children:s}),!i&&!s&&(0,Gb.jsx)("div",{children:n.map(e=>(0,Gb.jsxs)(FK,{title:`City Operations Head: ${e.cityOperationsHead.name}`,children:[(0,Gb.jsx)(MK,{insights:e.insights,kitchenInsights:e.kitchenInsights}),(0,Gb.jsx)(LK,{cityOperationsHeadId:e.cityOperationsHead.id})]},e.cityOperationsHead.id))})]})})},zK=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},$K=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,o]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{if(!e)return void a(!1);let t;const n=[],i=[];return(()=>{a(!0);try{t=IK(e.id,e=>{const t=[];if(n.forEach(e=>e()),n.length=0,i.forEach(e=>e()),i.length=0,0===e.length)return r([]),void a(!1);e.forEach(e=>{const s=hx(e.id,n=>{const s=[];if(i.forEach(e=>e()),i.length=0,0===n.length)return t.push({...e,teamLeadData:[]}),r([...t]),void a(!1);n.forEach(n=>{const o=mx(n.id,async i=>{const o=i.map(async e=>{const t=await gx(e.email);if(t){const n=await yx(t);return{...e,salesData:n}}return{...e,salesData:null}}),l=await Promise.all(o);s.push({...n,salesData:l}),t.push({...e,teamLeadData:[...s]}),r([...t]),a(!1)});i.push(o)})});n.push(s)})})}catch(s){Bt.error("Error setting up subscriptions."),console.error("Error setting up subscriptions:",s),a(!1)}})(),()=>{t&&t(),n.forEach(e=>e()),i.forEach(e=>e())}},[e]);const l=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>o(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(s===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Zonal Head Sales Data"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(l,{period:"Today"}),(0,Gb.jsx)(l,{period:"This Week"}),(0,Gb.jsx)(l,{period:"Last Week"}),(0,Gb.jsx)(l,{period:"This Month"}),(0,Gb.jsx)(l,{period:"Last Month"}),(0,Gb.jsx)(l,{period:"Till Now"})]}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!i&&(0,Gb.jsx)("div",{className:"space-y-6",children:n.map(e=>(0,Gb.jsx)(RK,{zonalHead:e,timePeriod:s},e.id))})]})},VK=sf(zb,"cookingAssignments"),BK=sf(zb,"kitchenStock"),qK=async e=>{try{return(await fp(VK,{...e,status:"Pending Dispersal",createdAt:new Date})).id}catch(t){throw console.error("Error creating cooking assignment:",t),t}},HK=(e,t)=>{try{const n=Gf(VK,Yf("kitchenManagerId","==",e));return pp(n,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to assignments by kitchen:",e)})}catch(n){throw console.error("Error setting up subscription for assignments by kitchen:",n),n}},KK=e=>{try{const t=Gf(VK,Yf("status","==","Completed"));return pp(t,t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to completed assignments:",e)})}catch(t){throw console.error("Error setting up subscription for completed assignments:",t),t}},WK=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{let e,t;return(async()=>{l(!0);try{e=KK(n),t=Kb("Kitchen Manager",e=>{const t=e.reduce((e,t)=>({...e,[t.id]:t}),{});s(t),l(!1)})}catch(r){Bt.error("Error setting up subscriptions."),console.error("Error setting up subscriptions:",r),l(!1)}})(),()=>{e&&e(),t&&t()}},[]),(0,t.useEffect)(()=>{(()=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date((new Date).setDate(n.getDate()-1)),a=new Date(n.setDate(n.getDate()-n.getDay())),s=new Date((new Date).setDate(a.getDate()-7)),o=new Date((new Date).setDate(a.getDate()-1)),l=new Date(t.getFullYear(),t.getMonth(),1),u=new Date(t.getFullYear(),t.getMonth()-1,1),d=new Date(t.getFullYear(),t.getMonth(),0);let h=[];switch(c){case"Today":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds).toDateString()===t.toDateString());break;case"Yesterday":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds).toDateString()===r.toDateString());break;case"This Week":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds)>=a);break;case"Last Week":h=e.filter(e=>{const t=e.completedAt&&new Date(1e3*e.completedAt.seconds);return t&&t>=s&&t<=o});break;case"This Month":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds)>=l);break;case"Last Month":h=e.filter(e=>{const t=e.completedAt&&new Date(1e3*e.completedAt.seconds);return t&&t>=u&&t<=d});break;case"Till Now":h=e}i(h)})()},[c,e]);const d=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>u(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(c===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Kitchen Manager Metrics"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(d,{period:"Today"}),(0,Gb.jsx)(d,{period:"Yesterday"}),(0,Gb.jsx)(d,{period:"This Week"}),(0,Gb.jsx)(d,{period:"Last Week"}),(0,Gb.jsx)(d,{period:"This Month"}),(0,Gb.jsx)(d,{period:"Last Month"}),(0,Gb.jsx)(d,{period:"Till Now"})]}),o&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!o&&(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kitchen Manager"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cooked Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed On"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>{var t;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(t=a[e.kitchenManagerId])||void 0===t?void 0:t.name)||e.kitchenManagerId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.cookedQuantity||e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.completedAt?new Date(1e3*e.completedAt.seconds).toLocaleDateString():"N/A"})]},e.id)})})]})})]})},GK=e=>{let{insights:t,kitchenInsights:n}=e;const r=null===t||void 0===t?void 0:t.map(e=>({name:e.teamLead.name,forecast:e.dailyTargets.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0),sales:e.salesData.stockSold})),i=null===t||void 0===t?void 0:t.reduce((e,t)=>(t.dailyTargets.forEach(t=>{t.items.forEach(t=>{e[t.name]||(e[t.name]=0),e[t.name]+=t.todayStockSold||0})}),e),{}),a=i?Object.entries(i).sort((e,t)=>{let[,n]=e,[,r]=t;return r-n}).slice(0,5).map(e=>{let[t,n]=e;return{name:t,sales:n}}):[],s=null===t||void 0===t?void 0:t.reduce((e,t)=>{const n=(new Date).toLocaleDateString();return e[n]||(e[n]={date:n,sales:0}),e[n].sales+=t.salesData.stockSold,e},{}),o=s?Object.values(s):[],l=null===t||void 0===t?void 0:t.map(e=>({name:e.teamLead.name,sold:e.salesData.stockSold,backed:e.salesData.stockBacked})),c=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF"];return(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Business Insights"}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Sales vs. Forecast"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(lB,{data:r,children:[(0,Gb.jsx)(nq,{strokeDasharray:"3 3"}),(0,Gb.jsx)(dq,{dataKey:"name"}),(0,Gb.jsx)(bq,{}),(0,Gb.jsx)(nB,{}),(0,Gb.jsx)(Mq,{}),(0,Gb.jsx)($H,{dataKey:"forecast",fill:"#8884d8"}),(0,Gb.jsx)($H,{dataKey:"sales",fill:"#82ca9d"})]})})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Top 5 Selling Items"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(lF,{children:[(0,Gb.jsx)(hV,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"sales",nameKey:"name",label:e=>e.name,children:a.map((e,t)=>(0,Gb.jsx)(XU,{fill:c[t%c.length]},`cell-${t}`))}),(0,Gb.jsx)(nB,{})]})})]}),(0,Gb.jsxs)("div",{className:"md:col-span-2",children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Sales Trends (Today)"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(BH,{data:o,children:[(0,Gb.jsx)(nq,{strokeDasharray:"3 3"}),(0,Gb.jsx)(dq,{dataKey:"date"}),(0,Gb.jsx)(bq,{}),(0,Gb.jsx)(nB,{}),(0,Gb.jsx)(Mq,{}),(0,Gb.jsx)(EK,{type:"monotone",dataKey:"sales",stroke:"#8884d8",activeDot:{r:8}})]})})]}),(0,Gb.jsxs)("div",{className:"md:col-span-2",children:[(0,Gb.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Stock Flow Analysis"}),(0,Gb.jsx)(iw,{width:"100%",height:300,children:(0,Gb.jsxs)(lB,{data:l,children:[(0,Gb.jsx)(nq,{strokeDasharray:"3 3"}),(0,Gb.jsx)(dq,{dataKey:"name"}),(0,Gb.jsx)(bq,{}),(0,Gb.jsx)(nB,{}),(0,Gb.jsx)(Mq,{}),(0,Gb.jsx)($H,{dataKey:"sold",fill:"#82ca9d",name:"Stock Sold"}),(0,Gb.jsx)($H,{dataKey:"backed",fill:"#ffc658",name:"Stock Backed"})]})})]})]})]})},QK=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null);(0,t.useEffect)(()=>{let t,n,i;return(async()=>{f(!0);try{if(t=sx(r),n=ox(a),i=lx(e=>{o(e)}),e){const{insights:t,kitchenInsights:n}=await PK(e.id);c(t),d(n)}}catch(p){console.error("Error setting up subscriptions:",p),m("Error setting up subscriptions."),Bt.error("Error setting up subscriptions.")}finally{f(!1)}})(),()=>{t&&t(),n&&n(),i&&i()}},[e]);const g=e=>{let{title:t,items:n,renderItem:r}=e;return(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:t}),n.length>0?(0,Gb.jsx)("ul",{className:"space-y-3",children:n.map(e=>r(e))}):(0,Gb.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No items to display."})]})};return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"City Operations Head Dashboard"}),h&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),p&&(0,Gb.jsx)("p",{className:"text-white text-center bg-red-500 p-3 rounded-lg",children:p}),!h&&!p&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Gb.jsx)(g,{title:"Pending Forecasts",items:n,renderItem:e=>(0,Gb.jsxs)("li",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 flex justify-between items-center",children:[(0,Gb.jsx)("span",{className:"font-semibold text-gray-800",children:e.zonalHeadName||"N/A"}),(0,Gb.jsx)("span",{className:"text-sm text-gray-600",children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()})]},e.id)}),(0,Gb.jsx)(g,{title:"Active Procurements",items:i,renderItem:e=>(0,Gb.jsxs)("li",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 flex justify-between items-center",children:[(0,Gb.jsxs)("span",{className:"font-semibold text-gray-800",children:["Forecast ID: ",e.forecastId]}),(0,Gb.jsx)("span",{className:"text-sm text-gray-600",children:e.status})]},e.id)}),(0,Gb.jsx)(g,{title:"Ongoing Kitchen Assignments",items:s,renderItem:e=>(0,Gb.jsxs)("li",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 flex justify-between items-center",children:[(0,Gb.jsx)("span",{className:"font-semibold text-gray-800",children:e.kitchenName||"N/A"}),(0,Gb.jsx)("span",{className:"text-sm text-gray-600",children:e.status})]},e.id)})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Actions"}),(0,Gb.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,Gb.jsx)(at,{to:"/city-operations-head/bulk-buy-order",className:"px-6 py-3 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Create Bulk Buy Order"})})]}),(0,Gb.jsx)(MK,{insights:l,kitchenInsights:u}),(0,Gb.jsx)($K,{}),(0,Gb.jsx)(WK,{}),(0,Gb.jsx)(GK,{})]})]})})},YK=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},XK=e=>{let{teamLead:n,timePeriod:r}=e;const[i,a]=(0,t.useState)(!1),s=((e,t)=>{const n={};return e.forEach(e=>{if(e.salesData)for(const r in e.salesData){const i=new Date(r);if(isNaN(i))continue;const a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=new Date(s.setDate(s.getDate()-s.getDay())),l=new Date((new Date).setDate(o.getDate()-7)),c=new Date((new Date).setDate(o.getDate()-1)),u=new Date(a.getFullYear(),a.getMonth(),1),d=new Date(a.getFullYear(),a.getMonth()-1,1),h=new Date(a.getFullYear(),a.getMonth(),0);let f=!1;switch(t){case"Today":f=i.toDateString()===a.toDateString();break;case"This Week":f=i>=o;break;case"Last Week":f=i>=l&&i<=c;break;case"This Month":f=i>=u;break;case"Last Month":f=i>=d&&i<=h;break;case"Till Now":f=!0}if(f){const t=e.salesData[r];Array.isArray(t)&&t.forEach(e=>{n[e.name]||(n[e.name]={sold:0,remaining:0,shifted:0}),n[e.name].sold+=e.todayStockSold||0,n[e.name].remaining+=e.stock||0,n[e.name].shifted+=e.stockShiftedToday||0})}}}),Object.entries(n).map(e=>{let[t,n]=e;return{name:t,...n}})})(n.salesData,r),o=s.reduce((e,t)=>({sold:e.sold+t.sold,remaining:e.remaining+t.remaining,shifted:e.shifted+t.shifted}),{sold:0,remaining:0,shifted:0});return(0,Gb.jsxs)("div",{className:"bg-gray-50 rounded-lg shadow-inner p-4",children:[(0,Gb.jsxs)("button",{onClick:()=>a(!i),className:"w-full px-4 py-3 text-left font-semibold text-lg text-[#f56703] hover:text-[#d95702] focus:outline-none transition-colors duration-300",children:[n.name," - ",n.subrole,(0,Gb.jsx)("span",{className:"float-right transform transition-transform duration-300 ${isExpanded ? '-rotate-180' : ''}",children:"\u25bc"})]}),i&&(0,Gb.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shifted"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sold}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.remaining}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shifted})]},e.name))}),(0,Gb.jsx)("tfoot",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Total"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.sold}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.remaining}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.shifted})]})})]})})]})},JK=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,o]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{if(!e)return void a(!1);const t=hx(e.id,async e=>{try{const t=e.map(async e=>{const t=await new Promise(t=>{const n=mx(e.id,async e=>{const r=e.map(async e=>{const t=await gx(e.email);if(t){const n=await yx(t);return{...e,salesData:n}}return{...e,salesData:null}}),i=await Promise.all(r);t(i),n()})});return{...e,salesData:t}}),n=await Promise.all(t);r(n)}catch(t){Bt.error("Error fetching team lead data."),console.error("Error fetching team lead data:",t)}finally{a(!1)}});return()=>t()},[e]);const l=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>o(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(s===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Team Lead Sales Data"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(l,{period:"Today"}),(0,Gb.jsx)(l,{period:"This Week"}),(0,Gb.jsx)(l,{period:"Last Week"}),(0,Gb.jsx)(l,{period:"This Month"}),(0,Gb.jsx)(l,{period:"Last Month"}),(0,Gb.jsx)(l,{period:"Till Now"})]}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!i&&(0,Gb.jsx)("div",{className:"space-y-6",children:n.map(e=>(0,Gb.jsx)(XK,{teamLead:e,timePeriod:s},e.id))})]})},ZK=sf(zb,"dailyTargets"),eW=(e,t)=>{try{const n=Gf(ZK,Yf("date","==",e));return pp(n,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to daily targets by date:",e)})}catch(n){throw console.error("Error setting up subscription for daily targets by date:",n),n}},tW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)({}),[s,o]=(0,t.useState)({}),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!e)return void c(!1);let t,n;return(async()=>{c(!0);try{t=((e,t)=>pp(Gf(Cx,Yf("zonalHeadId","==",e)),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)}))(e.id,async e=>{r(e);const t=[...new Set(e.map(e=>e.teamLeadId))];if(t.length>0){const e=(await Hb(t)).reduce((e,t)=>({...e,[t.id]:t}),{});a(e)}const n=[...new Set(e.map(e=>e.salesExecutiveId))];if(n.length>0){const e=(await Hb(n)).reduce((e,t)=>({...e,[t.id]:t}),{});o(e)}c(!1)}),n=jx(f)}catch(i){d("Error setting up subscriptions."),Bt.error("Failed to set up data subscriptions."),console.error("Error setting up subscriptions:",i),c(!1)}})(),()=>{t&&t(),n&&n()}},[e]);const g=n.reduce((e,t)=>{const n=t.teamLeadId||"Unassigned";var r;e[n]||(e[n]={teamLeadId:n,teamLeadName:(null===(r=i[n])||void 0===r?void 0:r.name)||"Unassigned",forecasts:[],aggregatedItems:{}});return e[n].forecasts.push(t),t.items.forEach(t=>{e[n].aggregatedItems[t.name]||(e[n].aggregatedItems[t.name]=0),e[n].aggregatedItems[t.name]+=t.quantity}),e},{});return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"Zonal Head Dashboard"}),l&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),u&&(0,Gb.jsx)("p",{className:"text-white text-center bg-red-500 p-3 rounded-lg",children:u}),!l&&!u&&(0,Gb.jsxs)(Gb.Fragment,{children:[(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Team Forecasts"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aggregated Forecast"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(g).map(e=>{var n;return(0,Gb.jsxs)(t.Fragment,{children:[(0,Gb.jsxs)("tr",{onClick:()=>{return t=e.teamLeadId,void m(p===t?null:t);var t},className:"cursor-pointer hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.teamLeadName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(e.aggregatedItems).map(e=>{let[t,n]=e;return(0,Gb.jsxs)("li",{children:[n," x ",t]},t)})})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:null===(n=e.forecasts[0])||void 0===n?void 0:n.status})]}),p===e.teamLeadId&&(0,Gb.jsx)("tr",{children:(0,Gb.jsxs)("td",{colSpan:"3",className:"p-4 bg-gray-100",children:[(0,Gb.jsx)("h4",{className:"text-lg font-bold mb-2",children:"Sales Executive Breakup"}),(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-200",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase",children:"Sales Executive"}),(0,Gb.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase",children:"Item"}),(0,Gb.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase",children:"Quantity"})]})}),(0,Gb.jsx)("tbody",{children:e.forecasts.map(e=>(0,Gb.jsx)(t.Fragment,{children:e.items.map((t,n)=>{var r;return(0,Gb.jsxs)("tr",{children:[0===n&&(0,Gb.jsx)("td",{rowSpan:e.items.length,className:"px-4 py-2 whitespace-nowrap",children:null===(r=s[e.salesExecutiveId])||void 0===r?void 0:r.name}),(0,Gb.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:t.name}),(0,Gb.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:t.quantity})]},`${e.id}-${t.recipeId}`)})},e.id))})]})]})})]},e.teamLeadId)})})]})})]}),(0,Gb.jsx)(JK,{})]})]})})},nW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)({}),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)([]),{start:p,end:m}=(()=>{const e=new Date,t=e.getDay(),n=new Date(e.getFullYear(),e.getMonth(),e.getDate()-t+(0===t?-6:1)),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+6);return{start:n,end:r}})(),g=Mx(p);(0,t.useEffect)(()=>{if(!e)return void c(!1);let t,n,i;return(async()=>{c(!0);try{t=Bb(t=>{const n=t.filter(t=>t.reportsTo===e.id);r(n)}),n=jx(e=>{a(e)}),i=((e,t)=>{try{return pp(Gf(Cx,Yf("zonalHeadId","==",e)),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to forecasts by zonal head:",e)})}catch(u){throw console.error("Error setting up subscription for forecasts by zonal head:",u),u}})(e.id,e=>{f(e),c(!1)})}catch(s){d("Error setting up subscriptions."),console.error("Error setting up subscriptions:",s),c(!1)}})(),()=>{t&&t(),n&&n(),i&&i()}},[e]);const y=h.some(e=>e.forecastWeek===g);return(0,Gb.jsx)("div",{className:"flex flex-col items-center min-h-screen bg-gray-100 p-2 md:p-4",children:(0,Gb.jsxs)("div",{className:"w-full max-w-4xl p-4 md:p-8 space-y-6 bg-white rounded-lg shadow-md",children:[(0,Gb.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Create Sales Forecast"}),(0,Gb.jsxs)("p",{className:"text-center text-gray-500",children:["This forecast is for the week starting on ",g,"."]}),(0,Gb.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(!0),d(null);try{const t=[];for(const r in s){const a=[];for(const e in s[r]){var n;a.push({recipeId:e,quantity:s[r][e],name:(null===(n=i.find(t=>t.id===e))||void 0===n?void 0:n.name)||""})}t.push({zonalHeadId:e.id,teamLeadId:r,items:a,forecastWeek:g})}await(async e=>{const t=Sp(zb);for(const n of e){const{zonalHeadId:e,forecastWeek:r}=n,i=Gf(Cx,Yf("zonalHeadId","==",e),Yf("forecastWeek","==",r));if(!(await dp(i)).empty)throw new Error("A forecast for this week has already been submitted for one or more team leads.");const a=of(sf(zb,"forecasts"));t.set(a,{...n,status:"Pending",createdAt:new Date})}await t.commit()})(t),o({}),Bt.success("Forecasts submitted successfully!")}catch(u){d(u.message||"Error submitting forecasts. Please try again."),Bt.error(u.message||"Error submitting forecasts. Please try again.")}finally{c(!1)}},className:"space-y-6",children:[u&&(0,Gb.jsx)("p",{className:"text-red-500",children:u}),n.map(e=>(0,Gb.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,Gb.jsxs)("h3",{className:"text-lg font-semibold",children:[e.name," (",e.subrole,")"]}),i.map(t=>{var n;return(0,Gb.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Gb.jsx)("span",{children:t.name}),(0,Gb.jsx)("input",{type:"number",placeholder:"Quantity",value:(null===(n=s[e.id])||void 0===n?void 0:n[t.id])||"",onChange:n=>{return r=e.id,i=t.id,a=n.target.value,void o(e=>({...e,[r]:{...e[r],[i]:a}}));var r,i,a},className:"w-24 p-1 border rounded"})]},t.id)})]},e.id)),(0,Gb.jsx)("div",{children:(0,Gb.jsx)("button",{type:"submit",disabled:l||y,className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex justify-center",children:l?(0,Gb.jsx)(bx,{}):y?"Forecast Submitted":"Submit Forecasts"})})]})]})})},rW=sf(zb,"distributions"),iW=sf(zb,"logisticsInventory"),aW=e=>{let{executive:n,timePeriod:r}=e;const[i,a]=(0,t.useState)(!1),s=((e,t)=>{const n={};if(e)for(const r in e){const i=new Date(r);if(isNaN(i))continue;const a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=new Date(s.setDate(s.getDate()-s.getDay())),l=new Date((new Date).setDate(o.getDate()-7)),c=new Date((new Date).setDate(o.getDate()-1)),u=new Date(a.getFullYear(),a.getMonth(),1),d=new Date(a.getFullYear(),a.getMonth()-1,1),h=new Date(a.getFullYear(),a.getMonth(),0);let f=!1;switch(t){case"Today":f=i.toDateString()===a.toDateString();break;case"This Week":f=i>=o;break;case"Last Week":f=i>=l&&i<=c;break;case"This Month":f=i>=u;break;case"Last Month":f=i>=d&&i<=h;break;case"Till Now":f=!0}if(f){const t=e[r];Array.isArray(t)&&t.forEach(e=>{n[e.name]||(n[e.name]={sold:0,remaining:0,shifted:0}),n[e.name].sold+=e.todayStockSold||0,n[e.name].remaining+=e.stock||0,n[e.name].shifted+=e.stockShiftedToday||0})}}return Object.entries(n).map(e=>{let[t,n]=e;return{name:t,...n}})})(n.salesData,r),o=s.reduce((e,t)=>({sold:e.sold+t.sold,remaining:e.remaining+t.remaining,shifted:e.shifted+t.shifted}),{sold:0,remaining:0,shifted:0});return(0,Gb.jsxs)("div",{className:"bg-gray-50 rounded-lg shadow-inner p-4",children:[(0,Gb.jsxs)("button",{onClick:()=>a(!i),className:"w-full px-4 py-3 text-left font-semibold text-lg text-[#f56703] hover:text-[#d95702] focus:outline-none transition-colors duration-300",children:[n.name,(0,Gb.jsx)("span",{className:"float-right transform transition-transform duration-300 "+(i?"-rotate-180":""),children:"\u25bc"})]}),i&&(0,Gb.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shifted"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sold}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.remaining}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shifted})]},e.name))}),(0,Gb.jsx)("tfoot",{className:"bg-gray-100",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Total"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.sold}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.remaining}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:o.shifted})]})})]})})]})},sW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,o]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{if(!e)return void a(!1);const t=mx(e.id,async e=>{try{const t=e.map(async e=>{const t=await gx(e.email);if(t){const n=await yx(t);return{...e,salesData:n}}return{...e,salesData:null}}),n=await Promise.all(t);r(n)}catch(t){Bt.error("Error fetching sales data."),console.error("Error fetching sales data:",t)}finally{a(!1)}});return()=>t()},[e]);const l=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>o(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(s===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Sales Executive Data"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(l,{period:"Today"}),(0,Gb.jsx)(l,{period:"This Week"}),(0,Gb.jsx)(l,{period:"Last Week"}),(0,Gb.jsx)(l,{period:"This Month"}),(0,Gb.jsx)(l,{period:"Last Month"}),(0,Gb.jsx)(l,{period:"Till Now"})]}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!i&&(0,Gb.jsx)("div",{className:"space-y-6",children:n.map(e=>(0,Gb.jsx)(aW,{executive:e,timePeriod:s},e.id))})]})},oW=e=>{let{stockBackData:t,teamLeadId:n,onProcess:r,processed:i}=e;return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Stock Back Requests"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Executive"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length>0?t.map(e=>e.menu.filter(e=>e.stockBacked>0).map((t,n)=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.stockBacked})]},`${e.id}-${n}`))):(0,Gb.jsx)("tr",{children:(0,Gb.jsx)("td",{colSpan:"3",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No stock back requests for today."})})})]})}),(0,Gb.jsx)("div",{className:"mt-6 text-right",children:(0,Gb.jsx)("button",{onClick:async()=>{if(0!==t.length)try{const e=t.map(e=>e.email),i=Gf(sf(zb,"profiles"),Yf("email","in",e)),a=(await dp(i)).docs.reduce((e,t)=>(e[t.data().email]=t.id,e),{}),s=t.flatMap(e=>e.menu.filter(e=>e.stockBacked>0).map(t=>({name:t.name,quantity:t.stockBacked,salesExecutiveId:a[e.email]})));await fp(sf(zb,"stockBackRequests"),{teamLeadId:n,items:s,status:"Pending Logistics Pickup",createdAt:wa.now()}),Bt.success("Stock back requests processed to logistics."),r()}catch(e){Bt.error("Error processing stock back requests."),console.error("Error processing stock back requests:",e)}else Bt.error("No stock back requests to process.")},className:"px-6 py-3 font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-400 transform hover:-translate-y-0.5 transition-all duration-300",disabled:0===t.length||i,children:"Process to Logistics"})})]})},lW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)({}),[p,m]=(0,t.useState)(!0),g=async()=>{try{const t=new Date;t.setHours(0,0,0,0);const n=wa.fromDate(t),r=Gf(sf(zb,"stockBackRequests"),Yf("teamLeadId","==",e.id),Yf("createdAt",">=",n));(await dp(r)).empty||o(!0);const i=await(async e=>new Promise((t,n)=>{const r=Bb(async i=>{const a=Wb(e,i).filter(e=>"Sales Executive"===e.role).map(e=>e.email);if(0!==a.length)try{const e=new Date;e.setHours(0,0,0,0),wa.fromDate(e);const n=Gf(sf(zb,"vendors"),Yf("email","in",a)),r=(await dp(n)).docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.menu.some(e=>e.stockBacked>0));t(r)}catch(s){console.error("Error fetching stock back data:",s),n(s)}finally{r()}else t([])})}))(e.id);a(i)}catch(t){Bt.error("Error fetching stock back data."),console.error("Error fetching stock back data:",t)}};(0,t.useEffect)(()=>{if(!e)return void m(!1);const t=((e,t)=>{try{return pp(Gf(rW,Yf("teamLeadId","==",e)),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to distributions:",e)})}catch(n){throw console.error("Error setting up subscription for distributions:",n),n}})(e.id,async e=>{r(e);const t=[...new Set(e.map(e=>e.logisticsManagerId))];if(t.length>0){const e=(await Hb(t)).reduce((e,t)=>({...e,[t.id]:t}),{});c(e)}m(!1)}),n=((e,t)=>pp(Gf(Cx,Yf("teamLeadId","==",e)),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)}))(e.id,async e=>{d(e);const t=[...new Set(e.map(e=>e.salesExecutiveId))];if(t.length>0){const e=(await Hb(t)).reduce((e,t)=>({...e,[t.id]:t}),{});f(e)}});return g(),()=>{t(),n()}},[e]);const y=async e=>{try{await(async(e,t)=>{try{const n=of(zb,"distributions",e);await hp(n,{status:t,receivedAt:new Date})}catch(n){throw console.error("Error updating distribution status:",n),n}})(e,"Received"),Bt.success("Receipt confirmed!")}catch(t){Bt.error("Error confirming receipt. Please try again."),console.error("Error confirming receipt:",t)}},v=n.filter(e=>"In Transit"===e.status);return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-8 text-center",children:"Team Lead Dashboard"}),p&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!p&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Team Forecasts"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Executive"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weekly Forecast"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>(0,Gb.jsx)(t.Fragment,{children:e.items.map((t,n)=>{var r;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[0===n&&(0,Gb.jsx)("td",{rowSpan:e.items.length,className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(r=h[e.salesExecutiveId])||void 0===r?void 0:r.name)||e.salesExecutiveId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.quantity}),0===n&&(0,Gb.jsx)("td",{rowSpan:e.items.length,className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.status})]},`${e.id}-${t.recipeId}`)})},e.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Incoming Deliveries"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(e=>{var t;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(t=l[e.logisticsManagerId])||void 0===t?void 0:t.subrole)||e.logisticsManagerId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>y(e.id),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Receipt"})})]},e.id)})})]})})]}),(0,Gb.jsx)(oW,{stockBackData:i,teamLeadId:e.id,onProcess:()=>{o(!0),g()},processed:s}),(0,Gb.jsx)(sW,{})]})]})})},cW=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},uW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const t=(()=>{const e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))})().toISOString().split("T")[0],[n,i]=await Promise.all([Nx(),Ax(e.uid,t)]);if(r(n),i)a(i);else{let r=null;if(e.reportsTo){const t=await qb(e.reportsTo);t&&(r=t.reportsTo)}const i={salesExecutiveId:e.uid,teamLeadId:e.reportsTo,zonalHeadId:r,forecastWeek:t,status:"Draft",items:n.map(e=>({recipeId:e.id,name:e.name,dailyQuantities:{Monday:0,Tuesday:0,Wednesday:0,Thursday:0,Friday:0,Saturday:0,Sunday:0},quantity:0}))};a(i)}}catch(t){Bt.error("Failed to fetch data.")}finally{o(!1)}})()},[e]);if(s)return(0,Gb.jsx)("div",{children:"Loading..."});const u="Draft"===i.status||"Rejected by Stock Manager"===i.status||"Pending Stock Manager Approval"===i.status;return(0,Gb.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Gb.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"My Weekly Forecast"}),i&&(0,Gb.jsxs)("div",{children:[(0,Gb.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("strong",{children:"Week:"})," ",Mx(new Date(i.forecastWeek))]}),(0,Gb.jsxs)("p",{children:[(0,Gb.jsx)("strong",{children:"Status:"})," ",i.status]})]}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full bg-white",children:[(0,Gb.jsx)("thead",{children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Item"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Mon"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Tue"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Wed"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Thu"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Fri"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Sat"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Sun"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Total"})]})}),(0,Gb.jsx)("tbody",{children:i.items.map(e=>(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:e.name}),Object.keys(e.dailyQuantities).map(t=>(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:l?(0,Gb.jsx)("input",{type:"number",value:e.dailyQuantities[t],onChange:n=>((e,t,n)=>{const r=i.items.map(r=>{if(r.recipeId===e){const e={...r.dailyQuantities,[t]:n},i=Object.values(e).reduce((e,t)=>e+t,0);return{...r,dailyQuantities:e,quantity:i}}return r});a({...i,items:r})})(e.recipeId,t,parseInt(n.target.value,10)||0),className:"w-20 px-2 py-1 border rounded-md"}):e.dailyQuantities[t]},t)),(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:e.quantity})]},e.recipeId))})]})}),(0,Gb.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[u&&!l&&(0,Gb.jsx)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Edit"}),l&&(0,Gb.jsxs)(Gb.Fragment,{children:[(0,Gb.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md",children:"Cancel"}),(0,Gb.jsx)("button",{onClick:async()=>{try{let e={...i};"Draft"!==i.status&&"Rejected by Stock Manager"!==i.status||(e.status="Pending Stock Manager Approval"),await(async e=>{if(e.id){const t=of(zb,"forecasts",e.id);return await hp(t,e),e.id}return(await fp(Cx,e)).id})(e),a(e),Bt.success("Forecast updated successfully!"),c(!1)}catch(e){Bt.error("Failed to update forecast.")}},className:"px-4 py-2 bg-green-600 text-white rounded-md",children:"Update"})]})]})]})]})},dW=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},hW=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)("Till Now");(0,t.useEffect)(()=>{const e=(e=>{try{return pp(Gf(kx,Yf("status","in",["Purchased","Received by Stock"])),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to successful procurements:",e)})}catch(t){throw console.error("Error setting up subscription for successful procurements:",t),t}})(e=>{n(e),i(e),s(!1)});return()=>e()},[]),(0,t.useEffect)(()=>{(()=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(n.setDate(n.getDate()-n.getDay())),a=new Date((new Date).setDate(r.getDate()-7)),s=new Date((new Date).setDate(r.getDate()-1)),l=new Date(t.getFullYear(),t.getMonth(),1),c=new Date(t.getFullYear(),t.getMonth()-1,1),u=new Date(t.getFullYear(),t.getMonth(),0);let d=[];switch(o){case"Today":d=e.filter(e=>new Date(1e3*e.purchasedAt.seconds).toDateString()===t.toDateString());break;case"This Week":d=e.filter(e=>new Date(1e3*e.purchasedAt.seconds)>=r);break;case"Last Week":d=e.filter(e=>{const t=new Date(1e3*e.purchasedAt.seconds);return t>=a&&t<=s});break;case"This Month":d=e.filter(e=>new Date(1e3*e.purchasedAt.seconds)>=l);break;case"Last Month":d=e.filter(e=>{const t=new Date(1e3*e.purchasedAt.seconds);return t>=c&&t<=u});break;case"Till Now":d=e}i(d)})()},[o,e]);const c=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>l(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(o===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Past Successful Procurements"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(c,{period:"Today"}),(0,Gb.jsx)(c,{period:"This Week"}),(0,Gb.jsx)(c,{period:"Last Week"}),(0,Gb.jsx)(c,{period:"This Month"}),(0,Gb.jsx)(c,{period:"Last Month"}),(0,Gb.jsx)(c,{period:"Till Now"})]}),a&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!a&&(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchased On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredients"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.forecastId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(1e3*e.purchasedAt.seconds).toLocaleDateString()}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.status})]},e.id))})]})})]})},fW=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=(e=>{try{return pp(Gf(kx,Yf("status","==","Pending Purchase")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to pending purchase requests:",e)})}catch(t){throw console.error("Error setting up subscription for pending purchase requests:",t),t}})(async e=>{n(e);const t=[...new Set(e.map(e=>e.teamLeadId).filter(e=>e))];if(t.length>0){const e=(await Hb(t)).reduce((e,t)=>({...e,[t.id]:t}),{});s(e)}l(!1)}),t=((e,t)=>pp(Gf(sf(zb,"bulkBuyOrders"),Yf("status","==","Approved")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},t))(i,e=>{Bt.error("Error subscribing to bulk buy orders."),console.error("Error subscribing to bulk buy orders:",e),l(!1)});return()=>{e(),t()}},[]);const f=e.reduce((e,t)=>(t.ingredients.forEach(t=>{e[t.name]?e[t.name].quantity+=t.quantity:e[t.name]={...t}}),e),{}),p=()=>{h(!1),u(null)},m=e=>{const[t,n,r]=e.split("-"),i=new Date(r,n-1,t),a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return`${Mx(i)} to ${Mx(a)}`};return(0,Gb.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:[(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"Procurement Manager Dashboard"}),o&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!o&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Approved Bulk Buy Orders"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(1e3*e.approvedAt.seconds).toLocaleDateString()}),(0,Gb.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.totalOrderCost.toFixed(2)]}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(e=>{u(e),h(!0)})(e),className:"px-4 py-2 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"View Details"})})]},e.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Cumulative Ingredient List to Buy"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(f).map((e,t)=>{var n;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.forecastId&&e.forecastWeek?`${null===(n=a[e.teamLeadId])||void 0===n?void 0:n.subrole} (${m(e.forecastWeek)})`:"N/A"}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.unit})]},t)})})]})}),(0,Gb.jsx)("div",{className:"mt-6 text-right",children:(0,Gb.jsx)("button",{onClick:async()=>{try{for(const t of e)await Ex(t.id,"Purchased");Bt.success("All requests marked as purchased!")}catch(t){Bt.error("Error marking as purchased. Please try again."),console.error("Error marking as purchased:",t)}},className:"px-6 py-3 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Mark All as Purchased"})})]}),(0,Gb.jsx)(hW,{})]})]}),d&&(0,Gb.jsx)(Dx,{order:c,onClose:p,onApprove:async e=>{try{await(async e=>{const t=of(zb,"bulkBuyOrders",e);await hp(t,{status:"Purchased",purchasedAt:new Date})})(e),Bt.success("Order marked as purchased!"),p()}catch(t){Bt.error("Failed to mark order as purchased.")}},isProcurement:!0})]})},pW=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},mW=async e=>{const{itemType:t,itemId:n,quantity:r,stockManagerId:i}=e,a=of(zb,"ingredient"===t?"stock":"preparedStock",n),s=of(sf(zb,"spoilageLog"));await kp(zb,async e=>{const o=await e.get(a);if(!o.exists())throw new Error("Item not found!");const l=o.data().quantity;if(l<r)throw new Error("Spoiled quantity cannot be greater than current stock.");const c=l-r;e.update(a,{quantity:c});const u="ingredient"===t?n:o.data().name;e.set(s,{itemId:n,itemName:u,itemType:t,quantity:r,stockManagerId:i,reportedAt:wa.now()})})},gW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,o]=(0,t.useState)({});(0,t.useEffect)(()=>{const e=(e=>{try{return pp(Sx,t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to stock:",e)})}catch(t){throw console.error("Error setting up subscription for stock:",t),t}})(e=>{r(e),a(!1)});return()=>e()},[]);return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Current Stock"}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!i&&(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Spoilage"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(t=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.quantity}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.unit}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gb.jsx)("input",{type:"number",value:s[t.id]||"",onChange:e=>((e,t)=>{o(n=>({...n,[e]:t}))})(t.id,e.target.value),className:"w-24 pl-3 pr-1 py-1 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",placeholder:"Qty"}),(0,Gb.jsx)("button",{onClick:()=>(async(t,n)=>{if(!n||n<=0)Bt.error("Please enter a valid spoilage quantity.");else try{await mW({itemType:"ingredient",itemId:t,quantity:Number(n),stockManagerId:e.uid}),Bt.success("Spoilage reported successfully!"),o(e=>({...e,[t]:""}))}catch(r){Bt.error(`Error reporting spoilage: ${r.message}`),console.error("Error reporting spoilage:",r)}})(t.id,s[t.id]),className:"px-3 py-1 font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Report"})]})})]},t.id))})]})})]})},yW=e=>{let{dailyTargets:n,kitchenManagers:r,preparedStock:i}=e;const[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)({}),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),y=Mx(new Date);(0,t.useEffect)(()=>{const e=n.reduce((e,t)=>(t.items.forEach(n=>{const r=e.find(e=>e.recipeId===n.recipeId);r?r.quantity+=n.quantity:e.push({...n,forecastId:t.forecastId,forecastWeek:t.forecastWeek})}),e),[]);s(e)},[n]);const v=e=>{let t=0;return Object.values(o).forEach(n=>{t+=n[e]||0}),t},b=e=>{let t=0;return Object.values(c).forEach(n=>{t+=n[e]||0}),t};return(0,Gb.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Gb.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Kitchen Assignment for ",y]}),f&&(0,Gb.jsx)("p",{className:"text-red-500 mb-4",children:f}),m&&(0,Gb.jsx)("p",{className:"text-green-500 mb-4",children:m}),d&&(0,Gb.jsx)("p",{className:"text-blue-500 mb-4",children:"Loading..."}),(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,Gb.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Assign Daily Targets to Kitchens"}),(0,Gb.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0),p(null),g(null);let t=!0;const n=[];for(const r of a){const e=v(r.name)+b(r.name);if(e!==parseFloat(r.quantity)){p(`Total assigned quantity for ${r.name} (${e}) does not match aggregated quantity (${r.quantity}).`),t=!1;break}}if(!t)return void h(!1);const i=a.find(e=>e.forecastId),s=i?i.forecastId:null,d=i?i.forecastWeek:null;console.log("forecastId:",s),console.log("forecastWeek:",d),r.forEach(e=>{const t=[],r=[];a.forEach(n=>{var i,a;const s=(null===(i=o[e.id])||void 0===i?void 0:i[n.name])||0;s>0&&t.push({...n,quantity:s});const l=(null===(a=c[e.id])||void 0===a?void 0:a[n.name])||0;l>0&&r.push({name:n.name,quantity:l})}),(t.length>0||r.length>0)&&(console.log("itemsForThisKitchenManager:",t),console.log("fromPreparedStockForThisManager:",r),n.push({date:y,kitchenId:e.id,kitchenName:e.name,kitchenManagerId:e.id,items:t,fromPreparedStock:r,status:"Pending Dispersal",forecastId:s,forecastWeek:d}))});try{for(const e of n)await qK(e);g("Kitchen assignments created successfully!"),l({}),u({})}catch(f){p(`Failed to create assignments: ${f.message}`),console.error("Error creating assignments:",f)}finally{h(!1)}},className:"space-y-4",children:[a.length>0?(0,Gb.jsxs)("div",{className:"mt-6",children:[(0,Gb.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Aggregated Items:"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,Gb.jsx)("thead",{children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Item (Prepared Stock)"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Total Qty"}),r.map(e=>(0,Gb.jsxs)("th",{className:"py-2 px-4 border-b",children:[e.name," (Cook)"]},e.id)),r.map(e=>(0,Gb.jsxs)("th",{className:"py-2 px-4 border-b",children:[e.name," (Prepared)"]},e.id)),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Total Assigned"})]})}),(0,Gb.jsx)("tbody",{children:a.map(e=>{var t;const n=(null===(t=i.find(t=>t.name===e.name))||void 0===t?void 0:t.quantity)||0;return(0,Gb.jsxs)("tr",{children:[(0,Gb.jsxs)("td",{className:"py-2 px-4 border-b",children:[e.name," (",n,")"]}),(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:e.quantity}),r.map(t=>{var n;return(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:(0,Gb.jsx)("input",{type:"number",min:"0",value:(null===(n=o[t.id])||void 0===n?void 0:n[e.name])||0,onChange:n=>((e,t,n)=>{l(r=>({...r,[e]:{...r[e],[t]:parseFloat(n)||0}}))})(t.id,e.name,n.target.value),className:"w-20 border border-gray-300 rounded-md p-1 text-center"})},t.id)}),r.map(t=>{var r;return(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:(0,Gb.jsx)("input",{type:"number",min:"0",max:n,value:(null===(r=c[t.id])||void 0===r?void 0:r[e.name])||0,onChange:n=>((e,t,n)=>{u(r=>({...r,[e]:{...r[e],[t]:parseFloat(n)||0}}))})(t.id,e.name,n.target.value),className:"w-20 border border-gray-300 rounded-md p-1 text-center"})},t.id)}),(0,Gb.jsxs)("td",{className:"py-2 px-4 border-b font-semibold",children:[v(e.name)+b(e.name),v(e.name)+b(e.name)!==parseFloat(e.quantity)&&(0,Gb.jsx)("span",{className:"text-red-500 ml-2",children:"!"})]})]},e.name)})})]})})]}):(0,Gb.jsx)("p",{children:"No daily targets set for today."}),(0,Gb.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",disabled:d||0===a.length,children:d?"Assigning...":"Assign to Kitchens"})]})]})]})},vW=e=>{const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${t.getFullYear()}`},bW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)({}),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[x,w]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[E,_]=(0,t.useState)([]),[N,j]=(0,t.useState)([]),[T,C]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(!e)return void c(!1);const t=pp(Gf(sf(zb,"cookingAssignments"),Yf("status","==","Pending Dispersal")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));r(t),c(!1)},e=>{Bt.error("Error subscribing to cooking assignments."),console.error("Error subscribing to cooking assignments:",e),c(!1)}),n=pp(Gf(sf(zb,"stockBackRequests"),Yf("status","==","Ready for Restock")),async e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));a(t);const n=[...new Set(t.map(e=>e.teamLeadId))];if(n.length>0){const e=(await Hb(n)).reduce((e,t)=>({...e,[t.id]:t}),{});o(e)}},e=>{Bt.error("Error subscribing to stock back requests."),console.error("Error subscribing to stock back requests:",e)}),i=pp(Gf(sf(zb,"spoilageLog"),Yf("stockManagerId","==",e.uid)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));f(t)}),s=pp(Gf(sf(zb,"procurementRequests"),Yf("status","==","Purchased")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));y(t)}),l=((e,t)=>pp(Gf(sf(zb,"bulkBuyOrders"),Yf("status","==","Purchased")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},t))(b,e=>{Bt.error("Error subscribing to bulk buy orders."),console.error("Error subscribing to bulk buy orders:",e)}),u=vW(new Date),d=(e=>{const t=pp(Gf(Cx,Yf("status","==","Pending Stock Manager Approval")),async t=>{const n=t.docs.map(e=>({id:e.id,...e.data()})),r=[...new Set(n.map(e=>e.zonalHeadId))],i=[...new Set(n.map(e=>e.teamLeadId))],a=[...new Set([...r,...i])],s={};a.length>0&&(await Hb(a)).forEach(e=>{s[e.id]=e}),console.log("Profiles Map:",s);const o=n.reduce((e,t)=>{const n=s[t.zonalHeadId];console.log("Forecast Zonal Head ID:",t.zonalHeadId),console.log("Zonal Head Profile:",n);const r=(null===n||void 0===n?void 0:n.empCode)||t.zonalHeadId,i=(null===n||void 0===n?void 0:n.name)||"Unknown Zonal Head";return e[r]||(e[r]={zonalHeadId:t.zonalHeadId,zonalHeadEmpCode:r,zonalHeadName:i,forecastWeek:t.forecastWeek,items:{},individualForecasts:[]}),t.items.forEach(t=>{e[r].items[t.recipeId]||(e[r].items[t.recipeId]={name:t.name,quantity:0}),e[r].items[t.recipeId].quantity+=t.quantity}),e[r].individualForecasts.push(t.id),e},{});e(Object.values(o))},e=>{console.error("Error subscribing to Stock Manager forecasts:",e)});return t})(async e=>{w(e)}),h=eW(u,S),p=Kb("Kitchen Manager",j),m=pp(Gf(sf(zb,"preparedStock")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));C(t)},e=>{Bt.error("Error subscribing to prepared stock."),console.error("Error subscribing to prepared stock:",e)}),g=pp(Gf(sf(zb,"cookingAssignments"),Yf("status","==","Pending Stock Manager Collection")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));_(t)},e=>{Bt.error("Error subscribing to pending cooked food collection."),console.error("Error subscribing to pending cooked food collection:",e)});return()=>{t(),n(),i(),s(),l(),d(),h(),p(),m(),g()}},[e]);const A=async e=>{try{await(async e=>{const t=e.ingredients.reduce((e,t)=>(e[t.name]?e[t.name].quantity+=t.quantity:e[t.name]={...t},e),{});await kp(zb,async n=>{const r=of(zb,"bulkBuyOrders",e.id),i=Object.keys(t),a=await Promise.all(i.map(e=>{const t=of(zb,"stock",e);return n.get(t)}));i.forEach((e,r)=>{const i=a[r],s=of(zb,"stock",e),o=t[e];if(i.exists()){const e=(i.data().quantity||0)+o.quantity;n.update(s,{quantity:e})}else n.set(s,{quantity:o.quantity,unit:o.unit})}),n.update(r,{status:"Completed",completedAt:new Date})})})(e),Bt.success("Bulk buy order received and stock updated!")}catch(t){Bt.error(`Error confirming bulk buy receipt: ${t.message}`),console.error("Error confirming bulk buy receipt:",t)}};return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-8 text-center",children:"Stock Manager Dashboard"}),l&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!l&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Purchased Bulk Buy Orders"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchased On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredients"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(1e3*e.purchasedAt.seconds).toLocaleDateString()}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>A(e),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Receipt"})})]},e.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Pending Forecasts for Approval"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zonal Head EmpCode"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zonal Head Name"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast Week"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aggregated Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.zonalHeadEmpCode}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.zonalHeadName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.forecastWeek}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:Object.values(e.items).map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name]},t))})}),(0,Gb.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{await Ix(e,"Pending Finance Approval"),Bt.success("Forecasts approved and sent to Finance!")}catch(t){Bt.error(`Error approving forecasts: ${t.message}`),console.error("Error approving forecasts:",t)}})(e.individualForecasts),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300 mr-2",children:"Approve"}),(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{await Ix(e,"Rejected by Stock Manager"),Bt.info("Forecasts rejected.")}catch(t){Bt.error(`Error rejecting forecasts: ${t.message}`),console.error("Error rejecting forecasts:",t)}})(e.individualForecasts),className:"px-4 py-2 font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Reject"})]})]},e.zonalHeadEmpCode))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Ingredient Dispersal Tasks"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kitchen"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.kitchenName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.forecastId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{const t=e.items.map(e=>dp(Gf(sf(zb,"recipes"),Yf("name","==",e.name)))),n=(await Promise.all(t)).map((t,n)=>{if(t.empty)throw new Error(`Recipe for ${e.items[n].name} not found.`);return t.docs[0].data()});await kp(zb,async t=>{const r=of(zb,"cookingAssignments",e.id),i=(e.fromPreparedStock||[]).map(e=>of(zb,"preparedStock",e.name)),a=await Promise.all(i.map(e=>t.get(e))),s=[];n.forEach((t,n)=>{t.ingredients.forEach(t=>{s.push({name:t.name,quantity:t.quantity*e.items[n].quantity})})});const o=s.map(e=>of(zb,"stock",e.name)),l=await Promise.all(o.map(e=>t.get(e)));(e.fromPreparedStock||[]).forEach((e,n)=>{const r=a[n];if(!r.exists())throw new Error(`Prepared stock for ${e.name} not found`);const s=r.data().quantity-e.quantity;if(s<0)throw new Error(`Not enough prepared stock for ${e.name}`);t.update(i[n],{quantity:s})}),s.forEach((e,n)=>{const r=l[n];if(!r.exists())throw new Error(`Raw stock for ${e.name} not found`);const i=r.data().quantity-e.quantity;if(i<0)throw new Error(`Not enough raw stock for ${e.name}`);t.update(o[n],{quantity:i})}),t.update(r,{status:"Dispersed"})}),Bt.success("Items dispersed successfully!")}catch(t){Bt.error(`Error dispersing items: ${t.message}`),console.error("Error dispersing items:",t)}})(e),className:"px-4 py-2 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Disperse"})})]},e.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Purchased Ingredients Ready for Stocking"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Procurement ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredients"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{await kp(zb,async t=>{const n=of(zb,"procurementRequests",e.id),r=await Promise.all(e.ingredients.map(e=>{const n=of(zb,"stock",e.name);return t.get(n)}));e.ingredients.forEach((e,n)=>{const i=r[n],a=of(zb,"stock",e.name);if(i.exists()){const n=(i.data().quantity||0)+e.quantity;t.update(a,{quantity:n})}else t.set(a,{quantity:e.quantity,unit:e.unit})}),t.update(n,{status:"Received"})}),Bt.success("Stock updated successfully!")}catch(t){Bt.error(`Error confirming receipt: ${t.message}`),console.error("Error confirming receipt:",t)}})(e),className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Receipt"})})]},e.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Ready for Restock"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>{var t;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(t=s[e.teamLeadId])||void 0===t?void 0:t.name)||e.teamLeadId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{const t=i.find(t=>t.id===e);if(!t)return void Bt.error("Request not found.");await kp(zb,async t=>{const n=of(zb,"stockBackRequests",e),r=await t.get(n);if(!r.exists())throw new Error("Request document not found in transaction.");const i=r.data().items,a={},s={};for(const e of i)a[e.name]=of(zb,"preparedStock",e.name),s[e.name]=await t.get(a[e.name]);t.update(n,{status:"Restocked"});for(const e of i){const n=s[e.name];if(n.exists()){const r=(n.data().quantity||0)+e.quantity;t.update(a[e.name],{quantity:r})}else t.set(a[e.name],{quantity:e.quantity,name:e.name,returnedAt:wa.now()})}}),Bt.success("Restock confirmed!")}catch(t){Bt.error(`Error confirming restock: ${t.message}`),console.error("Error confirming restock:",t)}})(e.id),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Restock"})})]},e.id)})})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Prepared Stock"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Returned On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Spoilage"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(t=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.quantity}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.returnedAt?vW(1e3*t.returnedAt.seconds):"N/A"}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gb.jsx)("input",{type:"number",value:u[t.id]||"",onChange:e=>((e,t)=>{d(n=>({...n,[e]:t}))})(t.id,e.target.value),className:"w-24 pl-3 pr-1 py-1 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",placeholder:"Qty"}),(0,Gb.jsx)("button",{onClick:()=>(async(t,n)=>{if(!n||n<=0)Bt.error("Please enter a valid spoilage quantity.");else try{await mW({itemType:"preparedStock",itemId:t,quantity:Number(n),stockManagerId:e.uid}),Bt.success("Spoilage reported successfully!"),d(e=>({...e,[t]:""}))}catch(r){Bt.error(`Error reporting spoilage: ${r.message}`),console.error("Error reporting spoilage:",r)}})(t.id,u[t.id]),className:"px-3 py-1 font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Report"})]})})]},t.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Cooked Food Ready for Collection"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kitchen"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.kitchenName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{await hp(of(zb,"cookingAssignments",e),{status:"Ready for Logistics Collection"}),Bt.success("Cooked food marked as ready for logistics collection!")}catch(t){Bt.error(`Error confirming cooked food collection: ${t.message}`),console.error("Error confirming cooked food collection:",t)}})(e.id),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Collection"})})]},e.id))})]})})]}),(0,Gb.jsx)(yW,{dailyTargets:k,kitchenManagers:N,preparedStock:T}),(0,Gb.jsx)(gW,{}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsxs)("button",{onClick:()=>m(!p),className:"w-full text-left px-4 py-2 font-semibold text-gray-800 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300 flex justify-between items-center",children:[(0,Gb.jsx)("span",{children:"Spoilage History"}),(0,Gb.jsx)("svg",{className:"w-5 h-5 transform transition-transform "+(p?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Gb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),p&&(0,Gb.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reported At"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.itemName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.itemType}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reportedAt?vW(1e3*e.reportedAt.seconds):"N/A"})]},e.id))})]})})]})]})]})})},xW=()=>{const{user:e}=Xb(),t=(null===e||void 0===e?void 0:e.subrole)||"User";return(0,Gb.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Gb.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Denied"}),(0,Gb.jsxs)("p",{className:"text-lg text-gray-600",children:["Dear ",t,","]}),(0,Gb.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"This input page is not available for your role at this time."}),(0,Gb.jsx)("p",{className:"text-md text-gray-500 mt-4",children:"Please navigate back to your dashboard or contact support if you believe this is an error."})]})})},wW=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)("Till Now"),[c,u]=(0,t.useState)({});(0,t.useEffect)(()=>{s(!0);const e=KK(async e=>{try{const t=await Promise.all(e.map(async e=>{var t,n;let r=null;return e.forecastId&&(r=await(async e=>{try{const t=of(zb,"forecasts",e),n=await cp(t);return n.exists()?{id:n.id,...n.data()}:null}catch(uQ){throw console.error("Error getting forecast: ",uQ),uQ}})(e.forecastId)),{...e,forecastWeek:null===(t=r)||void 0===t?void 0:t.forecastWeek,teamLeadId:null===(n=r)||void 0===n?void 0:n.teamLeadId}}));n(t),i(t);const r=[...new Set(t.map(e=>e.teamLeadId).filter(e=>e))];if(r.length>0){const e=(await Hb(r)).reduce((e,t)=>({...e,[t.id]:t}),{});u(e)}}catch(t){Bt.error("Error loading cooked food history."),console.error("Error fetching cooked food data:",t)}finally{s(!1)}});return()=>e()},[]),(0,t.useEffect)(()=>{(()=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date((new Date).setDate(n.getDate()-1)),a=new Date(n.setDate(n.getDate()-n.getDay())),s=new Date((new Date).setDate(a.getDate()-7)),l=new Date((new Date).setDate(a.getDate()-1)),c=new Date(t.getFullYear(),t.getMonth(),1),u=new Date(t.getFullYear(),t.getMonth()-1,1),d=new Date(t.getFullYear(),t.getMonth(),0);let h=[];switch(o){case"Today":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds).toDateString()===t.toDateString());break;case"Yesterday":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds).toDateString()===r.toDateString());break;case"This Week":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds)>=a);break;case"Last Week":h=e.filter(e=>{const t=e.completedAt&&new Date(1e3*e.completedAt.seconds);return t&&t>=s&&t<=l});break;case"This Month":h=e.filter(e=>e.completedAt&&new Date(1e3*e.completedAt.seconds)>=c);break;case"Last Month":h=e.filter(e=>{const t=e.completedAt&&new Date(1e3*e.completedAt.seconds);return t&&t>=u&&t<=d});break;case"Till Now":h=e}i(h)})()},[o,e]);const d=e=>{const[t,n,r]=e.split("-"),i=new Date(r,n-1,t),a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return`${Mx(i)} to ${Mx(a)}`},h=e=>{let{period:t}=e;return(0,Gb.jsx)("button",{onClick:()=>l(t),className:"px-4 py-2 text-sm font-medium rounded-lg shadow-sm transition-all duration-300 "+(o===t?"bg-[#f56703] text-white transform -translate-y-0.5":"bg-white text-gray-700 hover:bg-gray-50"),children:t})};return(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg mt-8",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Cooked Food History"}),(0,Gb.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[(0,Gb.jsx)(h,{period:"Today"}),(0,Gb.jsx)(h,{period:"Yesterday"}),(0,Gb.jsx)(h,{period:"This Week"}),(0,Gb.jsx)(h,{period:"Last Week"}),(0,Gb.jsx)(h,{period:"This Month"}),(0,Gb.jsx)(h,{period:"Last Month"}),(0,Gb.jsx)(h,{period:"Till Now"})]}),a&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!a&&(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed On"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>{var t;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.forecastId&&e.forecastWeek?`${null===(t=c[e.teamLeadId])||void 0===t?void 0:t.subrole} (${d(e.forecastWeek)})`:"N/A"}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.completedAt?new Date(1e3*e.completedAt.seconds).toLocaleDateString():"N/A"}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.cookedQuantity||e.quantity," ",e.unit," of ",e.name]},t))})})]},e.id)})})]})})]})},kW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{if(!e)return;const t=((e,t)=>{try{return pp(Gf(BK,Yf("kitchenId","==",e)),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},e=>{console.error("Error subscribing to kitchen stock:",e)})}catch(n){throw console.error("Error setting up subscription for kitchen stock:",n),n}})(e.id,e=>{r(e),a(!1)});return()=>t()},[e]),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Kitchen Inventory"}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),!i&&(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.ingredientName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.unit})]},e.id))})]})})]})},SW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!e)return;const t=HK(e.id,e=>{r(e),a(!1)});return()=>t()},[e]);const s=async t=>{try{await(async(e,t)=>{const n=of(zb,"cookingAssignments",e),r=await cp(n);if(!r.exists())throw new Error("Assignment not found!");const i=r.data(),a=i.items.map(e=>dp(Gf(sf(zb,"recipes"),Yf("name","==",e.name)))),s=await Promise.all(a),o=[];s.forEach((e,t)=>{if(e.empty)throw new Error(`Recipe for ${i.items[t].name} not found.`);e.docs[0].data().ingredients.forEach(e=>{o.push({name:e.name,quantity:e.quantity*i.items[t].quantity,unit:e.unit})})}),i.fromPreparedStock&&i.fromPreparedStock.forEach(e=>{o.push(e)}),await kp(zb,async e=>{const r=o.map(e=>of(zb,"kitchenStock",`${t}_${e.name}`)),i=await Promise.all(r.map(t=>e.get(t)));o.forEach((n,a)=>{const s=i[a],o=r[a];if(s.exists()){const t=s.data().quantity+n.quantity;e.update(o,{quantity:t})}else e.set(o,{kitchenId:t,ingredientName:n.name,quantity:n.quantity,unit:n.unit})}),e.update(n,{status:"Ingredients Received"})})})(t,e.id),Bt.success("Ingredient receipt confirmed and stock updated!")}catch(n){Bt.error("Error confirming receipt. Please try again."),console.error("Error confirming receipt:",n)}},o=n.filter(e=>"Dispersed"===e.status),l=n.filter(e=>"Ingredients Received"===e.status);return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 text-center",children:"Kitchen Manager Dashboard"}),i&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!i&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsx)(kW,{}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Incoming Items"}),(0,Gb.jsx)("div",{className:"space-y-4",children:o.length>0?o.map(e=>(0,Gb.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-lg shadow-sm border border-yellow-200",children:[(0,Gb.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,Gb.jsxs)("p",{className:"font-bold text-base sm:text-lg text-yellow-800 mb-2 sm:mb-0",children:["Assignment for Forecast ID: ",e.forecastId]}),(0,Gb.jsx)("button",{onClick:()=>s(e.id),className:"w-full sm:w-auto px-4 py-2 font-semibold text-white bg-[#f56703] rounded-lg shadow-md hover:bg-[#d95702] transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Receipt"})]}),(0,Gb.jsxs)("ul",{className:"pl-5 mt-2 list-disc list-inside text-yellow-700",children:[e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," ",e.unit," of ",e.name," (to cook)"]},t)),e.fromPreparedStock&&e.fromPreparedStock.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name," (from prepared stock)"]},t))]})]},e.id)):(0,Gb.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No incoming items."})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6",children:"Cooking Tasks"}),(0,Gb.jsx)("div",{className:"space-y-4",children:l.length>0?l.map(e=>(0,Gb.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg shadow-sm border border-green-200",children:[(0,Gb.jsxs)("p",{className:"font-bold text-base sm:text-lg text-green-800",children:["Assignment for Forecast ID: ",e.forecastId]}),(0,Gb.jsx)("ul",{className:"pl-5 mt-2 list-disc list-inside text-green-700",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:["Cook ",e.quantity," ",e.unit," of ",e.name]},t))})]},e.id)):(0,Gb.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No active cooking tasks. Confirm ingredient receipt to get started."})})]}),(0,Gb.jsx)(wW,{})]})]})})},EW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)({}),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!e)return;const t=HK(e.id,e=>{const t=e.filter(e=>"Ingredients Received"===e.status);r(t);const n={};t.forEach(e=>{n[e.id]={},e.items.forEach(t=>{n[e.id][t.name]=t.quantity})}),a(n),o(!1)});return()=>t()},[e]);const u=async t=>{o(!0);try{const r=n.find(e=>e.id===t),a=r.items.map(e=>({...e,cookedQuantity:i[t][e.name]})),s=r.items.map(e=>dp(Gf(sf(zb,"recipes"),Yf("name","==",e.name)))),o=await Promise.all(s),c=[];o.forEach((e,t)=>{if(e.empty)throw new Error(`Recipe for ${r.items[t].name} not found.`);e.docs[0].data().ingredients.forEach(e=>{c.push({ingredientName:e.name,quantity:e.quantity*a[t].cookedQuantity})})}),await(async(e,t)=>{try{const n=of(zb,"cookingAssignments",e);await hp(n,{items:t,status:"Pending Stock Manager Collection",completedAt:new Date})}catch(l){throw console.error("Error updating cooked quantities:",l),l}})(t,a),await(async(e,t)=>{try{await kp(zb,async n=>{const r=t.map(t=>of(zb,"kitchenStock",`${e}_${t.ingredientName}`)),i=await Promise.all(r.map(e=>n.get(e)));t.forEach((e,t)=>{const a=i[t],s=r[t];if(!a.exists())throw new Error(`Ingredient ${e.ingredientName} not found in kitchen stock`);{const t=a.data().quantity-e.quantity;if(t<0)throw new Error(`Not enough stock for ${e.ingredientName}`);n.update(s,{quantity:t})}})})}catch(l){throw console.error("Error deducting kitchen stock:",l),l}})(e.id,c),Bt.success("Cooked quantities submitted successfully!")}catch(l){c("Error submitting cooked quantities."),console.error(l),Bt.error("Error submitting cooked quantities.")}finally{o(!1)}};return(0,Gb.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"w-full max-w-4xl bg-white rounded-xl shadow-2xl p-6 sm:p-8 space-y-8",children:[(0,Gb.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 text-center tracking-tight",children:"Submit Cooked Quantities"}),s&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,Gb.jsx)(bx,{})}),l&&(0,Gb.jsx)("p",{className:"text-red-500 text-center",children:l}),!s&&!l&&0===n.length&&(0,Gb.jsx)("p",{className:"text-gray-500 text-center",children:"No active cooking tasks."}),!s&&!l&&n.length>0&&(0,Gb.jsx)("div",{className:"space-y-8",children:n.map(e=>(0,Gb.jsxs)("div",{className:"p-6 border border-gray-200 rounded-lg shadow-sm bg-white",children:[(0,Gb.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Assignment for Forecast ID: ",e.forecastId]}),(0,Gb.jsx)("div",{className:"space-y-4",children:e.items.map(t=>{var n;return(0,Gb.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 bg-gray-50 rounded-md border border-gray-200",children:[(0,Gb.jsxs)("span",{className:"font-medium text-gray-700 mb-2 sm:mb-0",children:[t.name," (Assigned: ",t.quantity,")"]}),(0,Gb.jsx)("input",{type:"number",value:(null===(n=i[e.id])||void 0===n?void 0:n[t.name])||"",onChange:n=>((e,t,n)=>{const r={...i};r[e][t]=Number(n),a(r)})(e.id,t.name,n.target.value),className:"w-full sm:w-24 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out"})]},t.name)})}),(0,Gb.jsx)("button",{onClick:()=>u(e.id),className:"mt-6 w-full sm:w-auto px-6 py-3 text-lg font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out transform hover:-translate-y-0.5",children:"Submit Cooked Quantities"})]},e.id))})]})})},_W=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)({}),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!e)return void c(!1);const t=pp(Gf(sf(zb,"stockBackRequests"),Yf("status","in",["Pending Logistics Pickup","Picked Up by Logistics"])),async e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));r(t);const n=[...new Set(t.map(e=>e.teamLeadId))];if(n.length>0){const e=(await Hb(n)).reduce((e,t)=>({...e,[t.id]:t}),{});a(e)}c(!1)},e=>{Bt.error("Error subscribing to stock back requests."),console.error("Error subscribing to stock back requests:",e),c(!1)}),n=((e,t)=>{try{return pp(Gf(VK,Yf("status","==",e)),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t(n)},t=>{console.error(`Error subscribing to assignments with status ${e}:`,t)})}catch(n){throw console.error(`Error setting up subscription for assignments with status ${e}:`,n),n}})("Ready for Logistics Collection",e=>{o(e)});return()=>{t(),n()}},[e]);const u=n.filter(e=>"Pending Logistics Pickup"===e.status),d=n.filter(e=>"Picked Up by Logistics"===e.status),h=async e=>{try{await(async e=>{try{await kp(zb,async t=>{const n=of(zb,"cookingAssignments",e.id),r=e.items.map(e=>of(zb,"logisticsInventory",e.recipeId)),i=await Promise.all(r.map(e=>t.get(e)));t.update(n,{status:"Collected by Logistics"}),e.items.forEach((e,n)=>{const a=i[n],s=r[n],o=(a.exists()?a.data().quantity:0)+(e.cookedQuantity||e.quantity);t.set(s,{quantity:o})})})}catch(t){throw console.error("Error collecting cooked food:",t),t}})(e),Bt.success("Food collected successfully!")}catch(t){Bt.error("Error collecting food. Please try again."),console.error("Error collecting food:",t)}};return(0,Gb.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#f56703] to-[#f59e03] p-4 sm:p-6 lg:p-8",children:(0,Gb.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gb.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-8 text-center",children:"Logistics Manager Dashboard"}),l&&(0,Gb.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gb.jsx)(bx,{})}),!l&&(0,Gb.jsxs)("div",{className:"space-y-8",children:[(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Cooked Food Ready for Collection (from Stock Manager)"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment ID"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kitchen"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.kitchenName}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.cookedQuantity||e.quantity," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>h(e),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Collect Food"})})]},e.id))})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Pending Pickups"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>{var t;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(t=i[e.teamLeadId])||void 0===t?void 0:t.name)||e.teamLeadId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name]},t))})}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Gb.jsx)("button",{onClick:()=>(async e=>{try{const t=of(zb,"stockBackRequests",e);await hp(t,{status:"Picked Up by Logistics"});const r=n.find(t=>t.id===e);await fp(sf(zb,"logisticsStockBack"),{teamLeadId:r.teamLeadId,items:r.items,collectedAt:wa.now()}),Bt.success("Pickup confirmed!")}catch(t){Bt.error("Error confirming pickup. Please try again."),console.error("Error confirming pickup:",t)}})(e.id),className:"px-4 py-2 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transform hover:-translate-y-0.5 transition-all duration-300",children:"Confirm Pickup"})})]},e.id)})})]})})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[(0,Gb.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gb.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Picked Up Items"}),(0,Gb.jsx)("button",{onClick:async()=>{try{const e=n.filter(e=>"Picked Up by Logistics"===e.status).map(e=>hp(of(zb,"stockBackRequests",e.id),{status:"Ready for Restock"}));await Promise.all(e),Bt.success("All picked up items are now ready for restock.")}catch(e){Bt.error("Error marking items as ready for restock."),console.error("Error marking items as ready for restock:",e)}},className:"px-6 py-3 font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-400 transform hover:-translate-y-0.5 transition-all duration-300",disabled:0===d.length,children:"Ready to Restock"})]}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,Gb.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>{var t;return(0,Gb.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===(t=i[e.teamLeadId])||void 0===t?void 0:t.name)||e.teamLeadId}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Gb.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.items.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.quantity," of ",e.name]},t))})})]},e.id)})})]})})]})]})]})})},NW=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)({}),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)([{recipeId:"",quantity:""}]),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!e)return void f(!1);let t,n,i;return(async()=>{try{t=Bb(t=>{const n=t.find(t=>t.id===e.id),i=null===n||void 0===n?void 0:n.reportsTo;if(i){const e=Wb(i,t).filter(e=>"Team Lead"===e.role);r(e)}else{Kb("Team Lead",e=>{r(e)})}}),n=jx(e=>{a(e)}),i=(e=>{try{return pp(iW,t=>{const n={};t.docs.forEach(e=>{n[e.id]=e.data().quantity}),e(n)},e=>{console.error("Error subscribing to logistics inventory:",e)})}catch(p){throw console.error("Error setting up subscription for logistics inventory:",p),p}})(e=>{o(e),f(!1)})}catch(s){m("Error setting up subscriptions."),console.error("Error setting up subscriptions:",s),f(!1)}})(),()=>{t&&t(),n&&n(),i&&i()}},[e]);const g=(e,t)=>{const n=[...u];n[e][t.target.name]=t.target.value,d(n)};return(0,Gb.jsx)("div",{className:"flex flex-col items-center min-h-screen bg-gray-100 p-2 md:p-4",children:(0,Gb.jsxs)("div",{className:"w-full max-w-2xl p-4 md:p-8 space-y-6 bg-white rounded-lg shadow-md",children:[(0,Gb.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Record Food Distribution"}),h&&(0,Gb.jsx)(bx,{}),p&&(0,Gb.jsx)("p",{className:"text-red-500",children:p}),(0,Gb.jsxs)("div",{className:"p-4 bg-blue-50 rounded-md",children:[(0,Gb.jsx)("h3",{className:"text-lg font-semibold",children:"Available Stock"}),(0,Gb.jsx)("ul",{children:Object.entries(s).map(e=>{var t;let[n,r]=e;return(0,Gb.jsxs)("li",{children:[null===(t=i.find(e=>e.id===n))||void 0===t?void 0:t.name,": ",r]},n)})})]}),(0,Gb.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!l)return m("Please select a Team Lead."),void Bt.error("Please select a Team Lead.");for(const e of u)if(e.quantity>(s[e.recipeId]||0)){var n;const t=(null===(n=i.find(t=>t.id===e.recipeId))||void 0===n?void 0:n.name)||"item";return m(`Cannot distribute ${e.quantity} of ${t}. Only ${s[e.recipeId]||0} available.`),void Bt.error(`Cannot distribute ${e.quantity} of ${t}. Only ${s[e.recipeId]||0} available.`)}f(!0),m(null);try{const t={logisticsManagerId:e.id,teamLeadId:l,items:u.map(e=>{var t;return{...e,name:(null===(t=i.find(t=>t.id===e.recipeId))||void 0===t?void 0:t.name)||""}})};await(async e=>{try{return(await fp(rW,{...e,status:"In Transit",createdAt:new Date})).id}catch(p){throw console.error("Error creating distribution:",p),p}})(t),await(async(e,t)=>{try{await kp(zb,async n=>{const r=e.map(e=>of(zb,"logisticsInventory",e.recipeId)),i=await Promise.all(r.map(e=>n.get(e)));e.forEach((e,a)=>{const s=i[a],o=r[a],l=s.exists()?s.data().quantity:0,c="add"===t?l+(e.cookedQuantity||e.quantity):l-e.quantity;if(c<0)throw new Error(`Not enough stock for ${e.name}`);n.set(o,{quantity:c})})})}catch(p){throw console.error("Error updating logistics inventory:",p),p}})(u,"subtract"),c(""),d([{recipeId:"",quantity:""}]),Bt.success("Distribution recorded successfully!")}catch(p){m("Error recording distribution. Please try again."),Bt.error("Error recording distribution. Please try again.")}finally{f(!1)}},className:"space-y-6",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"teamLead",className:"block text-sm font-medium text-gray-700",children:"Team Lead"}),(0,Gb.jsxs)("select",{id:"teamLead",name:"teamLead",value:l,onChange:e=>c(e.target.value),required:!0,className:"block w-full px-3 py-2 mt-1 text-gray-900 bg-gray-200 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,Gb.jsx)("option",{value:"",children:"Select a Team Lead"}),n.map(e=>(0,Gb.jsxs)("option",{value:e.id,children:[e.name," (",e.subrole,")"]},e.id))]})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Distribution Items"}),u.map((e,t)=>(0,Gb.jsxs)("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-2 mt-2",children:[(0,Gb.jsxs)("select",{name:"recipeId",value:e.recipeId,onChange:e=>g(t,e),required:!0,className:"block w-full px-3 py-2 text-gray-900 bg-gray-200 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,Gb.jsx)("option",{value:"",children:"Select a Recipe"}),i.map(e=>(0,Gb.jsxs)("option",{value:e.id,children:[e.name," (Available: ",s[e.id]||0,")"]},e.id))]}),(0,Gb.jsx)("input",{type:"number",name:"quantity",placeholder:"Quantity",value:e.quantity,onChange:e=>g(t,e),required:!0,className:"block w-full md:w-1/3 px-3 py-2 text-gray-900 bg-gray-200 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,Gb.jsx)("button",{type:"button",onClick:()=>(e=>{const t=[...u];t.splice(e,1),d(t)})(t),className:"w-full md:w-auto px-3 py-2 text-white bg-red-600 rounded-md hover:bg-red-700",children:"Remove"})]},t)),(0,Gb.jsx)("button",{type:"button",onClick:()=>{d([...u,{recipeId:"",quantity:""}])},className:"mt-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700",children:"Add Item"})]}),(0,Gb.jsx)("div",{children:(0,Gb.jsx)("button",{type:"submit",disabled:h,className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:h?"Submitting...":"Submit Distribution"})})]})]})})};function jW(e,t){return t||(t=e.slice(0)),e.raw=t,e}var TW=function(){function e(e){var t=this;this._insertTag=function(e){t.container.insertBefore(e,0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(t){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),CW="-ms-",AW="-webkit-",OW=Math.abs,IW=String.fromCharCode,PW=Object.assign;function DW(e){return e.trim()}function MW(e,t,n){return e.replace(t,n)}function RW(e,t){return e.indexOf(t)}function LW(e,t){return 0|e.charCodeAt(t)}function FW(e,t,n){return e.slice(t,n)}function UW(e){return e.length}function zW(e){return e.length}function $W(e,t){return t.push(e),e}var VW=1,BW=1,qW=0,HW=0,KW=0,WW="";function GW(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:VW,column:BW,length:s,return:""}}function QW(e,t){return PW(GW("",null,null,"",null,null,0),e,{length:-e.length},t)}function YW(){return KW=HW>0?LW(WW,--HW):0,BW--,10===KW&&(BW=1,VW--),KW}function XW(){return KW=HW<qW?LW(WW,HW++):0,BW++,10===KW&&(BW=1,VW++),KW}function JW(){return LW(WW,HW)}function ZW(){return HW}function eG(e,t){return FW(WW,e,t)}function tG(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nG(e){return VW=BW=1,qW=UW(WW=e),HW=0,[]}function rG(e){return WW="",e}function iG(e){return DW(eG(HW-1,oG(91===e?e+2:40===e?e+1:e)))}function aG(e){for(;(KW=JW())&&KW<33;)XW();return tG(e)>2||tG(KW)>3?"":" "}function sG(e,t){for(;--t&&XW()&&!(KW<48||KW>102||KW>57&&KW<65||KW>70&&KW<97););return eG(e,ZW()+(t<6&&32==JW()&&32==XW()))}function oG(e){for(;XW();)switch(KW){case e:return HW;case 34:case 39:34!==e&&39!==e&&oG(KW);break;case 40:41===e&&oG(e);break;case 92:XW()}return HW}function lG(e,t){for(;XW()&&e+KW!==57&&(e+KW!==84||47!==JW()););return"/*"+eG(t,HW-1)+"*"+IW(47===e?e:XW())}function cG(e){for(;!tG(JW());)XW();return eG(e,HW)}function uG(e){return rG(dG("",null,null,null,[""],e=nG(e),0,[0],e))}function dG(e,t,n,r,i,a,s,o,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",x=i,w=a,k=r,S=b;g;)switch(p=v,v=XW()){case 40:if(108!=p&&58==S.charCodeAt(d-1)){-1!=RW(S+=MW(iG(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=iG(v);break;case 9:case 10:case 13:case 32:S+=aG(p);break;case 92:S+=sG(ZW()-1,7);continue;case 47:switch(JW()){case 42:case 47:$W(fG(lG(XW(),ZW()),t,n),l);break;default:S+="/"}break;case 123*m:o[c++]=UW(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:f>0&&UW(S)-d&&$W(f>32?pG(S+";",r,n,d-1):pG(MW(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if($W(k=hG(S,t,n,c,u,i,o,b,x=[],w=[],d),a),123===v)if(0===u)dG(S,t,k,k,x,a,d,o,w);else switch(h){case 100:case 109:case 115:dG(e,k,k,r&&$W(hG(e,k,k,0,0,i,o,b,i,x=[],d),w),i,w,d,o,r?x:w);break;default:dG(S,k,k,k,[""],w,0,o,w)}}c=u=f=0,m=y=1,b=S="",d=s;break;case 58:d=1+UW(S),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==YW())continue;switch(S+=IW(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(UW(S)-1)*y,y=1;break;case 64:45===JW()&&(S+=iG(XW())),h=JW(),u=d=UW(b=S+=cG(ZW())),v++;break;case 45:45===p&&2==UW(S)&&(m=0)}}return a}function hG(e,t,n,r,i,a,s,o,l,c,u){for(var d=i-1,h=0===i?a:[""],f=zW(h),p=0,m=0,g=0;p<r;++p)for(var y=0,v=FW(e,d+1,d=OW(m=s[p])),b=e;y<f;++y)(b=DW(m>0?h[y]+" "+v:MW(v,/&\f/g,h[y])))&&(l[g++]=b);return GW(e,t,n,0===i?"rule":o,l,c,u)}function fG(e,t,n){return GW(e,t,n,"comm",IW(KW),FW(e,2,-2),0)}function pG(e,t,n,r){return GW(e,t,n,"decl",FW(e,0,r),FW(e,r+1,-1),r)}function mG(e,t){switch(function(e,t){return(((t<<2^LW(e,0))<<2^LW(e,1))<<2^LW(e,2))<<2^LW(e,3)}(e,t)){case 5103:return AW+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return AW+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return AW+e+"-moz-"+e+CW+e+e;case 6828:case 4268:return AW+e+CW+e+e;case 6165:return AW+e+CW+"flex-"+e+e;case 5187:return AW+e+MW(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return AW+e+CW+"flex-item-"+MW(e,/flex-|-self/,"")+e;case 4675:return AW+e+CW+"flex-line-pack"+MW(e,/align-content|flex-|-self/,"")+e;case 5548:return AW+e+CW+MW(e,"shrink","negative")+e;case 5292:return AW+e+CW+MW(e,"basis","preferred-size")+e;case 6060:return AW+"box-"+MW(e,"-grow","")+AW+e+CW+MW(e,"grow","positive")+e;case 4554:return AW+MW(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return MW(MW(MW(e,/(zoom-|grab)/,AW+"$1"),/(image-set)/,AW+"$1"),e,"")+e;case 5495:case 3959:return MW(e,/(image-set\([^]*)/,AW+"$1$`$1");case 4968:return MW(MW(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+AW+e+e;case 4095:case 3583:case 4068:case 2532:return MW(e,/(.+)-inline(.+)/,AW+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(UW(e)-1-t>6)switch(LW(e,t+1)){case 109:if(45!==LW(e,t+4))break;case 102:return MW(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==LW(e,t+3)?"$3":"$2-$3"))+e;case 115:return~RW(e,"stretch")?mG(MW(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==LW(e,t+1))break;case 6444:switch(LW(e,UW(e)-3-(~RW(e,"!important")&&10))){case 107:return MW(e,":",":"+AW)+e;case 101:return MW(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+AW+(45===LW(e,14)?"inline-":"")+"box$3$1"+AW+"$2$3$1"+CW+"$2box$3")+e}break;case 5936:switch(LW(e,t+11)){case 114:return AW+e+CW+MW(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return AW+e+CW+MW(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return AW+e+CW+MW(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return AW+e+CW+e+e}return e}function gG(e,t){for(var n="",r=zW(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function yG(e,t,n,r){switch(e.type){case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+gG(e.children,r)+"}";case"rule":e.value=e.props.join(",")}return UW(n=gG(e.children,r))?e.return=e.value+"{"+n+"}":""}var vG=function(e,t,n){for(var r=0,i=0;r=i,i=JW(),38===r&&12===i&&(t[n]=1),!tG(i);)XW();return eG(e,HW)},bG=new WeakMap,xG=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||bG.get(n))&&!r){bG.set(e,!0);for(var i=[],a=function(e,t){return rG(function(e,t){var n=-1,r=44;do{switch(tG(r)){case 0:38===r&&12===JW()&&(t[n]=1),e[n]+=vG(HW-1,t,n);break;case 2:e[n]+=iG(r);break;case 4:if(44===r){e[++n]=58===JW()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=IW(r)}}while(r=XW());return e}(nG(e),t))}(t,i),s=n.props,o=0,l=0;o<a.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[o]?a[o].replace(/&\f/g,s[c]):s[c]+" "+a[o]}}},wG=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},kG=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case"decl":e.return=mG(e.value,e.length);break;case"@keyframes":return gG([QW(e,{value:MW(e.value,"@","@"+AW)})],r);case"rule":if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return gG([QW(e,{props:[MW(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return gG([QW(e,{props:[MW(t,/:(plac\w+)/,":-webkit-input-$1")]}),QW(e,{props:[MW(t,/:(plac\w+)/,":-moz-$1")]}),QW(e,{props:[MW(t,/:(plac\w+)/,CW+"input-$1")]})],r)}return""})}}],SG={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},EG=/[A-Z]|^ms/g,_G=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NG=function(e){return 45===e.charCodeAt(1)},jG=function(e){return null!=e&&"boolean"!=typeof e},TG=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return NG(e)?e:e.replace(EG,"-$&").toLowerCase()}),CG=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(_G,function(e,t,n){return OG={name:t,styles:n,next:OG},t})}return 1===SG[e]||NG(e)||"number"!=typeof t||0===t?t:t+"px"};function AG(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return OG={name:n.name,styles:n.styles,next:OG},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)OG={name:r.name,styles:r.styles,next:OG},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=AG(e,t,n[i])+";";else for(var a in n){var s=n[a];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":jG(s)&&(r+=TG(a)+":"+CG(a,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var o=AG(e,t,s);switch(a){case"animation":case"animationName":r+=TG(a)+":"+o+";";break;default:r+=a+"{"+o+"}"}}else for(var l=0;l<s.length;l++)jG(s[l])&&(r+=TG(a)+":"+CG(a,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=OG,a=n(e);return OG=i,AG(e,t,a)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var OG,IG=/label:\s*([^\s;\n{]+)\s*(;|$)/g,PG=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";OG=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=AG(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++)i+=AG(n,t,e[s]),r&&(i+=a[s]);IG.lastIndex=0;for(var o,l="";null!==(o=IG.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:OG}};function DG(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}function MG(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function RG(e,t,n){var r=[],i=DG(e,r,n);return r.length<2?n:i+t(r)}var LG,FG,UG,zG,$G,VG=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(n&&(n+=" "),n+=a)}}return n},BG=function(){var e=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r=e.stylisPlugins||kG;var i,a,s={},o=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;o.push(e)});var l,c,u=[yG,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=zW(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}([xG,wG].concat(r,u));a=function(e,t,n,r){l=n,gG(uG(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new TW({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(o),h}({key:"css"});e.sheet.speedy=function(e){this.isSpeedy=e},e.compat=!0;var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PG(n,e.registered,void 0);return function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(e,i,!1),e.key+"-"+i.name};return{css:t,cx:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return RG(e.registered,t,VG(r))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PG(n,e.registered);MG(e,i)},keyframes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PG(n,e.registered),a="animation-"+i.name;return MG(e,{name:i.name,styles:"@keyframes "+a+"{"+i.styles+"}"}),a},hydrate:function(t){t.forEach(function(t){e.inserted[t]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:DG.bind(null,e.registered),merge:RG.bind(null,e.registered,t)}}(),qG=BG.cx,HG=BG.css,KG=HG(LG||(LG=jW(["\n  content: '';\n  position: absolute;\n  top: 0;\n  height: var(--tree-line-height);\n  box-sizing: border-box;\n"]))),WG=HG(FG||(FG=jW(["\n  display: flex;\n  padding-inline-start: 0;\n  margin: 0;\n  padding-top: var(--tree-line-height);\n  position: relative;\n\n  ::before {\n    ",";\n    left: calc(50% - var(--tree-line-width) / 2);\n    width: 0;\n    border-left: var(--tree-line-width) var(--tree-node-line-style)\n      var(--tree-line-color);\n  }\n"])),KG),GG=HG(UG||(UG=jW(["\n  flex: auto;\n  text-align: center;\n  list-style-type: none;\n  position: relative;\n  padding: var(--tree-line-height) var(--tree-node-padding) 0\n    var(--tree-node-padding);\n"]))),QG=HG(zG||(zG=jW(["\n  ::before,\n  ::after {\n    ",";\n    right: 50%;\n    width: 50%;\n    border-top: var(--tree-line-width) var(--tree-node-line-style)\n      var(--tree-line-color);\n  }\n  ::after {\n    left: 50%;\n    border-left: var(--tree-line-width) var(--tree-node-line-style)\n      var(--tree-line-color);\n  }\n\n  :only-of-type {\n    padding: 0;\n    ::after,\n    :before {\n      display: none;\n    }\n  }\n\n  :first-of-type {\n    ::before {\n      border: 0 none;\n    }\n    ::after {\n      border-radius: var(--tree-line-border-radius) 0 0 0;\n    }\n  }\n\n  :last-of-type {\n    ::before {\n      border-right: var(--tree-line-width) var(--tree-node-line-style)\n        var(--tree-line-color);\n      border-radius: 0 var(--tree-line-border-radius) 0 0;\n    }\n    ::after {\n      border: 0 none;\n    }\n  }\n"])),KG);function YG(e){var n=e.children,r=e.label;return t.createElement("li",{className:qG(GG,QG,e.className)},r,t.Children.count(n)>0&&t.createElement("ul",{className:WG},n))}function XG(e){var n=e.children,r=e.label,i=e.lineHeight,a=void 0===i?"20px":i,s=e.lineWidth,o=void 0===s?"1px":s,l=e.lineColor,c=void 0===l?"black":l,u=e.nodePadding,d=void 0===u?"5px":u,h=e.lineStyle,f=void 0===h?"solid":h,p=e.lineBorderRadius,m=void 0===p?"5px":p;return t.createElement("ul",{className:HG($G||($G=jW(["\n        padding-inline-start: 0;\n        margin: 0;\n        display: flex;\n\n        --line-height: ",";\n        --line-width: ",";\n        --line-color: ",";\n        --line-border-radius: ",";\n        --line-style: ",";\n        --node-padding: ",";\n\n        --tree-line-height: var(--line-height, 20px);\n        --tree-line-width: var(--line-width, 1px);\n        --tree-line-color: var(--line-color, black);\n        --tree-line-border-radius: var(--line-border-radius, 5px);\n        --tree-node-line-style: var(--line-style, solid);\n        --tree-node-padding: var(--node-padding, 5px);\n      "])),a,o,c,m,f,d)},t.createElement(YG,{label:r},n))}const JG=(e,t)=>{if(!t)return"";const n=e.find(e=>e.id===t);return n?n.empCode:""},ZG=e=>{let{profile:n,allProfiles:r,onClose:i,onSave:a}=e;const[s,o]=(0,t.useState)(n),[l,c]=(0,t.useState)([]);(0,t.useEffect)(()=>{o(n);const e=tx[n.role]||[],t=r.filter(t=>e.includes(t.role)&&t.id!==n.id);c(t)},[n,r]);const u=e=>{const{name:t,value:n}=e.target;o({...s,[t]:n})};return n?(0,Gb.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,Gb.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[(0,Gb.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Edit Profile"}),(0,Gb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({...s,salary:parseFloat(s.salary)})},className:"space-y-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Gb.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gb.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,readOnly:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-gray-100"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Gb.jsx)("input",{type:"text",id:"role",name:"role",value:s.role,readOnly:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-gray-100"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"subrole",className:"block text-sm font-medium text-gray-700",children:"Subrole"}),(0,Gb.jsx)("input",{type:"text",id:"subrole",name:"subrole",value:s.subrole,readOnly:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-gray-100"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"empCode",className:"block text-sm font-medium text-gray-700",children:"Employee Code"}),(0,Gb.jsx)("input",{type:"text",id:"empCode",name:"empCode",value:s.empCode,readOnly:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-gray-100"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"reportsTo",className:"block text-sm font-medium text-gray-700",children:"Reports To"}),(0,Gb.jsxs)("select",{id:"reportsTo",name:"reportsTo",value:s.reportsTo,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[(0,Gb.jsx)("option",{value:"",children:"None"}),l.map(e=>(0,Gb.jsxs)("option",{value:e.id,children:[e.name," (",e.subrole,")"]},e.id))]})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700",children:"Salary"}),(0,Gb.jsx)("input",{type:"number",id:"salary",name:"salary",value:s.salary||"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,Gb.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,Gb.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Cancel"}),(0,Gb.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})]})}):null},eQ=()=>{var e;const[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)({});(0,t.useEffect)(()=>{const e=Bb(e=>{r(e);const t=h(e);a(t)});return()=>e&&e()},[]),(0,t.useEffect)(()=>{if(!i)return;const e={},t=n=>{var r;e[n.id]=null!==(r=e[n.id])&&void 0!==r&&r,n.children.forEach(t)};t(i),d(e)},[null===i||void 0===i?void 0:i.id]);const h=e=>{if(!e||0===e.length)return null;const t=e.reduce((e,t)=>(e[t.id]={id:t.id,person:{id:t.id,name:t.name,title:t.subrole,empCode:t.empCode},hasParent:!!t.reportsTo,children:[],reportsTo:t.reportsTo,fullProfile:t},e),{});return Object.values(t).forEach(e=>{e.reportsTo&&t[e.reportsTo]&&t[e.reportsTo].children.push(e)}),Object.values(t).find(e=>!e.hasParent)||null},f=e=>{o(e),c(!0)},p=()=>{c(!1),o(null)},m=e=>{let{person:t,fullProfile:n,nodeId:r,childCount:i}=e;return(0,Gb.jsx)("div",{className:"bg-white p-3 rounded-lg shadow border border-gray-200 min-w-[160px] max-w-xs text-center inline-block cursor-pointer hover:shadow-xl transition-shadow duration-150",onClick:()=>f(n),role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key?f(n):null,style:{userSelect:"none"},children:(0,Gb.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Gb.jsxs)("div",{className:"text-left",children:[(0,Gb.jsx)("p",{className:"font-semibold text-sm text-blue-600 truncate",children:t.name}),(0,Gb.jsx)("p",{className:"text-gray-500 text-xs truncate",children:t.title}),(0,Gb.jsx)("p",{className:"text-gray-400 text-[11px] mt-1",children:t.empCode})]}),i>0&&(0,Gb.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),t=r,d(e=>({...e,[t]:!e[t]}))},"aria-label":u[r]?"Expand":"Collapse",className:"w-7 h-7 flex items-center justify-center rounded-full border hover:bg-gray-100",title:u[r]?"Expand":"Collapse",children:(0,Gb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:u[r]?(0,Gb.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 01.894.553l3 6a1 1 0 01-.788 1.447H6.894a1 1 0 01-.788-1.447l3-6A1 1 0 0110 5z",clipRule:"evenodd"}):(0,Gb.jsx)("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})})},g=e=>{var t;return(0,Gb.jsx)(YG,{label:(0,Gb.jsx)(m,{person:e.person,fullProfile:e.fullProfile,nodeId:e.id,childCount:(null===(t=e.children)||void 0===t?void 0:t.length)||0}),children:!u[e.id]&&e.children&&e.children.map(e=>g(e))},e.id)};return(0,Gb.jsxs)("div",{className:"flex flex-col items-center justify-start min-h-screen bg-gray-50 p-4 gap-4",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Organization Chart"}),(0,Gb.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md w-full max-w-[1200px] h-[70vh] overflow-auto border border-gray-200",children:i?(0,Gb.jsx)("div",{style:{padding:20},children:(0,Gb.jsx)(XG,{lineWidth:"2px",lineColor:"#cbd5e1",lineBorderRadius:"10px",label:(0,Gb.jsx)(m,{person:i.person,fullProfile:i.fullProfile,nodeId:i.id,childCount:(null===(e=i.children)||void 0===e?void 0:e.length)||0}),children:i.children.map(e=>g(e))})}):(0,Gb.jsx)("p",{children:"Loading organization chart..."})}),l&&(0,Gb.jsx)(ZG,{profile:s,allProfiles:n,onClose:p,onSave:async e=>{try{e.reportsTo!==s.reportsTo?await(async(e,t,n)=>{await kp(zb,async r=>{const i=of(zb,"profiles",e),a=await r.get(i);if(!a.exists())throw new Error("Employee not found!");const s=a.data(),o=s.reportsTo,l=ex(n,s.role,t);if(r.update(i,{reportsTo:t,empCode:l}),o){const t=Gf(sf(zb,"profiles"),Yf("reportsTo","==",o),Yf("role","==",s.role)),i=(await dp(t)).docs.map(e=>({id:e.id,...e.data()})).filter(t=>t.id!==e).sort((e,t)=>parseInt(e.empCode.split(Zb[e.role]).pop(),10)-parseInt(t.empCode.split(Zb[t.role]).pop(),10));for(let e=0;e<i.length;e++){const t=i[e],a=of(zb,"profiles",t.id),s=e+1,l=`${JG(n,o)}${Zb[t.role]}${s}`;r.update(a,{empCode:l})}}})})(e.id,e.reportsTo,n):await(async(e,t)=>{try{const n=of(zb,"profiles",e);await hp(n,t),console.log("Document updated with ID: ",e)}catch(uQ){throw console.error("Error updating document: ",uQ),uQ}})(e.id,e),Bt.success("Profile updated successfully!"),p()}catch(t){console.error("Error updating profile:",t),Bt.error("Error updating profile. Please try again.")}}}),(0,Gb.jsx)("div",{className:"text-sm text-gray-500",children:"Tip: use the scrollbars to navigate the chart. Use collapse buttons to hide subtrees."})]})},tQ=e=>{try{return pp(sf(zb,"ingredients"),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));e(n)},e=>{console.error("Error subscribing to ingredients:",e)})}catch(t){throw console.error("Error setting up subscription for ingredients:",t),t}},nQ=async(e,t,n)=>{const r=sf(zb,"vendors"),i=await dp(r),a=Sp(zb);i.docs.forEach(e=>{const r=e.data().menu||[];let i=[];if("delete"===n)i=r.filter(e=>e.name!==t.name);else{let e=!1;i=r.map(n=>n.name===t.name?(e=!0,{...n,name:t.name,mrp:t.mrp,sellingPrice:t.sellingPrice,description:t.description}):n),e||i.push({name:t.name,mrp:t.mrp,sellingPrice:t.sellingPrice,description:t.description,stock:0,date:new Date})}a.update(e.ref,{menu:i})});try{await a.commit(),console.log("Vendors synced with recipe successfully!")}catch(s){throw console.error("Error syncing vendors with recipe:",s),s}},rQ=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[a,s]=(0,t.useState)([{name:"",quantity:"",unit:""}]),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)([{percentage:"",from:"",to:""}]),[y,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[S,E]=(0,t.useState)(!0),[_,N]=(0,t.useState)(null),[j,T]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=jx(e=>{n(e),E(!1)}),t=tQ(e=>{T(e)});return()=>{e(),t()}},[]);const C=(e,t,n)=>{const r=[...a],i={...r[e],[t]:n};if("name"===t){const e=j.find(e=>e.name===n);if(e&&(i.unit=e.unit,i.quantity)){const t=parseFloat(i.quantity),n=parseFloat(e.costPerUnit);i.cost=t*n}}else if("quantity"===t){const e=j.find(e=>e.name===i.name);if(e){const t=parseFloat(n),r=parseFloat(e.costPerUnit);i.cost=t*r}}r[e]=i,s(r)},A=(e,t,n)=>{const r=m.map((r,i)=>i===e?{...r,[t]:n}:r);g(r)},O=(e,t,n)=>{const r=w.ingredients.map((r,i)=>i===e?{...r,[t]:n}:r);k({...w,ingredients:r})},I=(e,t,n)=>{const r=w.incentives.map((r,i)=>i===e?{...r,[t]:n}:r);k({...w,incentives:r})};return(0,Gb.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Gb.jsx)("datalist",{id:"ingredients-list",children:j.map(e=>(0,Gb.jsx)("option",{value:e.name},e.id))}),(0,Gb.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Recipe Management"}),_&&(0,Gb.jsx)("p",{className:"text-red-500 mb-4",children:_}),S&&(0,Gb.jsx)("p",{className:"text-blue-500 mb-4",children:"Loading..."}),(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,Gb.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Create New Recipe"}),(0,Gb.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),E(!0),N(null);try{const e={name:r,mrp:parseFloat(o),sellingPrice:parseFloat(c),description:d,imageUrl:f,isJar:y,isPickle:b,incentives:m.map(e=>({percentage:parseFloat(e.percentage)||0,from:parseInt(e.from,10)||0,to:parseInt(e.to,10)||0})),ingredients:a.map(e=>({...e,quantity:parseFloat(e.quantity)}))};await(async e=>{try{return(await fp(_x,e)).id}catch(_){throw console.error("Error creating recipe:",_),_}})(e),await nQ(0,e,"update"),i(""),s([{name:"",quantity:"",unit:""}]),l(""),u(""),h(""),p(""),g([{percentage:"",from:"",to:""}]),v(!1),x(!1)}catch(t){N("Failed to create recipe."),console.error("Error creating recipe:",t)}finally{E(!1)}},className:"space-y-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"newRecipeName",className:"block text-sm font-medium text-gray-700",children:"Recipe Name"}),(0,Gb.jsx)("input",{type:"text",id:"newRecipeName",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"newMrp",className:"block text-sm font-medium text-gray-700",children:"MRP"}),(0,Gb.jsx)("input",{type:"number",id:"newMrp",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"newSellingPrice",className:"block text-sm font-medium text-gray-700",children:"Selling Price"}),(0,Gb.jsx)("input",{type:"number",id:"newSellingPrice",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"newDescription",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gb.jsx)("textarea",{id:"newDescription",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:d,onChange:e=>h(e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"newImageUrl",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),(0,Gb.jsx)("input",{type:"text",id:"newImageUrl",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:f,onChange:e=>p(e.target.value)})]}),(0,Gb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gb.jsxs)("div",{className:"flex items-center",children:[(0,Gb.jsx)("input",{type:"checkbox",id:"newIsJar",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:y,onChange:e=>v(e.target.checked)}),(0,Gb.jsx)("label",{htmlFor:"newIsJar",className:"ml-2 block text-sm text-gray-900",children:"Is Jar?"})]}),(0,Gb.jsxs)("div",{className:"flex items-center",children:[(0,Gb.jsx)("input",{type:"checkbox",id:"newIsPickle",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:b,onChange:e=>x(e.target.checked)}),(0,Gb.jsx)("label",{htmlFor:"newIsPickle",className:"ml-2 block text-sm text-gray-900",children:"Is Pickle?"})]})]}),(0,Gb.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Incentives"}),m.map((e,t)=>(0,Gb.jsxs)("div",{className:"flex space-x-2 items-end",children:[(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`incentive-percentage-${t}`,className:"block text-sm font-medium text-gray-700",children:"Percentage"}),(0,Gb.jsx)("input",{type:"number",id:`incentive-percentage-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.percentage,onChange:e=>A(t,"percentage",e.target.value)})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`incentive-from-${t}`,className:"block text-sm font-medium text-gray-700",children:"From Units"}),(0,Gb.jsx)("input",{type:"number",id:`incentive-from-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.from,onChange:e=>A(t,"from",e.target.value)})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`incentive-to-${t}`,className:"block text-sm font-medium text-gray-700",children:"To Units"}),(0,Gb.jsx)("input",{type:"number",id:`incentive-to-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.to,onChange:e=>A(t,"to",e.target.value)})]}),m.length>1&&(0,Gb.jsx)("button",{type:"button",onClick:()=>(e=>{const t=m.filter((t,n)=>n!==e);g(t)})(t),className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,Gb.jsx)("button",{type:"button",onClick:()=>{g([...m,{percentage:"",from:"",to:""}])},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Add Incentive Tier"}),(0,Gb.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Ingredients"}),a.map((e,t)=>(0,Gb.jsxs)("div",{className:"flex space-x-2 items-end",children:[(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`ingredient-name-${t}`,className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Gb.jsx)("input",{type:"text",list:"ingredients-list",id:`ingredient-name-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.name,onChange:e=>C(t,"name",e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`ingredient-quantity-${t}`,className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,Gb.jsx)("input",{type:"number",id:`ingredient-quantity-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.quantity,onChange:e=>C(t,"quantity",e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`ingredient-unit-${t}`,className:"block text-sm font-medium text-gray-700",children:"Unit"}),(0,Gb.jsx)("input",{type:"text",id:`ingredient-unit-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.unit,readOnly:!0})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`ingredient-cost-${t}`,className:"block text-sm font-medium text-gray-700",children:"Cost"}),(0,Gb.jsx)("input",{type:"number",id:`ingredient-cost-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.cost||"",readOnly:!0})]}),a.length>1&&(0,Gb.jsx)("button",{type:"button",onClick:()=>(e=>{const t=a.filter((t,n)=>n!==e);s(t)})(t),className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,Gb.jsx)("button",{type:"button",onClick:()=>{s([...a,{name:"",quantity:"",unit:""}])},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Add Ingredient"}),(0,Gb.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",disabled:S,children:S?"Creating...":"Create Recipe"})]})]}),(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Gb.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Existing Recipes"}),0===e.length?(0,Gb.jsx)("p",{children:"No recipes found."}):(0,Gb.jsx)("ul",{className:"space-y-4",children:e.map(t=>(0,Gb.jsxs)("li",{className:"border p-4 rounded-md",children:[(0,Gb.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gb.jsx)("h3",{className:"text-lg font-semibold",children:t.name}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("button",{onClick:()=>(e=>{k({...e,ingredients:e.ingredients.map(e=>({...e,quantity:String(e.quantity)}))})})(t),className:"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 mr-2",children:"Edit"}),(0,Gb.jsx)("button",{onClick:()=>(async t=>{E(!0),N(null);try{const n=e.find(e=>e.id===t);await Tx(t),n&&await nQ(0,n,"delete")}catch(n){N("Failed to delete recipe."),console.error("Error deleting recipe:",n)}finally{E(!1)}})(t.id),className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Delete"})]})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsxs)("p",{className:"text-gray-600",children:["MRP: ",t.mrp]}),(0,Gb.jsxs)("p",{className:"text-gray-600",children:["Selling Price: ",t.sellingPrice]}),(0,Gb.jsxs)("p",{className:"text-gray-600",children:["Description: ",t.description]})]}),(0,Gb.jsx)("p",{className:"text-gray-600",children:"Ingredients:"}),(0,Gb.jsx)("ul",{className:"list-disc list-inside ml-4",children:t.ingredients.map((e,t)=>(0,Gb.jsxs)("li",{children:[e.name,": ",e.quantity," ",e.unit]},t))})]},t.id))})]}),w&&(0,Gb.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center",children:(0,Gb.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-lg w-full",children:[(0,Gb.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Edit Recipe: ",w.name]}),(0,Gb.jsx)("div",{className:"max-h-[70vh] overflow-y-auto pr-4",children:(0,Gb.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),E(!0),N(null);try{const e={name:w.name,mrp:parseFloat(w.mrp),sellingPrice:parseFloat(w.sellingPrice),description:w.description,imageUrl:w.imageUrl||"",isJar:w.isJar||!1,isPickle:w.isPickle||!1,incentives:(w.incentives||[]).map(e=>({percentage:parseFloat(e.percentage)||0,from:parseInt(e.from,10)||0,to:parseInt(e.to,10)||0})),ingredients:w.ingredients.map(e=>({...e,quantity:parseFloat(e.quantity)}))};await(async(e,t)=>{try{const n=of(zb,"recipes",e);await hp(n,t)}catch(_){throw console.error("Error updating recipe:",_),_}})(w.id,e),await nQ(w.id,e,"update"),k(null)}catch(t){N("Failed to update recipe."),console.error("Error updating recipe:",t)}finally{E(!1)}},className:"space-y-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"editRecipeName",className:"block text-sm font-medium text-gray-700",children:"Recipe Name"}),(0,Gb.jsx)("input",{type:"text",id:"editRecipeName",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:w.name,onChange:e=>k({...w,name:e.target.value}),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"editMrp",className:"block text-sm font-medium text-gray-700",children:"MRP"}),(0,Gb.jsx)("input",{type:"number",id:"editMrp",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:w.mrp,onChange:e=>k({...w,mrp:e.target.value}),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"editSellingPrice",className:"block text-sm font-medium text-gray-700",children:"Selling Price"}),(0,Gb.jsx)("input",{type:"number",id:"editSellingPrice",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:w.sellingPrice,onChange:e=>k({...w,sellingPrice:e.target.value}),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"editDescription",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Gb.jsx)("textarea",{id:"editDescription",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:w.description,onChange:e=>k({...w,description:e.target.value}),required:!0})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"editImageUrl",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),(0,Gb.jsx)("input",{type:"text",id:"editImageUrl",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:w.imageUrl||"",onChange:e=>k({...w,imageUrl:e.target.value})})]}),(0,Gb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gb.jsxs)("div",{className:"flex items-center",children:[(0,Gb.jsx)("input",{type:"checkbox",id:"editIsJar",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:w.isJar||!1,onChange:e=>k({...w,isJar:e.target.checked})}),(0,Gb.jsx)("label",{htmlFor:"editIsJar",className:"ml-2 block text-sm text-gray-900",children:"Is Jar?"})]}),(0,Gb.jsxs)("div",{className:"flex items-center",children:[(0,Gb.jsx)("input",{type:"checkbox",id:"editIsPickle",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:w.isPickle||!1,onChange:e=>k({...w,isPickle:e.target.checked})}),(0,Gb.jsx)("label",{htmlFor:"editIsPickle",className:"ml-2 block text-sm text-gray-900",children:"Is Pickle?"})]})]}),(0,Gb.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Incentives"}),(w.incentives||[]).map((e,t)=>(0,Gb.jsxs)("div",{className:"flex space-x-2 items-end mb-2",children:[(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`edit-incentive-percentage-${t}`,className:"block text-sm font-medium text-gray-700",children:"Percentage"}),(0,Gb.jsx)("input",{type:"number",id:`edit-incentive-percentage-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.percentage,onChange:e=>I(t,"percentage",e.target.value)})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`edit-incentive-from-${t}`,className:"block text-sm font-medium text-gray-700",children:"From Units"}),(0,Gb.jsx)("input",{type:"number",id:`edit-incentive-from-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.from,onChange:e=>I(t,"from",e.target.value)})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`edit-incentive-to-${t}`,className:"block text-sm font-medium text-gray-700",children:"To Units"}),(0,Gb.jsx)("input",{type:"number",id:`edit-incentive-to-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.to,onChange:e=>I(t,"to",e.target.value)})]}),w.incentives.length>1&&(0,Gb.jsx)("button",{type:"button",onClick:()=>(e=>{const t=w.incentives.filter((t,n)=>n!==e);k({...w,incentives:t})})(t),className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,Gb.jsx)("button",{type:"button",onClick:()=>{k({...w,incentives:[...w.incentives||[],{percentage:"",from:"",to:""}]})},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Add Incentive Tier"}),(0,Gb.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Ingredients"}),w.ingredients.map((e,t)=>(0,Gb.jsxs)("div",{className:"flex space-x-2 items-end mb-2",children:[(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`edit-ingredient-name-${t}`,className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Gb.jsx)("input",{type:"text",id:`edit-ingredient-name-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.name,onChange:e=>O(t,"name",e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`edit-ingredient-quantity-${t}`,className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,Gb.jsx)("input",{type:"number",id:`edit-ingredient-quantity-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.quantity,onChange:e=>O(t,"quantity",e.target.value),required:!0})]}),(0,Gb.jsxs)("div",{className:"flex-1",children:[(0,Gb.jsx)("label",{htmlFor:`edit-ingredient-unit-${t}`,className:"block text-sm font-medium text-gray-700",children:"Unit"}),(0,Gb.jsx)("input",{type:"text",id:`edit-ingredient-unit-${t}`,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:e.unit,onChange:e=>O(t,"unit",e.target.value),required:!0})]}),w.ingredients.length>1&&(0,Gb.jsx)("button",{type:"button",onClick:()=>(e=>{const t=w.ingredients.filter((t,n)=>n!==e);k({...w,ingredients:t})})(t),className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,Gb.jsx)("button",{type:"button",onClick:()=>{k({...w,ingredients:[...w.ingredients,{name:"",quantity:"",unit:""}]})},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Add Ingredient"}),(0,Gb.jsxs)("div",{className:"flex justify-end space-x-4 mt-4",children:[(0,Gb.jsx)("button",{type:"button",onClick:()=>k(null),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400",children:"Cancel"}),(0,Gb.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:S,children:S?"Updating...":"Update Recipe"})]})]})})]})})]})},iQ=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)({}),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(null),b=Mx(new Date);(0,t.useEffect)(()=>{let e,t,r;return(async()=>{p(!0);try{e=eW(b,e=>{const t=e.reduce((e,t)=>(t.items.forEach(n=>{const r=e.find(e=>e.recipeId===n.recipeId);r?r.quantity+=n.quantity:e.push({...n,forecastId:t.forecastId,forecastWeek:t.forecastWeek})}),e),[]);n(e),i(t)}),t=Kb("Kitchen Manager",e=>{s(e)});const a=Gf(sf(zb,"preparedStock"));r=pp(a,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));l(t),p(!1)})}catch(a){g("Error setting up subscriptions."),console.error("Error setting up subscriptions:",a),p(!1)}})(),()=>{e&&e(),t&&t(),r&&r()}},[]);const x=e=>{let t=0;return Object.values(c).forEach(n=>{t+=n[e]||0}),t},w=e=>{let t=0;return Object.values(d).forEach(n=>{t+=n[e]||0}),t};return(0,Gb.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Gb.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Kitchen Assignment for ",b]}),m&&(0,Gb.jsx)("p",{className:"text-red-500 mb-4",children:m}),y&&(0,Gb.jsx)("p",{className:"text-green-500 mb-4",children:y}),f&&(0,Gb.jsx)("p",{className:"text-blue-500 mb-4",children:"Loading..."}),(0,Gb.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,Gb.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Assign Daily Targets to Kitchens"}),(0,Gb.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0),g(null),v(null);let t=!0;const n=[];for(const a of r){const e=x(a.name)+w(a.name);if(e!==parseFloat(a.quantity)){g(`Total assigned quantity for ${a.name} (${e}) does not match aggregated quantity (${a.quantity}).`),t=!1;break}}if(!t)return void p(!1);const i=r.find(e=>e.forecastId),s=i?i.forecastId:null,o=i?i.forecastWeek:null;a.forEach(e=>{const t=[],i=[];r.forEach(n=>{var r,a;const s=(null===(r=c[e.id])||void 0===r?void 0:r[n.name])||0;s>0&&t.push({...n,quantity:s});const o=(null===(a=d[e.id])||void 0===a?void 0:a[n.name])||0;o>0&&i.push({name:n.name,quantity:o})}),(t.length>0||i.length>0)&&n.push({date:b,kitchenId:e.id,kitchenName:e.name,kitchenManagerId:e.id,items:t,fromPreparedStock:i,status:"Pending Dispersal",forecastId:s,forecastWeek:o})});try{for(const e of n)await qK(e);v("Kitchen assignments created successfully!"),u({}),h({})}catch(l){g(`Failed to create assignments: ${l.message}`),console.error("Error creating assignments:",l)}finally{p(!1)}},className:"space-y-4",children:[r.length>0?(0,Gb.jsxs)("div",{className:"mt-6",children:[(0,Gb.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Aggregated Items:"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,Gb.jsx)("thead",{children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Item (Prepared Stock)"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Total Qty"}),a.map(e=>(0,Gb.jsxs)("th",{className:"py-2 px-4 border-b",children:[e.name," (Cook)"]},e.id)),a.map(e=>(0,Gb.jsxs)("th",{className:"py-2 px-4 border-b",children:[e.name," (Prepared)"]},e.id)),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Total Assigned"})]})}),(0,Gb.jsx)("tbody",{children:r.map(e=>{var t;const n=(null===(t=o.find(t=>t.name===e.name))||void 0===t?void 0:t.quantity)||0;return(0,Gb.jsxs)("tr",{children:[(0,Gb.jsxs)("td",{className:"py-2 px-4 border-b",children:[e.name," (",n,")"]}),(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:e.quantity}),a.map(t=>{var n;return(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:(0,Gb.jsx)("input",{type:"number",min:"0",value:(null===(n=c[t.id])||void 0===n?void 0:n[e.name])||0,onChange:n=>((e,t,n)=>{u(r=>({...r,[e]:{...r[e],[t]:parseFloat(n)||0}}))})(t.id,e.name,n.target.value),className:"w-20 border border-gray-300 rounded-md p-1 text-center"})},t.id)}),a.map(t=>{var r;return(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:(0,Gb.jsx)("input",{type:"number",min:"0",max:n,value:(null===(r=d[t.id])||void 0===r?void 0:r[e.name])||0,onChange:n=>((e,t,n)=>{h(r=>({...r,[e]:{...r[e],[t]:parseFloat(n)||0}}))})(t.id,e.name,n.target.value),className:"w-20 border border-gray-300 rounded-md p-1 text-center"})},t.id)}),(0,Gb.jsxs)("td",{className:"py-2 px-4 border-b font-semibold",children:[x(e.name)+w(e.name),x(e.name)+w(e.name)!==parseFloat(e.quantity)&&(0,Gb.jsx)("span",{className:"text-red-500 ml-2",children:"!"})]})]},e.name)})})]})})]}):(0,Gb.jsx)("p",{children:"No daily targets set for today."}),(0,Gb.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",disabled:f||0===r.length,children:f?"Assigning...":"Assign to Kitchens"})]})]})]})},aQ=()=>{const[e,n]=(0,t.useState)({name:"",unit:"",costPerUnit:""}),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=tQ(e=>{i(e)});return()=>e()},[]);const o=t=>{const{name:r,value:i}=t.target;n({...e,[r]:i})};return(0,Gb.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Gb.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Ingredient Management"}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Add New Ingredient"}),(0,Gb.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{await(async e=>{try{const t=await fp(sf(zb,"ingredients"),e);return console.log("Document written with ID: ",t.id),t.id}catch(t){throw console.error("Error adding document: ",t),t}})({...e,costPerUnit:parseFloat(e.costPerUnit)}),n({name:"",unit:"",costPerUnit:""}),Bt.success("Ingredient added successfully!")}catch(r){Bt.error("Error adding ingredient. Please try again.")}finally{s(!1)}},className:"space-y-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Ingredient Name"}),(0,Gb.jsx)("input",{id:"name",name:"name",type:"text",value:e.name,onChange:o,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit of Measurement"}),(0,Gb.jsx)("input",{id:"unit",name:"unit",type:"text",value:e.unit,onChange:o,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"costPerUnit",className:"block text-sm font-medium text-gray-700",children:"Cost per Base Unit"}),(0,Gb.jsx)("input",{id:"costPerUnit",name:"costPerUnit",type:"number",value:e.costPerUnit,onChange:o,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsx)("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:a?"Adding...":"Add Ingredient"})]})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Registered Ingredients"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Gb.jsx)("thead",{className:"bg-gray-50",children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Gb.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),(0,Gb.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost per Unit"})]})}),(0,Gb.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.unit}),(0,Gb.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.costPerUnit})]},e.id))})]})})]})]})]})},sQ=()=>{const[e,n]=(0,t.useState)({businessName:"",gstin:"",phoneNumber:"",email:"",address:"",fssai:""}),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{const e=of(zb,"business_details","details"),t=await cp(e);t.exists()&&n(t.data()),i(!1)})()},[]);const o=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return r?(0,Gb.jsx)("div",{children:"Loading..."}):(0,Gb.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Gb.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Business Details"}),(0,Gb.jsxs)("div",{className:"space-y-4",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,Gb.jsx)("input",{type:"text",name:"businessName",value:e.businessName,onChange:o,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"GSTIN"}),(0,Gb.jsx)("input",{type:"text",name:"gstin",value:e.gstin,onChange:o,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Gb.jsx)("input",{type:"text",name:"phoneNumber",value:e.phoneNumber,onChange:o,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Gb.jsx)("input",{type:"email",name:"email",value:e.email,onChange:o,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,Gb.jsx)("textarea",{name:"address",value:e.address,onChange:o,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"FSSAI"}),(0,Gb.jsx)("input",{type:"text",name:"fssai",value:e.fssai,onChange:o,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,Gb.jsx)("button",{onClick:async()=>{s(!0);const t=of(zb,"business_details","details");await function(e,t,n){e=ga(e,rf);const r=ga(e.firestore,hf),i=np(e.converter,t,n);return mp(r,[Tf(jf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ol.none())])}(t,e,{merge:!0}),s(!1),alert("Business details saved successfully!")},disabled:a,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:a?"Saving...":"Save"})]})]})},oQ=()=>{const{user:e}=Xb(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)("");(0,t.useEffect)(()=>{const t=pp(Gf(sf(zb,"bulkBuyOrders"),Yf("cohId","==",e.uid)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));o(t),c(!1)},e=>{Bt.error("Failed to fetch bulk buy orders."),c(!1)});return(async()=>{try{const e=(await dp(sf(zb,"ingredients"))).docs.map(e=>({id:e.id,...e.data()}));r(e)}catch(e){Bt.error("Failed to fetch ingredients.")}})(),()=>t()},[e.uid]);return l?(0,Gb.jsx)("div",{children:"Loading..."}):(0,Gb.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Gb.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Create Bulk Buy Order"}),(0,Gb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"ingredient",className:"block text-sm font-medium text-gray-700",children:"Ingredient"}),(0,Gb.jsxs)("select",{id:"ingredient",value:h,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,Gb.jsx)("option",{value:"",children:"Select an ingredient"}),n.map(e=>(0,Gb.jsxs)("option",{value:e.id,children:[e.name," (",e.unit,")"]},e.id))]})]}),(0,Gb.jsxs)("div",{children:[(0,Gb.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,Gb.jsx)("input",{type:"number",id:"quantity",value:p,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),(0,Gb.jsx)("button",{onClick:()=>{if(!h||!p)return void Bt.error("Please select an ingredient and enter a quantity.");const e=n.find(e=>e.id===h);if(!e)return void Bt.error("Invalid ingredient selected.");const t={...e,quantity:parseInt(p,10),totalCost:parseInt(p,10)*e.costPerUnit};a([...i,t]),f(""),m("")},className:"mb-8 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Ingredient"}),i.length>0&&(0,Gb.jsxs)("div",{className:"mb-8",children:[(0,Gb.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),(0,Gb.jsx)("ul",{className:"space-y-2",children:i.map((e,t)=>(0,Gb.jsxs)("li",{className:"p-2 border rounded-md flex justify-between",children:[(0,Gb.jsxs)("span",{children:[e.name," - ",e.quantity," ",e.unit]}),(0,Gb.jsxs)("span",{children:["\u20b9",e.totalCost.toFixed(2)]})]},t))}),(0,Gb.jsxs)("div",{className:"mt-4 text-right font-bold",children:["Total: \u20b9",i.reduce((e,t)=>e+t.totalCost,0).toFixed(2)]})]}),(0,Gb.jsx)("button",{onClick:async()=>{if(0!==i.length){d(!0);try{const t=i.reduce((e,t)=>e+t.totalCost,0);await fp(sf(zb,"bulkBuyOrders"),{cohId:e.uid,createdAt:new Date,status:"Pending Finance Approval",ingredients:i,totalOrderCost:t}),a([]),Bt.success("Bulk buy order submitted successfully!")}catch(t){Bt.error("Failed to submit order.")}finally{d(!1)}}else Bt.error("Please add at least one ingredient to the order.")},disabled:u||0===i.length,className:"px-6 py-3 font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 disabled:bg-gray-400",children:u?"Submitting...":"Submit Order"}),(0,Gb.jsxs)("div",{className:"mt-12",children:[(0,Gb.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"My Bulk Buy Orders"}),(0,Gb.jsx)("div",{className:"overflow-x-auto",children:(0,Gb.jsxs)("table",{className:"min-w-full bg-white",children:[(0,Gb.jsx)("thead",{children:(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Order ID"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Date"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Total Cost"}),(0,Gb.jsx)("th",{className:"py-2 px-4 border-b",children:"Status"})]})}),(0,Gb.jsx)("tbody",{children:s.map(e=>(0,Gb.jsxs)("tr",{children:[(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:e.id}),(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:new Date(1e3*e.createdAt.seconds).toLocaleDateString()}),(0,Gb.jsxs)("td",{className:"py-2 px-4 border-b",children:["\u20b9",e.totalOrderCost.toFixed(2)]}),(0,Gb.jsx)("td",{className:"py-2 px-4 border-b",children:e.status})]},e.id))})]})})]})]})};const lQ=function(){return(0,Gb.jsxs)(rt,{children:[(0,Gb.jsx)(Zt,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,Gb.jsxs)(Se,{children:[(0,Gb.jsx)(we,{path:"/login",element:(0,Gb.jsx)(Jb,{})}),(0,Gb.jsx)(we,{path:"/admin/create-profile",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(nx,{})})}),(0,Gb.jsx)(we,{path:"/admin/recipe-management",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(rQ,{})})}),(0,Gb.jsx)(we,{path:"/admin/kitchen-assignment",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(iQ,{})})}),(0,Gb.jsx)(we,{path:"/admin/ingredient-management",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(aQ,{})})}),(0,Gb.jsx)(we,{path:"/admin/business-details",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(sQ,{})})}),(0,Gb.jsx)(we,{path:"/dashboard",element:(0,Gb.jsx)(ix,{children:(0,Gb.jsx)(rx,{})})}),(0,Gb.jsx)(we,{path:"/Admin/dashboard",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(cx,{})})}),(0,Gb.jsx)(we,{path:"/Admin/input",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(ux,{})})}),(0,Gb.jsx)(we,{path:"/HR&Training/dashboard",element:(0,Gb.jsx)(ix,{roles:["HR & Training"],children:(0,Gb.jsx)(xx,{})})}),(0,Gb.jsx)(we,{path:"/HR&Training/input",element:(0,Gb.jsx)(ix,{roles:["HR & Training"],children:(0,Gb.jsx)(wx,{})})}),(0,Gb.jsx)(we,{path:"/FinanceandAccounts/dashboard",element:(0,Gb.jsx)(ix,{roles:["Finance and Accounts"],children:(0,Gb.jsx)(NK,{})})}),(0,Gb.jsx)(we,{path:"/FinanceandAccounts/input",element:(0,Gb.jsx)(ix,{roles:["Finance and Accounts"],children:(0,Gb.jsx)(jK,{})})}),(0,Gb.jsx)(we,{path:"/BusinessHead/dashboard",element:(0,Gb.jsx)(ix,{roles:["Business Head"],children:(0,Gb.jsx)(UK,{})})}),(0,Gb.jsx)(we,{path:"/BusinessHead/input",element:(0,Gb.jsx)(ix,{roles:["Business Head"],children:(0,Gb.jsx)(zK,{})})}),(0,Gb.jsx)(we,{path:"/CityoperationsHead/dashboard",element:(0,Gb.jsx)(ix,{roles:["City operations Head"],children:(0,Gb.jsx)(QK,{})})}),(0,Gb.jsx)(we,{path:"/CityoperationsHead/input",element:(0,Gb.jsx)(ix,{roles:["City operations Head"],children:(0,Gb.jsx)(YK,{})})}),(0,Gb.jsx)(we,{path:"/city-operations-head/bulk-buy-order",element:(0,Gb.jsx)(ix,{roles:["City operations Head"],children:(0,Gb.jsx)(oQ,{})})}),(0,Gb.jsx)(we,{path:"/ZonalHead/dashboard",element:(0,Gb.jsx)(ix,{roles:["Zonal Head"],children:(0,Gb.jsx)(tW,{})})}),(0,Gb.jsx)(we,{path:"/ZonalHead/input",element:(0,Gb.jsx)(ix,{roles:["Zonal Head"],children:(0,Gb.jsx)(nW,{})})}),(0,Gb.jsx)(we,{path:"/TeamLead/dashboard",element:(0,Gb.jsx)(ix,{roles:["Team Lead"],children:(0,Gb.jsx)(lW,{})})}),(0,Gb.jsx)(we,{path:"/TeamLead/input",element:(0,Gb.jsx)(ix,{roles:["Team Lead"],children:(0,Gb.jsx)(cW,{})})}),(0,Gb.jsx)(we,{path:"/SalesExecutive/dashboard",element:(0,Gb.jsx)(ix,{roles:["Sales Executive"],children:(0,Gb.jsx)(uW,{})})}),(0,Gb.jsx)(we,{path:"/SalesExecutive/input",element:(0,Gb.jsx)(ix,{roles:["Sales Executive"],children:(0,Gb.jsx)(dW,{})})}),(0,Gb.jsx)(we,{path:"/ProcurementManager/dashboard",element:(0,Gb.jsx)(ix,{roles:["Procurement Manager"],children:(0,Gb.jsx)(fW,{})})}),(0,Gb.jsx)(we,{path:"/ProcurementManager/input",element:(0,Gb.jsx)(ix,{roles:["Procurement Manager"],children:(0,Gb.jsx)(pW,{})})}),(0,Gb.jsx)(we,{path:"/StockManager/dashboard",element:(0,Gb.jsx)(ix,{roles:["Stock Manager"],children:(0,Gb.jsx)(bW,{})})}),(0,Gb.jsx)(we,{path:"/StockManager/input",element:(0,Gb.jsx)(ix,{roles:["Stock Manager"],children:(0,Gb.jsx)(xW,{})})}),(0,Gb.jsx)(we,{path:"/KitchenManager/dashboard",element:(0,Gb.jsx)(ix,{roles:["Kitchen Manager"],children:(0,Gb.jsx)(SW,{})})}),(0,Gb.jsx)(we,{path:"/KitchenManager/input",element:(0,Gb.jsx)(ix,{roles:["Kitchen Manager"],children:(0,Gb.jsx)(EW,{})})}),(0,Gb.jsx)(we,{path:"/LogisticsManager/dashboard",element:(0,Gb.jsx)(ix,{roles:["Logistics Manager"],children:(0,Gb.jsx)(_W,{})})}),(0,Gb.jsx)(we,{path:"/LogisticsManager/input",element:(0,Gb.jsx)(ix,{roles:["Logistics Manager"],children:(0,Gb.jsx)(NW,{})})}),(0,Gb.jsx)(we,{path:"/organization-chart",element:(0,Gb.jsx)(ix,{roles:["Admin"],children:(0,Gb.jsx)(eQ,{})})}),(0,Gb.jsx)(we,{path:"*",element:(0,Gb.jsx)(xe,{to:"/login"})})]})]})},cQ=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,Gb.jsx)(t.StrictMode,{children:(0,Gb.jsx)(Yb,{children:(0,Gb.jsx)(lQ,{})})})),cQ()})()})();
//# sourceMappingURL=main.9fcac9fb.js.map